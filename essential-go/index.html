<!DOCTYPE html> 
<html lang='en' xml:lang='en'> 
<head><title></title> 
<meta charset='utf-8' /> 
<meta content='TeX4ht (https://tug.org/tex4ht/)' name='generator' /> 
<meta content='width=device-width,initial-scale=1' name='viewport' /> 
<link href='essential-go.css' rel='stylesheet' type='text/css' /> 
<meta content='essential-go.tex' name='src' /> 
</head><body>
                                                                
                                                                
<div class='center'>
<!-- l. 202 --><p class='noindent'>
</p>
</div>
<!-- l. 202 --><p class='noindent'>
                                                                
                                                                
                                                                
                                                                
</p>
<div class='center'>
<!-- l. 2 --><p class='noindent'>
</p>
</div>
<!-- l. 2 --><p class='noindent'>
                                                                
                                                                
</p><!-- l. 2 --><p class='noindent'>
                                                                
                                                                
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 9 --><p class='noindent'>
   </p><!-- l. 11 --><p class='noindent'><span class='ec-lmssbx-10x-x-220'>Essentials of</span><br /><br />
<span class='ec-lmssbx-10x-x-220'>Go Programming</span><br /><br />
<span class='ec-lmss-17x-x-104'>First Edition</span><br /><br />
<span class='ec-lmssbx-10x-x-180'>Baiju Muthukadan</span>
</p>
</div>
                                                      
                                                                
<!-- l. 1 --><p class='noindent'>
                                                                
                                                                
                                                                
                                                                
</p><!-- l. 4 --><p class='noindent'><span class='ec-lmssbx-10'>Essentials of Go Programming </span><br class='newline' /><span class='ec-lmss-10'>First Edition</span><br class='newline' /><span class='ec-lmri-10'>(English)</span><br class='newline' /><span class='ec-lmssbx-10'>Baiju Muthukadan</span><br class='newline' /><span class='ts1-lmr9-'>©</span><span class='ec-lmtt-9'>2015-2023 </span><span class='ec-lmr-9'>Baiju Muthukadan &lt;baiju.m.mail@gmail.com&gt;</span><br class='newline' />
</p><!-- l. 10 --><p class='noindent'>Essentials of Go Programming <span class='ts1-lmr9-'>© </span>2015-2023 by Baiju Muthukadan is licensed under
Attribution-ShareAlike 4.0 International. To view a copy of this license,
visit:<br class='newline' /><a class='url' href='http://creativecommons.org/licenses/by-sa/4.0/'><span class='ec-lmtt-10'>http://creativecommons.org/licenses/by-sa/4.0/</span></a>
</p><!-- l. 15 --><p class='noindent'>______________________________________<br class='newline' />
</p><!-- l. 17 --><p class='noindent'>Source repository:     <a class='url' href='https://github.com/baijum/essential-go'><span class='ec-lmtt-10'>https://github.com/baijum/essential-go</span></a>
                                                                
                                                                   
   </p>
   <div class='center'>
   <!-- l. 211 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 211 --><p class='noindent'>
                                                                   
                                                                
</p>
<div class='center'>
<!-- l. 214 --><p class='noindent'>
</p><!-- l. 215 --><p class='noindent'><span class='ec-lmri-10'>To my mother Sulochana M.I.</span></p></div>
<!-- l. 218 --><p class='noindent'>
                                                                
                                                                                                  
                                                                                                  
                                                                
</p>
<h2 class='likechapterHead'><a id='x1-1000'></a>Contents</h2>
<div class='tableofcontents'>
<span class='chapterToc'><a href='#Q1-1-3'>
Preface</a></span>
<br /><span class='chapterToc'><a href='#Q1-1-5'>
Acknowledgements</a></span>
<br /><span class='chapterToc'>1 <a href='#x1-40001' id='QQ2-1-6'>Introduction</a></span>
<br /> <span class='sectionToc'>1.1 <a href='#x1-50001.1' id='QQ2-1-7'>Preparations</a></span>
<br /> <span class='sectionToc'>1.2 <a href='#x1-110001.2' id='QQ2-1-15'>Organization of Chapters</a></span>
<br /> <span class='sectionToc'>1.3 <a href='#x1-120001.3' id='QQ2-1-16'>Suggestions to Use this Book</a></span>
<br /><span class='chapterToc'>2 <a href='#x1-140002' id='QQ2-1-18'>Quickstart</a></span>
<br /> <span class='sectionToc'>2.1 <a href='#x1-150002.1' id='QQ2-1-19'>Hello World!</a></span>
<br /> <span class='sectionToc'>2.2 <a href='#x1-160002.2' id='QQ2-1-22'>Building and Running Programs</a></span>
<br /> <span class='sectionToc'>2.3 <a href='#x1-170002.3' id='QQ2-1-23'>The Example Explained</a></span>
<br /> <span class='sectionToc'>2.4 <a href='#x1-180002.4' id='QQ2-1-24'>Organizing Code</a></span>
<br /> <span class='sectionToc'>2.5 <a href='#x1-190002.5' id='QQ2-1-25'>Basics</a></span>
<br /> <span class='sectionToc'>2.6 <a href='#x1-290002.6' id='QQ2-1-68'>Exercises</a></span>
<br /><span class='chapterToc'>3 <a href='#x1-320003' id='QQ2-1-71'>Control Structures</a></span>
<br /> <span class='sectionToc'>3.1 <a href='#x1-330003.1' id='QQ2-1-72'>If</a></span>
<br /> <span class='sectionToc'>3.2 <a href='#x1-390003.2' id='QQ2-1-90'>For</a></span>
<br /> <span class='sectionToc'>3.3 <a href='#x1-460003.3' id='QQ2-1-115'>Switch Cases</a></span>
<br /> <span class='sectionToc'>3.4 <a href='#x1-520003.4' id='QQ2-1-131'>Defer Statements</a></span>
<br /> <span class='sectionToc'>3.5 <a href='#x1-530003.5' id='QQ2-1-138'>Deffered Panic Recover</a></span>
<br /> <span class='sectionToc'>3.6 <a href='#x1-540003.6' id='QQ2-1-141'>Goto</a></span>
<br /> <span class='sectionToc'>3.7 <a href='#x1-550003.7' id='QQ2-1-146'>Exercises</a></span>
<br /><span class='chapterToc'>4 <a href='#x1-580004' id='QQ2-1-149'>Data Structures</a></span>
                                                                
                                                                                                         
   <br /> <span class='sectionToc'>4.1 <a href='#x1-590004.1' id='QQ2-1-150'>Primitive Data Types</a></span>
   <br /> <span class='sectionToc'>4.2 <a href='#x1-660004.2' id='QQ2-1-169'>Constants</a></span>
   <br /> <span class='sectionToc'>4.3 <a href='#x1-690004.3' id='QQ2-1-172'>Arrays</a></span>
   <br /> <span class='sectionToc'>4.4 <a href='#x1-700004.4' id='QQ2-1-175'>Slices</a></span>
   <br /> <span class='sectionToc'>4.5 <a href='#x1-720004.5' id='QQ2-1-187'>Maps</a></span>
   <br /> <span class='sectionToc'>4.6 <a href='#x1-730004.6' id='QQ2-1-188'>Custom Data Types</a></span>
   <br /> <span class='sectionToc'>4.7 <a href='#x1-750004.7' id='QQ2-1-190'>Pointers</a></span>
   <br /> <span class='sectionToc'>4.8 <a href='#x1-770004.8' id='QQ2-1-194'>Exercises</a></span>
   <br /><span class='chapterToc'>5 <a href='#x1-800005' id='QQ2-1-197'>Functions &amp; Methods</a></span>
   <br /> <span class='sectionToc'>5.1 <a href='#x1-810005.1' id='QQ2-1-202'>Parameters</a></span>
   <br /> <span class='sectionToc'>5.2 <a href='#x1-830005.2' id='QQ2-1-208'>Return Values</a></span>
   <br /> <span class='sectionToc'>5.3 <a href='#x1-850005.3' id='QQ2-1-214'>Variadic Functions</a></span>
   <br /> <span class='sectionToc'>5.4 <a href='#x1-860005.4' id='QQ2-1-217'>Anonymous Functions</a></span>
   <br /> <span class='sectionToc'>5.5 <a href='#x1-870005.5' id='QQ2-1-220'>Function as Value</a></span>
   <br /> <span class='sectionToc'>5.6 <a href='#x1-880005.6' id='QQ2-1-223'>Methods</a></span>
   <br /> <span class='sectionToc'>5.7 <a href='#x1-890005.7' id='QQ2-1-228'>Exercises</a></span>
   <br /><span class='chapterToc'>6 <a href='#x1-920006' id='QQ2-1-231'>Interfaces</a></span>
   <br /> <span class='sectionToc'>6.1 <a href='#x1-930006.1' id='QQ2-1-232'>Type with Multiple Interfaces</a></span>
   <br /> <span class='sectionToc'>6.2 <a href='#x1-940006.2' id='QQ2-1-233'>Empty Interface</a></span>
   <br /> <span class='sectionToc'>6.3 <a href='#x1-950006.3' id='QQ2-1-234'>Pointer Receiver</a></span>
   <br /> <span class='sectionToc'>6.4 <a href='#x1-960006.4' id='QQ2-1-235'>Type Assertions</a></span>
   <br /> <span class='sectionToc'>6.5 <a href='#x1-970006.5' id='QQ2-1-236'>Type Switches</a></span>
   <br /> <span class='sectionToc'>6.6 <a href='#x1-980006.6' id='QQ2-1-237'>Exercises</a></span>
   <br /><span class='chapterToc'>7 <a href='#x1-1010007' id='QQ2-1-241'>Concurrency</a></span>
   <br /> <span class='sectionToc'>7.1 <a href='#x1-1020007.1' id='QQ2-1-242'>Goroutine</a></span>
   <br /> <span class='sectionToc'>7.2 <a href='#x1-1030007.2' id='QQ2-1-245'>Channels</a></span>
   <br /> <span class='sectionToc'>7.3 <a href='#x1-1040007.3' id='QQ2-1-248'>Waitgroups</a></span>
   <br /> <span class='sectionToc'>7.4 <a href='#x1-1050007.4' id='QQ2-1-253'>Select</a></span>
   <br /> <span class='sectionToc'>7.5 <a href='#x1-1060007.5' id='QQ2-1-254'>Buffered Channels</a></span>
   <br /> <span class='sectionToc'>7.6 <a href='#x1-1070007.6' id='QQ2-1-257'>Channel Direction</a></span>
   <br /> <span class='sectionToc'>7.7 <a href='#x1-1080007.7' id='QQ2-1-260'>Lazy Initialization Using sync.Once</a></span>
   <br /> <span class='sectionToc'>7.8 <a href='#x1-1090007.8' id='QQ2-1-261'>Exercises</a></span>
                                                                                                         
                                                                
<br /><span class='chapterToc'>8 <a href='#x1-1120008' id='QQ2-1-264'>Packages</a></span>
<br /> <span class='sectionToc'>8.1 <a href='#x1-1130008.1' id='QQ2-1-265'>Creating a Package</a></span>
<br /> <span class='sectionToc'>8.2 <a href='#x1-1140008.2' id='QQ2-1-272'>Package Initialization</a></span>
<br /> <span class='sectionToc'>8.3 <a href='#x1-1150008.3' id='QQ2-1-275'>Documenting Packages</a></span>
<br /> <span class='sectionToc'>8.4 <a href='#x1-1160008.4' id='QQ2-1-276'>Publishing Packages</a></span>
<br /> <span class='sectionToc'>8.5 <a href='#x1-1170008.5' id='QQ2-1-277'>Module</a></span>
<br /> <span class='sectionToc'>8.6 <a href='#x1-1190008.6' id='QQ2-1-279'>Moving Type Across Packages</a></span>
<br /> <span class='sectionToc'>8.7 <a href='#x1-1200008.7' id='QQ2-1-280'>Exercises</a></span>
<br /><span class='chapterToc'>9 <a href='#x1-1230009' id='QQ2-1-283'>Input/Output</a></span>
<br /> <span class='sectionToc'>9.1 <a href='#x1-1240009.1' id='QQ2-1-284'>Command Line Arguments</a></span>
<br /> <span class='sectionToc'>9.2 <a href='#x1-1250009.2' id='QQ2-1-285'>Files</a></span>
<br /> <span class='sectionToc'>9.3 <a href='#x1-1260009.3' id='QQ2-1-291'>Standard Streams</a></span>
<br /> <span class='sectionToc'>9.4 <a href='#x1-1270009.4' id='QQ2-1-294'>Using flag Package</a></span>
<br /> <span class='sectionToc'>9.5 <a href='#x1-1280009.5' id='QQ2-1-295'>String Formatting</a></span>
<br /> <span class='sectionToc'>9.6 <a href='#x1-1290009.6' id='QQ2-1-304'>Using io Package</a></span>
<br /> <span class='sectionToc'>9.7 <a href='#x1-1300009.7' id='QQ2-1-305'>Exercises</a></span>
<br /><span class='chapterToc'>10 <a href='#x1-13300010' id='QQ2-1-309'>Testing</a></span>
<br /> <span class='sectionToc'>10.1 <a href='#x1-13400010.1' id='QQ2-1-314'>Failing a Test</a></span>
<br /> <span class='sectionToc'>10.2 <a href='#x1-13500010.2' id='QQ2-1-315'>Logging Message</a></span>
<br /> <span class='sectionToc'>10.3 <a href='#x1-13600010.3' id='QQ2-1-316'>Failing with Log Message</a></span>
<br /> <span class='sectionToc'>10.4 <a href='#x1-13700010.4' id='QQ2-1-317'>Skipping Test</a></span>
<br /> <span class='sectionToc'>10.5 <a href='#x1-13800010.5' id='QQ2-1-320'>Parallel Running</a></span>
<br /> <span class='sectionToc'>10.6 <a href='#x1-13900010.6' id='QQ2-1-321'>Sub Tests</a></span>
<br /> <span class='sectionToc'>10.7 <a href='#x1-14000010.7' id='QQ2-1-322'>Exercises</a></span>
<br /><span class='chapterToc'>11 <a href='#x1-14300011' id='QQ2-1-327'>Tooling</a></span>
<br /> <span class='sectionToc'>11.1 <a href='#x1-14400011.1' id='QQ2-1-328'>Getting Help</a></span>
<br /> <span class='sectionToc'>11.2 <a href='#x1-14500011.2' id='QQ2-1-329'>Basic Information</a></span>
<br /> <span class='sectionToc'>11.3 <a href='#x1-14900011.3' id='QQ2-1-333'>Building and Running</a></span>
<br /> <span class='sectionToc'>11.4 <a href='#x1-15100011.4' id='QQ2-1-335'>Running Test</a></span>
<br /> <span class='sectionToc'>11.5 <a href='#x1-15200011.5' id='QQ2-1-336'>Formatting Code</a></span>
<br /> <span class='sectionToc'>11.6 <a href='#x1-15300011.6' id='QQ2-1-337'>Displaying Documentation</a></span>
<br /> <span class='sectionToc'>11.7 <a href='#x1-15400011.7' id='QQ2-1-338'>Find Suspicious Code Using Vet</a></span>
                                                                
                                                                                                         
   <br /> <span class='sectionToc'>11.8 <a href='#x1-15500011.8' id='QQ2-1-341'>Exercises</a></span>
   <br /><span class='chapterToc'> <a href='#Q1-1-345'>Appendix A: Answers</a></span>
   <br /><span class='chapterToc'> <a href='#Q1-1-359'>Further Readings</a></span>
   </div>
   <!-- l. 223 --><p class='noindent'>
                                                                                                         
                                                                
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.1'></a><a id='x1-1001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='likechapterHead'><a id='x1-2000'></a>Preface</h2>
<p><a id='Q1-1-3'></a>
  </p><blockquote class='quote'>
  <!-- l. 8 --><p class='noindent'><span class='ec-lmri-10'>For surely there is an end; and thine expectation shall not be cut
  </span><span class='ec-lmri-10'>off. </span>— Proverbs 23:18</p></blockquote>
<!-- l. 11 --><p class='noindent'>If you are looking for a simple and powerful general-purpose programming
language, <span class='ec-lmri-10'>Go </span>would be a great choice. <span class='ec-lmri-10'>Go </span>is an open source software from Google
and the project has lots of community contributions. The project was started in
2007 by Robert Griesemer, Rob Pike, and Ken Thompson. However, it was publicly
released by Google as an open source software in November 2009. <span class='ec-lmri-10'>Go </span>is used by
many organizations in different problem domains. Remember, the search-friendly
word for <span class='ec-lmri-10'>Go </span>is <span class='ec-lmri-10'>Golang</span>.
</p><!-- l. 21 --><p class='noindent'>This book is an introductory book that covers the basics of the Go programming
language. If you are new to programming, I hope this book is going to be useful for
you. If you studied programming a long time ago and are looking for a refresher
program, I would suggest you take a look at the     <a class='url' href='https://scratch.mit.edu'><span class='ec-lmtt-10'>https://scratch.mit.edu</span></a>
website. The <span class='ec-lmri-10'>Scratch </span>programming language website will be helpful for
those who have never programmed seriously. Once you become comfortable
with the fundamental concepts of programming, you can come back to this
book.
</p><!-- l. 31 --><p class='noindent'>I started with Python programming around 2003, and since then, I have worked on
Python for more than a decade. One of my old colleagues introduced me to <span class='ec-lmri-10'>Go </span>in
2013. It was a refreshing experience when I started with Go programming. There
are lots of differences between <span class='ec-lmri-10'>Python </span>and <span class='ec-lmri-10'>Go</span>, but I was impressed with the
simplicity of <span class='ec-lmri-10'>Go </span>in the initial days. The learning curve was very smooth compared
to some other languages that I tried.
</p><!-- l. 39 --><p class='noindent'>When I became interested in Go programming, one of the first things that I decided
was to write a book about it. Writing has been my passion for a long time. I started
writing a blog in 2004 on LiveJournal. I wrote my first book about Zope
component architecture in 2007. Writing is a fun activity; even though,
sometimes it becomes hectic. Since this is a self-published book, there was
                                                                
                                                                                                         
   no pressure on me, so it took quite some time to get this book in good
   shape.
   </p><!-- l. 47 --><p class='noindent'>I have conducted many <span class='ec-lmri-10'>Go </span>workshops in different parts of India. During the
   workshops, I always wanted something more to offer to the participants, and I hope
   this book will fill that vacuum.
   </p><!-- l. 51 --><p class='noindent'>Software development is not just about programming languages. There are other
   skills you need to acquire, such as learning how to use a good text editor/IDE, a
   version control system, and the operating system of your choice. Moreover, pursue
   the learning of other languages and technologies throughout your career. The Go
   programming language leans towards a more object oriented style programming.
   You could also learn functional programming languages like Scheme and
   Haskell.
   </p><!-- l. 60 --><p class='noindent'>Beyond technical skills, your business domain knowledge and soft skills are essential
   for your career growth. Writing more about that would be out of scope in this
   context, so let me leave it there and wish you a successful career at this
   moment.
   </p><!-- l. 67 --><p class='noindent'>Baiju Muthukadan<br class='newline' />Kozhikode, Kerala, India<br class='newline' />May 2023
                                                                                                         
                                                                
<a id='likesection.2'></a><a id='x1-2001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='likechapterHead'><a id='x1-3000'></a>Acknowledgements</h2>
<p><a id='Q1-1-5'></a>
</p><!-- l. 6 --><p class='noindent'>First and foremost, I thank my God for enabling me to write this book. I want to
thank my wife, Nithya and our two sons, Aadidev &amp; Aarav for their love, care,
and support. I also want to thank my colleagues and friends for all the
help.
</p><!-- l. 11 --><p class='noindent'>I have received much feedback from my colleagues, friends, and fellow Go
community members, including Satish V.J., Nurali Virani, Preeti Chandrashekar,
Parvathy V.R., Sunil Malagi, Bilal M.K, Iliyas Shirol, Pratik Shah, and Andrei
Tudor Călin.
</p><!-- l. 16 --><p class='noindent'>The encouragement I received from the Go community is terrific. I am grateful for
being part of the Go community.
</p><!-- l. 229 --><p class='noindent'>
                                                                
                                                                                                         
                                                                                                         
                                                                
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.3'></a><a id='x1-3001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 1</span><br /><a id='x1-40001'></a>Introduction</h2>
  <blockquote class='quote'>
  <!-- l. 8 --><p class='noindent'><span class='ec-lmri-10'>I try to say everything at least three times: first, to introduce it;
  </span><span class='ec-lmri-10'>second, to show it in context; and third, to show it in a different
  </span><span class='ec-lmri-10'>context, or to review it. </span>— Robert J. Chassell (An Introduction to
  Programming in Emacs Lisp)</p></blockquote>
<!-- l. 12 --><p class='noindent'>Computer programming skill helps you to solve many real-world problems.
Programming is a process starting from the formulation of a computing problem to
producing computer programs (software). Computer programming is part of a more
extensive software development process.
</p><!-- l. 17 --><p class='noindent'>Programming involves analysis, design, and implementation of the software. Coding
is the activity of implementing software. Sometimes coding involves more than one
programming language and use of other technologies. Learning a programming
language is a crucial part of the skill required for computer programming or
software development in general.
</p><!-- l. 23 --><p class='noindent'>Using a programming language, we are preparing instructions for a computing
machine. The computing machine includes a desktop computer, laptop, and mobile
phone.
</p><!-- l. 27 --><p class='noindent'>There are many programming languages in use today with different feature sets.
You should learn to pick the right programming language for the problem at hand.
Some languages are more suitable for specific problems. This book provides an
introduction to the Go programming language. Studying the Go programming
should help you to make the right decision about programming language choice for
your projects. If you have already decided to use Go, this book should give an
excellent introduction to Go programming.
</p><!-- l. 35 --><p class='noindent'>Go, also commonly referred to as Golang, is a general-purpose programming
language. Go was initially developed at Google in 2007 by Robert Griesemer, Rob
Pike, and Ken Thompson. Go was publicly released as an open source software in
November 2009 by Google.
</p><!-- l. 40 --><p class='noindent'>Many other programming languages including C, Python, and occam has
inspired the design of the Go programming language. Go programs can run on
many operating systems including GNU/Linux, Windows and Mac OS
X.
</p><!-- l. 44 --><p class='noindent'>You require some preparations to learn Go programming. The next section explains
the preparations required.
</p><!-- l. 47 --><p class='noindent'>This book is for beginners who want to learn to programme. The readers are
expected to have a basic knowledge of computers. This book covers all the
major topics in the Go programming language. Each chapter in this book
                                                                
                                                                                                         
   covers one or two major topics. However many minor topics are introduced
   intermittently.
   </p><!-- l. 52 --><p class='noindent'>This chapter provides an introduction to the language, preparations required to
   start practicing the exercises in this book, organizing code and walk through of
   remaining chapters. Few suggestions for learning Go using this book is given
   towards the end of this chapter.
   </p>
   <h3 class='sectionHead'><span class='titlemark'>1.1   </span> <a id='x1-50001.1'></a>Preparations</h3>
   <!-- l. 59 --><p class='noindent'>Learning a natural language like English, Chinese, and Spanish is not just
   understanding the alphabet and grammar of that particular language. Similarly,
   there are many things that you need to learn to become a good programmer. Even
   though this book is going to focus on Go programming; now we are going to see
   some other topics that you need to learn. This section also explains the
   installation of the Go compiler and setting up the necessary development
   environment.
   </p><!-- l. 67 --><p class='noindent'>Text editors like Notepad, Notepad++, Gedit, and Vim can be used to write Go
   programs. The file that you create using the text file is called source file. The
   source file text is UTF-8 encoded. The Go compiler creates executable
   programs from the source file. You can run the executable program and get
   the output. So, you need a text editor and Go compiler installed in your
   system.
   </p><!-- l. 73 --><p class='noindent'>Depending on your operating system, follow the instruction given below to install
   the Go compiler. If you have difficulty following this, you may get some help from
   your friends to do this step. Later we write a simple Go program and run it to
   validate the steps.
   </p><!-- l. 78 --><p class='noindent'>You can use any text editor to write code. If you are not familiar with any text
   editor, consider using Vim. You can bootstrap Vim configuration for Go
   programming language from this webste:     <a class='url' href='https://vim-bootstrap.com'><span class='ec-lmtt-10'>https://vim-bootstrap.com</span></a>.
   </p><!-- l. 82 --><p class='noindent'>Using a source code management system like Git would be helpful. Keeping all your
   code under version control is highly recommended. You can use a public
   code hosting service like GitHub, Bitbucket, and GitLab to store your
   examples.
   </p><!-- l. 86 --><p class='noindent'>
   </p>
   <h4 class='subsectionHead'><a id='x1-6000'></a>Linux Installation</h4>
   <!-- l. 88 --><p class='noindent'>Go project provides binaries for major operating systems including GNU/Linux.
   You can find 64 bit binaries for GNU/Linux here:     <a class='url' href='https://go.dev/dl'><span class='ec-lmtt-10'>https://go.dev/dl</span></a>
                                                                   
                                                                
</p><!-- l. 91 --><p class='noindent'>The following commands will download and install<a id='dx1-6001'></a> Go compiler in a 64 bit
GNU/Linux system. Before performing these steps, ensure Go compiler is not
installed by running <span class='ec-lmtt-10'>go </span>command. If it prints <span class='ec-lmri-10'>command not found...</span>, you can
proceed with these steps.
</p><!-- l. 96 --><p class='noindent'>These commands must be run as <span class='ec-lmri-10'>root </span>or through <span class='ec-lmri-10'>sudo</span>. If you do not know how to
do it, you can get help from somebody else.
</p>
<!-- l. 99 -->
<pre class='lstlisting' id='listing-1'><span class='label'><a id='x1-6002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>cd</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>/tmp</span> 
</span><span class='label'><a id='x1-6003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>wget</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>https://go.dev/dl/go1.x.linux-amd64.tar.gz</span> 
</span><span class='label'><a id='x1-6004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>tar</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>-C </span><span class='ec-lmtt-9'>/usr/local </span><span class='ec-lmtt-9'>-zxvf </span><span class='ec-lmtt-9'>go1.x.linux-amd64.tar.gz</span></span></pre>

<!-- l. 105 --><p class='noindent'>The first line ensure that current working directory is the <span class='ec-lmtt-10'>/tmp </span>directory.
</p><!-- l. 108 --><p class='noindent'>You should change the version number in the second line and it’s going to download
the 64 bit binary for GNU/Linux. The <span class='ec-lmtt-10'>wget </span>is a command line download manager.
Alternatively you can use <span class='ec-lmtt-10'>curl </span>or any other download manager to download the tar
ball.
</p><!-- l. 113 --><p class='noindent'>The third line extract the downloaded tar ball into <span class='ec-lmtt-10'>/usr/local/go </span>directory.
</p><!-- l. 116 --><p class='noindent'>Now you can exit from the <span class='ec-lmri-10'>root </span>user or stop using <span class='ec-lmri-10'>sudo</span>.
</p><!-- l. 118 --><p class='noindent'>By default Go packages are installed under <span class='ec-lmtt-10'>$HOME/go </span>directory. This directory can
be overridden using <span class='ec-lmtt-10'>GOPATH </span>environment variable. Any binaries installed using <span class='ec-lmtt-10'>go
</span><span class='ec-lmtt-10'>install </span>and <span class='ec-lmtt-10'>go get </span>commands goes into <span class='ec-lmtt-10'>$GOPATH/bin </span>directory.
</p><!-- l. 123 --><p class='noindent'>You can also update PATH environment variable to include new binary locations.
Open the <span class='ec-lmtt-10'>$HOME/.bashrc </span>file in a text editor and enter this lines at the
bottom.
</p>
<!-- l. 127 -->
<pre class='lstlisting' id='listing-2'><span class='label'><a id='x1-6005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>export</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>PATH=$HOME/go/bin:/usr/local/go/bin:$PATH</span></span></pre>
<!-- l. 131 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-7000'></a>Windows Installation</h4>
<!-- l. 133 --><p class='noindent'>There are separate installers<a id='dx1-7001'></a> (MSI files) available for 32 bit and 64 bit
versions of Windows. The 32 bit version MSI file will be named like this:
<span class='ec-lmri-10'>go1.x.y.windows-386.msi </span>(Replace <span class='ec-lmtt-10'>x.y </span>with the current version). Similarly for 64
bit version, the MSI file will be named like this: <span class='ec-lmri-10'>go1.x.y.windows-amd64.msi</span>
(Replace <span class='ec-lmtt-10'>x.y </span>with the current version).
</p><!-- l. 140 --><p class='noindent'>You can download the installers (MSI files) from here:     <a class='url' href='https://go.dev/dl'><span class='ec-lmtt-10'>https://go.dev/dl</span></a>
                                                                
                                                                   
   </p><!-- l. 143 --><p class='noindent'>After downloading the installer file, you can open the MSI file by double
   clicking on that file. This should prompts few things about the installation
   of the Go compiler. The installer place the Go related files in the <span class='ec-lmtt-10'>C:\Go</span>
   directory.
   </p><!-- l. 148 --><p class='noindent'>The installer also put the <span class='ec-lmtt-10'>C:\Go\bin </span>directory in the system <span class='ec-lmtt-10'>PATH </span>environment
   variable. You may need to restart any open command prompts for the change to
   take effect.
   </p><!-- l. 152 --><p class='noindent'>You also need to create a directory to download third party packages from
   github.com or similar sites. The directory can be created at <span class='ec-lmtt-10'>C:\mygo </span>like
   this:
   </p>
   <!-- l. 156 -->
   <pre class='lstlisting' id='listing-3'><span class='label'><a id='x1-7002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>C</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:\&gt;</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>mkdir </span><span class='ec-lmtt-9'>C:\mygo</span></span></pre>
   
<!-- l. 160 --><p class='noindent'>After this you can set <span class='ec-lmtt-10'>GOPATH </span>environment variable to point to this location.
</p>
<!-- l. 163 -->
<pre class='lstlisting' id='listing-4'><span class='label'><a id='x1-7003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>C</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:\&gt;</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>env </span><span class='ec-lmtt-9'>-w </span><span class='ec-lmtt-9'>GOPATH=C:\mygo</span></span></pre>
<!-- l. 167 --><p class='noindent'>You can also append <span class='ec-lmtt-10'>C:\mygo\bin </span>into the <span class='ec-lmtt-10'>PATH </span>environment variable.
</p><!-- l. 170 --><p class='noindent'>If you do not know how to set environment variable, just do a Google search for: <span class='ec-lmri-10'>set
</span><span class='ec-lmri-10'>windows environment variable</span>.
</p><!-- l. 173 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-8000'></a>Hello World!</h4>
<!-- l. 175 --><p class='noindent'>It’s kind of a tradition in teaching programming to introduce a <span class='ec-lmri-10'>Hello World</span>
program as the first program. This program normally prints a <span class='ec-lmri-10'>Hello World </span>to the
console when running.
</p><!-- l. 179 --><p class='noindent'>Here is our hello world program. You can type the source code given below to your
favorite text editor and save it as <span class='ec-lmtt-10'>hello.go</span>.
</p>
<!-- l. 182 -->
<p><a id='x1-8001r1'></a>
<a id='x1-8002'></a>
</p><figcaption class='caption'><span class='id'>Listing 1.1: </span><span class='content'>Hello World! (hello.go)</span></figcaption><!-- tex4ht:label?: x1-8001r  --><pre class='lstlisting' id='listing-5'><span class='label'><a id='x1-8003r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-8004r2'></a></span> 
<span class='label'><a id='x1-8005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-8006r4'></a></span> 
<span class='label'><a id='x1-8007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-8008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!")</span> 
</span><span class='label'><a id='x1-8009r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                           
                                                                
<!-- l. 192 --><p class='noindent'>Once you saved the above source code into a file. You can open your command line
program (bash or cmd.exe) then change to the directory where you saved the
program code and run the above program like this:
</p>
<!-- l. 196 -->
<pre class='lstlisting' id='listing-6'><span class='label'><a id='x1-8010r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>hello.go</span> 
</span><span class='label'><a id='x1-8011r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!</span></span></pre>
<!-- l. 201 --><p class='noindent'>If you see the output as <span class='ec-lmtt-10'>Hello, World!</span>, congratulations! Now you have
successfully installed Go compiler. In fact, the <span class='ec-lmtt-10'>go run </span>command compiled your
code to an executable format and then run that program. The next chapter
explains more about this example.
</p><!-- l. 206 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-9000'></a>Using Git</h4>
<!-- l. 208 --><p class='noindent'>You should be comfortable using a source code management system. As mentioned
above Git<a id='dx1-9001'></a> would be a good choice. You can create an account in GitHub and
publish your example code there. If you do not have any prior experience, you can
spend 2 to 3 days to learn Git.
</p><!-- l. 213 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-10000'></a>Using Command Line</h4>
<!-- l. 215 --><p class='noindent'>You should be comfortable using command line<a id='dx1-10001'></a> interfaces like GNU Bash or
PowerShell. There are many online tutorials available in the Internet to learn shell
commands. If you do not have any prior experience, you can spend few days (3 to 4
days) to learn command line usage.
</p><!-- l. 306 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>1.2   </span> <a id='x1-110001.2'></a>Organization of Chapters</h3>
<!-- l. 308 --><p class='noindent'>The rest of the book is organized into the following chapters. It is recommended to
read the first six chapters in order – that’s until the chapter on interfaces. The
remaining chapters can be read in any order.
                                                                
                                                                                                         
        </p><dl class='description'><dt class='description'>
        <!-- l. 313 --><p class='noindent'>
   <span class='ec-lmbx-10'>Chapter 2: Quickstart</span> </p></dt><dd class='description'>
        <!-- l. 313 --><p class='noindent'>                                                                                  <br class='newline' />This  chapter  provides  a  tutorial  introduction  to  the  language.  It
        introduce  few  basic  topics  in  Go  programming  language.  The  topics
        include Data Types, Variables, Comments, For Loop, Range Clause, If,
        Function, Operators, Slices, and Maps.
        </p></dd><dt class='description'>
        <!-- l. 318 --><p class='noindent'>
   <span class='ec-lmbx-10'>Chapter 3: Control Structures</span> </p></dt><dd class='description'>
        <!-- l. 318 --><p class='noindent'>                                                                                  <br class='newline' />This chapter cover the various control structures like <span class='ec-lmri-10'>goto</span>, <span class='ec-lmri-10'>if condition</span>,
        <span class='ec-lmri-10'>for loop </span>and <span class='ec-lmri-10'>switch case </span>in the language. It goes into details of each of
        these topics.
        </p></dd><dt class='description'>
        <!-- l. 322 --><p class='noindent'>
   <span class='ec-lmbx-10'>Chapter 4: Data Structures</span> </p></dt><dd class='description'>
        <!-- l. 322 --><p class='noindent'>                                                                                  <br class='newline' />This chapter cover data structures. The chapter starts with arrays. Then
        slices, the more useful data structure built on top of array is explained.
        Then  we  looked  at  how  to  define  custom  data  types  using  existing
        primitive types. The struct is introduced which is more useful to create
        custom data types. Pointer is also covered. like <span class='ec-lmri-10'>struct</span>, <span class='ec-lmri-10'>slice </span>and <span class='ec-lmri-10'>map </span>in
        the language.
        </p></dd><dt class='description'>
        <!-- l. 329 --><p class='noindent'>
   <span class='ec-lmbx-10'>Chapter 5: Functions</span> </p></dt><dd class='description'>
        <!-- l. 329 --><p class='noindent'>                                                                                  <br class='newline' />This chapter explained all the major aspects of functions in Go. The
        chapter covered how to send input parameters and return values. It also
        explained about variadic function and anonymous function. This chapter
        briefly also covered methods.
        </p></dd><dt class='description'>
        <!-- l. 334 --><p class='noindent'>
   <span class='ec-lmbx-10'>Chapter 6: Interfaces</span> </p></dt><dd class='description'>
        <!-- l. 334 --><p class='noindent'>                                                                                  <br class='newline' />This chapter explained the concept of interfaces and it’s uses. Interface
        is an important concept in Go. Understanding interfaces and properly
        using it makes the design robust. The chapter covered empty interface.
                                                                                                         
                                                                
  Also, briefly explained about pointer receiver and its significance. Type
  assertions and type switches are also explained.
  </p></dd><dt class='description'>
  <!-- l. 340 --><p class='noindent'>
<span class='ec-lmbx-10'>Chapter 7: Concurrency</span> </p></dt><dd class='description'>
  <!-- l. 340 --><p class='noindent'>                                                                                  <br class='newline' />This  chapter  explained  concurrency  features  of  Go.  Based  on  your
  problem, you can choose channels or other synchronization techniques.
  This  chapter  covered  goroutines  and  channels  usage.  It  covered
  Waitgroups, Select statement. It also covered buffered channels, channel
  direction. The chapter also touched upon <span class='ec-lmri-10'>sync.Once </span>function usage.
  </p></dd><dt class='description'>
  <!-- l. 346 --><p class='noindent'>
<span class='ec-lmbx-10'>Chapter 8: Packages</span> </p></dt><dd class='description'>
  <!-- l. 346 --><p class='noindent'>                                                                                  <br class='newline' />This  chapter  explained  the  Go  package  in  detail.  Package  is  one  of
  building block of a reusable Go program. This chapter explained about
  creating  packages,  documenting  packages,  and  finally  about  publish
  packages. The chapter also covered modules and its usage. Finally it
  explained moving types across packages during refactoring.
  </p></dd><dt class='description'>
  <!-- l. 352 --><p class='noindent'>
<span class='ec-lmbx-10'>Chapter 9: Input/Output</span> </p></dt><dd class='description'>
  <!-- l. 352 --><p class='noindent'>                                                                                  <br class='newline' />This chapter discussed about various input/output related functionalities
  in  Go.  The  chapter  explained  using  command  line  arguments  and
  interactive input. The chaptered using <span class='ec-lmri-10'>flag </span>package. It also explained
  about various string formatting techniques.
  </p></dd><dt class='description'>
  <!-- l. 357 --><p class='noindent'>
<span class='ec-lmbx-10'>Chapter 10: Testing</span> </p></dt><dd class='description'>
  <!-- l. 357 --><p class='noindent'>                                                                                  <br class='newline' />This chapter explained writing tests using the <span class='ec-lmri-10'>testing </span>package. It covered
  how to mark a test as a failure, logging, skipping, and parallel running.
  Also, it briefly touched upon sub-tests.
  </p></dd><dt class='description'>
  <!-- l. 361 --><p class='noindent'>
<span class='ec-lmbx-10'>Chapter 11: Tooling</span> </p></dt><dd class='description'>
                                                                
                                                                                           
        <!-- l. 361 --><p class='noindent'>                                                                                  <br class='newline' />This  chapter  introduced  the  Go  tool.  All  the  Go  commands  were
        explained  in  detail.  Practical  example  usage  was  also  given  for  each
        command. The chapter coverd how to build and run programs, running
        tests, formatting code, and displaying documentation. It also touched
        upon few other handy tools.</p></dd></dl>
   <!-- l. 368 --><p class='noindent'>In addition to the solved exercises, each chapter contains additional problems.
   Answers to these additional problems are given in Appendix A.
   </p><!-- l. 371 --><p class='noindent'>And finally there is an index at the end of the book.
   </p><!-- l. 373 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>1.3   </span> <a id='x1-120001.3'></a>Suggestions to Use this Book</h3>
   <!-- l. 375 --><p class='noindent'>Make sure to setup your system with Go compiler and the environment as
   explained in this chapter. If you are finding it very difficult, you may get help from
   your friends to setup the environment. Use source code management system like Git
   to manage your code. You can write exercises and solve additional problems and
   keep it under version control.
   </p><!-- l. 381 --><p class='noindent'>I would suggest not to copy &amp; paste code from the E-book. Rather you can type
   every examples in this book. This will help you to familiarize the syntax much
   quickly.
   </p><!-- l. 385 --><p class='noindent'>The first 6 chapters, that is from Introduction to Interfaces should be read in order.
   The remaining chapters are based on the first 6 chapters. So, the chapter 7 onward
   can be read in any order.
   </p><!-- l. 389 --><p class='noindent'>
   </p>
   <h3 class='likesectionHead'><a id='x1-13000'></a>Summary</h3>
   <!-- l. 391 --><p class='noindent'>This chapter provided an introduction to Go programming language. We briefly
   discussed about topics required to become a good programmer.
   </p><!-- l. 395 --><p class='noindent'>Then we covered chapter organization in this book. And finally few suggestions for
   readers are given. The next chapter provides a quickstart to programming with Go
   language.
                                                                                                         
                                                                
<a id='likesection.4'></a><a id='x1-13001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 2</span><br /><a id='x1-140002'></a>Quickstart</h2>
  <blockquote class='quote'>
  <!-- l. 7 --><p class='noindent'><span class='ec-lmri-10'>Software engineering is what happens to programming when you
  </span><span class='ec-lmri-10'>add time, and other programmers. </span>– Russ Cox</p></blockquote>
<!-- l. 10 --><p class='noindent'>This chapter walks through few basic topics in Go. You should be able to write
simple programs using Go after reading and practicing the examples given in this
chapter. The next 3 sections revisit the hello world program introduced in the last
chapter. Later we will move on to few basic topics in Go. We will learn about data
types, variables, comments, For loop, range clause, If, functions, operators, slices
and maps.
</p>
<h3 class='sectionHead'><span class='titlemark'>2.1   </span> <a id='x1-150002.1'></a>Hello World!</h3>
<!-- l. 20 --><p class='noindent'>Here is the hello world program introduced in the previous chapter. You can type
the below code to your favorite text editor and save it as <span class='ec-lmtt-10'>hello.go</span>. This program
will print a message, <span class='ec-lmtt-10'>Hello, World! </span>into your console/terminal.
</p>
<!-- l. 25 --><pre class='lstinputlisting' id='listing-7'><span class='label'><a id='x1-15003r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-15004r2'></a></span> 
<span class='label'><a id='x1-15005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-15006r4'></a></span> 
<span class='label'><a id='x1-15007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-15008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!")</span> 
</span><span class='label'><a id='x1-15009r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 27 --><p class='noindent'>You can open your command line program and run the above program like
this::
</p>
<!-- l. 30 -->
<pre class='lstlisting' id='listing-8'><span class='label'><a id='x1-15010r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>hello.go</span> 
</span><span class='label'><a id='x1-15011r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!</span></span></pre>
<!-- l. 35 --><p class='noindent'>What you wrote in the <span class='ec-lmtt-10'>hello.go </span>is a structured document. The characters, words,
spaces, line breaks and the punctuation characters used all are important. In fact,
we followed the "syntax" of Go language. According to Wikipedia, the syntax of a
computer language is the set of rules that defines the combinations of symbols that
are considered to be a correctly structured document or fragment in that
language.
                                                                
                                                                                                         
   </p><!-- l. 43 --><p class='noindent'>The <span class='ec-lmtt-10'>go run </span>command is easy to use when developing programs. However, when you
   want to use this program in production environment, it is better to create
   executable binaries. The next section briefly explain the process of building
   executable binaries and running it.
   </p><!-- l. 48 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>2.2   </span> <a id='x1-160002.2'></a>Building and Running Programs</h3>
   <!-- l. 50 --><p class='noindent'>You can use the <span class='ec-lmtt-10'>go build </span>command to compile the source and create executable
   binary programs. Later this executable can run directly or copied to other similar
   systems and run.
   </p><!-- l. 54 --><p class='noindent'>To compile (build) the hello world program, you can use this command:
   </p>
   <!-- l. 56 -->
   <pre class='lstlisting' id='listing-9'><span class='label'><a id='x1-16001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>build </span><span class='ec-lmtt-9'>hello.go</span></span></pre>
   
<!-- l. 60 --><p class='noindent'>This command produce an an executable file named <span class='ec-lmtt-10'>hello </span>in the current directory
where you run the <span class='ec-lmtt-10'>build </span>command. And you can run this program in a
GNU/Linux system as given below. The <span class='ec-lmtt-10'>./ </span>in the beginning of the command
ensure that you are running the <span class='ec-lmtt-10'>hello </span>program located in the current
directory:
</p>
<!-- l. 66 -->
<pre class='lstlisting' id='listing-10'><span class='label'><a id='x1-16002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>./hello</span> 
</span><span class='label'><a id='x1-16003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!</span></span></pre>
<!-- l. 71 --><p class='noindent'>In Windows, the executable file name ends with <span class='ec-lmtt-10'>.exe</span>. This is how you can run the
executable in Windows:
</p>
<!-- l. 74 -->
<pre class='lstlisting' id='listing-11'><span class='label'><a id='x1-16004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>C</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:\&gt;</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello.exe</span> 
</span><span class='label'><a id='x1-16005r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!</span></span></pre>
<!-- l. 79 --><p class='noindent'>The <span class='ec-lmtt-10'>go build </span>command produce a binary file native to the operating system and
the architecture of the CPU (i386, x86_64, arm etc.)
                                                                                                         
                                                                
</p><!-- l. 83 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>2.3   </span> <a id='x1-170002.3'></a>The Example Explained</h3>
<!-- l. 85 --><p class='noindent'>The first line is a clause defining the name of the package to which the
file belongs. In the above hello world program, the <span class='ec-lmtt-10'>hello.go </span>file belongs
to the the <span class='ec-lmtt-10'>main </span>package because of this clause at the beginning of the
file:
</p>
<!-- l. 90 -->
<pre class='lstlisting' id='listing-12'><span class='label'><a id='x1-17001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span></span></pre>

<!-- l. 94 --><p class='noindent'>A package is a collection of Go source files. Package sources can be spread across
multiple source files in a directory. If you want to produce an executable from your
program, the name of package should be named as <span class='ec-lmtt-10'>main</span>. Always use lowercase
letters for the package names.
</p><!-- l. 100 --><p class='noindent'>The second line has kept as blank for readability. The 3rd line is an <span class='ec-lmtt-10'>import</span>
declaration. The <span class='ec-lmtt-10'>import </span>declaration enable accessing external packages from
the current package. In the above example, <span class='ec-lmtt-10'>fmt </span>package is imported like
this.
</p>
<!-- l. 105 -->
<pre class='lstlisting' id='listing-13'><span class='label'><a id='x1-17002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span></span></pre>
<!-- l. 109 --><p class='noindent'>If a package is imported, it must be used somewhere in the source files. Otherwise,
the compiler will produce an error. As you can see above, the import declaration
starts with a word <span class='ec-lmtt-10'>import </span>followed by the name of the package in double quotes. If
multiple packages need be imported, you can group the imports into a
parenthesis (factored import) to reduce typing. Here is an example for factored
import:
</p>
<!-- l. 117 -->
<pre class='lstlisting' id='listing-14'><span class='label'><a id='x1-17003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-17004r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-17005r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>math</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-17006r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
<!-- l. 124 --><p class='noindent'>The name of the package for the built-in packages will be the name given within
quotes of the import statement. If the import string is a path separated by slash,
then name of the package will be the last part of the string. For example,
"net/http" package name is <span class='ec-lmtt-10'>http</span>. For other third party vendor packages, the name
should be verified within the source code.
                                                                
                                                                                                         
   </p><!-- l. 130 --><p class='noindent'>Names within the imported package can be referred using a dot operator as you can
   see above: <span class='ec-lmtt-10'>fmt.Println</span>. A name is considered as exported if it begins with a
   capital letter. For example, the name <span class='ec-lmtt-10'>Area </span>is an exported name, but <span class='ec-lmtt-10'>area </span>is not
   exported.
   </p><!-- l. 135 --><p class='noindent'>The     <a class='url' href='https://go.dev/play'><span class='ec-lmtt-10'>https://go.dev/play</span></a> site can be used to share Go source code publicly.
   You can also run the programs in the playground.
   </p><!-- l. 138 --><p class='noindent'>Again we have added one blank line after the import statement for readability. The
   fifth line starts with a function definition. In this case, this is a special function
   named <span class='ec-lmtt-10'>main</span>. A function is a collection of instructions or more specifically
   statements. A function definition starts with <span class='ec-lmtt-10'>func </span>keyword followed by function
   name then arguments (parameters) for the function within parenthesis and finally
   statements within curly brackets. The <span class='ec-lmtt-10'>main </span>function is a special function which
   doesn’t accept any arguments. The starting curly bracket should be in the
   same line where function definition started and statements should start in
   the next line. There should be only one <span class='ec-lmtt-10'>main </span>function for an executable
   program.
   </p><!-- l. 149 --><p class='noindent'>Inside the main function, we are calling the <span class='ec-lmtt-10'>Println </span>function available inside the
   <span class='ec-lmtt-10'>fmt </span>package.
   </p>
   <!-- l. 152 -->
   <pre class='lstlisting' id='listing-15'><span class='label'><a id='x1-17007r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!")</span></span></pre>
   
<!-- l. 156 --><p class='noindent'>The above function call is a complete statement in Go. The <span class='ec-lmtt-10'>Println </span>function print
the string into standard output of the terminal/console and also add a new line at
the end of the string.
</p><!-- l. 160 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>2.4   </span> <a id='x1-180002.4'></a>Organizing Code</h3>
<!-- l. 162 --><p class='noindent'>As mentioned above, a package is a collection of Go source files. Package sources
can be spread across multiple source files in a directory. For a given package, all the
variables, functions, types, and constants defined in one source file can be directly
referrenced from other sources files.
</p><!-- l. 167 --><p class='noindent'>A Git repository normally contain one module, located at the root, however it is
possible to add more than one, if necessary. A Go module is a collection of Go
packages that are released together.
</p><!-- l. 171 --><p class='noindent'>To understand the code organization, you also need to understand about Go
module. A file named go.mod there declares the module path: the import path
                                                                                                         
                                                                
prefix for all packages within the module. The module contains the packages in
the directory containing its go.mod file as well as subdirectories of that
directory, up to the next subdirectory containing another go.mod file (if
any).
</p><!-- l. 177 --><p class='noindent'>Note that you don’t need to publish your code to a remote repository before you
can build it. A module can be defined locally without belonging to a repository.
However, it’s a good habit to organize your code as if you will publish it
someday.
</p><!-- l. 182 --><p class='noindent'>Each module’s path not only serves as an import path prefix for its packages, but
also indicates where the go command should look to download it. For example, in
order to download the module golang.org/x/tools, the go command would consult
the repository indicated by https://golang.org/x/tools (described more
here).
</p><!-- l. 187 --><p class='noindent'>An import path is a string used to import a package. A package’s import path is its
module path joined with its subdirectory within the module. For example, the
module github.com/google/go-cmp contains a package in the directory cmp/. That
package’s import path is github.com/google/go-cmp/cmp. Packages in the standard
library do not have a module path prefix.
</p><!-- l. 193 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>2.5   </span> <a id='x1-190002.5'></a>Basics</h3>
<!-- l. 195 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-20000'></a>Data Types</h4>
<!-- l. 197 --><p class='noindent'>Data<a id='dx1-20001'></a> is unorganized facts that requires processing. In programming, the data is
processed and organized to be useful. Data type provides a classification for the
data. Date type is often simply called as <span class='ec-lmri-10'>type</span>. Data type is one of the fundamental
concept in any programming language. In most of the places in this book,
we will say data as "value". More advanced data type is often called data
structures.
</p><!-- l. 206 --><p class='noindent'>Consider an example, you want to work with names of toys in your programs. So,
the values of the "names of toys" is the data. The data type that you can use to
represent this data is called "string". If you are literally writing a string in Go, you
can use a double quote around the names like this:
</p>
<!-- l. 212 -->
                                                                
                                                                                                         
   <pre class='lstlisting' id='listing-16'><span class='label'><a id='x1-20002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sheriff</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Woody"</span> 
</span><span class='label'><a id='x1-20003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Buzz</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Lightyear"</span> 
</span><span class='label'><a id='x1-20004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Jessie</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span></pre>
   
<!-- l. 218 --><p class='noindent'>In the hello world example, we used the string "Hello, World!" literally.
Representation of a string value within source code is called string literal.
</p><!-- l. 222 --><p class='noindent'>Consider a related example, you want to mark whether the toys are male or not.
This type of data is called Boolean data. So, if the toy is male, the value will be
<span class='ec-lmtt-10'>true </span>otherwise <span class='ec-lmtt-10'>false </span>as given below:
</p>
<!-- l. 227 -->
<pre class='lstlisting' id='listing-17'><span class='label'><a id='x1-20005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>{"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sheriff</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Woody",</span> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>true</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-20006r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>{"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Buzz</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Lightyear", </span><span class='ec-lmtt-9'>true}</span> 
</span><span class='label'><a id='x1-20007r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>{"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Jessie</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>       </span><span style='color:#000000'><span class='ec-lmtt-9'>false</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 233 --><p class='noindent'>Apart from <span class='ec-lmri-10'>string</span>, and <span class='ec-lmri-10'>bool</span>, Go has some other data types like <span class='ec-lmri-10'>int</span>, <span class='ec-lmri-10'>byte</span>, <span class='ec-lmri-10'>float64</span>
etc.
</p><!-- l. 236 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-21000'></a>Variables</h4>
<!-- l. 238 --><p class='noindent'>Let’s go back to the hello world example, if you want to print the hello world
message three times. You will be required to write that sentence three times as
given below.
</p>
<!-- l. 242 --><pre class='lstinputlisting' id='listing-18'><span class='label'><a id='x1-21003r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-21004r2'></a></span> 
<span class='label'><a id='x1-21005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-21006r4'></a></span> 
<span class='label'><a id='x1-21007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-21008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!")</span> 
</span><span class='label'><a id='x1-21009r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!")</span> 
</span><span class='label'><a id='x1-21010r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!")</span> 
</span><span class='label'><a id='x1-21011r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 244 --><p class='noindent'>This is where the concept called <span class='ec-lmri-10'>variable</span><a id='dx1-21012'></a> becoming useful. Instead of using the
literal string three times, you can use a short variable name to refer that string
value. The variable is like an alias referring to the data. The name of the
variable is considered as an identifier for the variable. Consider the example
below where a variable named <span class='ec-lmtt-10'>hw </span>is used to refer the "Hello, World!" string
literal.
</p>
<!-- l. 252 -->
                                                                                                         
                                                                
<p><a id='x1-21013r3'></a>
<a id='x1-21014'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.3: </span><span class='content'>Reusing variable</span></figcaption><!-- tex4ht:label?: x1-21013r  --><pre class='lstlisting' id='listing-19'><span class='label'><a id='x1-21015r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-21016r2'></a></span> 
<span class='label'><a id='x1-21017r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-21018r4'></a></span> 
<span class='label'><a id='x1-21019r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-21020r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-21021r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-21022r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-21023r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-21024r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 265 --><p class='noindent'>As you can see in the above example, we are using two special characters (<span class='ec-lmtt-10'>:=</span>) in
between the variable name and the string literal. The colon character immediately
followed by equal character is what you can use to define a short variable
declaration in Go. However, there is a small catch here, the this short syntax for
declaring variable will only work inside a function definition. The Go compiler
identify the type of variable as string. This process of identifying data type
automatically is called <span class='ec-lmri-10'>type inference</span>.
</p><!-- l. 274 --><p class='noindent'>To assign a new value to the variable, you can use <span class='ec-lmtt-10'>= </span>as given in the below
example:
</p>
<!-- l. 277 -->
<p><a id='x1-21025r4'></a>
<a id='x1-21026'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.4: </span><span class='content'>Assign new value to variable</span></figcaption><!-- tex4ht:label?: x1-21025r  --><pre class='lstlisting' id='listing-20'><span class='label'><a id='x1-21027r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-21028r2'></a></span> 
<span class='label'><a id='x1-21029r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-21030r4'></a></span> 
<span class='label'><a id='x1-21031r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-21032r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-21033r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-21034r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Hi, </span><span class='ec-lmtt-9'>New </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-21035r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-21036r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 290 --><p class='noindent'>The output will look like this:
</p>
<!-- l. 292 -->
<pre class='lstlisting' id='listing-21'><span class='label'><a id='x1-21037r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>t4.go</span> 
</span><span class='label'><a id='x1-21038r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!</span> 
</span><span class='label'><a id='x1-21039r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Hi</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>New </span><span class='ec-lmtt-9'>World!</span></span></pre>
<!-- l. 298 --><p class='noindent'>You can also explicitly define the type of variable instead of using the <span class='ec-lmtt-10'>:= </span>syntax. To
define the type of a variable, you can use the keyword <span class='ec-lmtt-10'>var </span>followed by
the name of the type. Later, to assign a string value for the <span class='ec-lmtt-10'>hw </span>variable,
you can use <span class='ec-lmtt-10'>= </span>symbol instead of <span class='ec-lmtt-10'>:=</span>. So, the example we can rewrite like
this.
</p>
<!-- l. 305 -->
<p><a id='x1-21040r5'></a>
<a id='x1-21041'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.5:             </span><span class='content'>Alternate             syntax             for             variable
declaration</span></figcaption><!-- tex4ht:label?: x1-21040r  --><pre class='lstlisting' id='listing-22'><span class='label'><a id='x1-21042r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-21043r2'></a></span> 
<span class='label'><a id='x1-21044r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-21045r4'></a></span> 
<span class='label'><a id='x1-21046r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-21047r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hw </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-21048r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-21049r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-21050r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-21051r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-21052r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 319 --><p class='noindent'>The variable declared outside the function (package level) can access anywhere
within the same package.
</p><!-- l. 322 --><p class='noindent'>Variables declared at the function level must be used. Otherwise, the compiler is
going to throw an error during compilation.
                                                                
                                                                                                         
   </p><!-- l. 325 --><p class='noindent'>The keyword <span class='ec-lmri-10'>var </span>can used to declare more than one variable. You can also
   assign values along with <span class='ec-lmtt-10'>var </span>declaration. Unlike <span class='ec-lmtt-10'>:= </span>syntax give above, the
   variable declaration using <span class='ec-lmri-10'>var </span>keyword can be at package level or inside
   function.
   </p><!-- l. 330 --><p class='noindent'>Here are different ways how you can declare a variable:
   </p>
   <!-- l. 332 -->
   <pre class='lstlisting' id='listing-23'><span class='label'><a id='x1-21053r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>variable </span><span class='ec-lmtt-9'>type</span> 
</span><span class='label'><a id='x1-21054r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>variable </span><span class='ec-lmtt-9'>type </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>value</span> 
</span><span class='label'><a id='x1-21055r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>variable </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>value</span> 
</span><span class='label'><a id='x1-21056r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>variable1, </span><span class='ec-lmtt-9'>variable2 </span><span class='ec-lmtt-9'>type </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>value1, </span><span class='ec-lmtt-9'>value2</span></span></pre>
   
<!-- l. 339 --><p class='noindent'>If value is not given, a default "zero" value will be assigned. The zero value is: 0 for
numeric types (int, int32 etc.), false for Boolean type, and empty string for
strings.
</p><!-- l. 343 --><p class='noindent'>Here are a few examples.
</p>
<!-- l. 345 -->
<pre class='lstlisting' id='listing-24'><span class='label'><a id='x1-21057r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-21058r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age </span><span class='ec-lmtt-9'>int </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>24</span> 
</span><span class='label'><a id='x1-21059r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>length </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>36</span> 
</span><span class='label'><a id='x1-21060r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>width, </span><span class='ec-lmtt-9'>height </span><span class='ec-lmtt-9'>int </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>3, </span><span class='ec-lmtt-9'>6</span></span></pre>
<!-- l. 352 --><p class='noindent'>The same examples using short declaration look like this.
</p>
<!-- l. 354 -->
<pre class='lstlisting' id='listing-25'><span class='label'><a id='x1-21061r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>""</span> 
</span><span class='label'><a id='x1-21062r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>24</span> 
</span><span class='label'><a id='x1-21063r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>length</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>36</span> 
</span><span class='label'><a id='x1-21064r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>width</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>height </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>3, </span><span class='ec-lmtt-9'>6</span></span></pre>
<!-- l. 361 --><p class='noindent'>We used names like <span class='ec-lmtt-10'>hw</span>, <span class='ec-lmtt-10'>name</span>, <span class='ec-lmtt-10'>age</span>, <span class='ec-lmtt-10'>length </span>etc. as identifiers for variables. An
identifier should start with an alphabet or underscore, and it can contain digits
afterwards. But there are certain reserved words called keywords which are not
allowed to be used as identifiers. We have already seen some keywords like <span class='ec-lmtt-10'>package</span>,
<span class='ec-lmtt-10'>import</span>, <span class='ec-lmtt-10'>func </span>and <span class='ec-lmtt-10'>var</span>. In the next few sections, we are going to see some
more keywords like <span class='ec-lmtt-10'>for</span>, <span class='ec-lmtt-10'>if </span>etc. These keywords has special meaning in the
language.
</p><!-- l. 372 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-22000'></a>Comments</h4>
<!-- l. 374 --><p class='noindent'>Writing documentation helps the users to understand the code better. Go provides
syntax to write documentation in the form of comments<a id='dx1-22001'></a>. The comments will be
written along with source code. Comments are ignored by the compiler. Usually
comments are written for two purpose:
                                                                                                         
                                                                
</p>
  <ul class='itemize1'>
  <li class='itemize'>To explain complex logic or remarks about part of code
  </li>
  <li class='itemize'>Application programming interface (API) documentation</li></ul>
<!-- l. 385 --><p class='noindent'>There are two kinds of comments, the one form is a multi-line comment and the
other form only allows single line comment.
</p><!-- l. 388 --><p class='noindent'>The multi-line comment starts with <span class='ec-lmtt-10'>/* </span>and ends with <span class='ec-lmtt-10'>*/</span>. And everything in
between is considered as comments.
</p><!-- l. 392 --><p class='noindent'>Here is a multi-line comment to document the package named <span class='ec-lmtt-10'>plus</span>. As you can see
here, the comment is used to give a brief description about the package and two
example usages are also given.
</p>
<!-- l. 397 -->
<p><a id='x1-22002r6'></a>
<a id='x1-22003'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.6: </span><span class='content'>Package level comment</span></figcaption><!-- tex4ht:label?: x1-22002r  --><pre class='lstlisting' id='listing-26'><span class='label'><a id='x1-22004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/*</span></span> 
<span class='label'><a id='x1-22005r2'></a><span class='ec-lmr-8'>2</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>plus </span><span class='ec-lmtt-9'>provides </span><span class='ec-lmtt-9'>utilities </span><span class='ec-lmtt-9'>for </span><span class='ec-lmtt-9'>Google+</span> 
</span><span class='label'><a id='x1-22006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sign</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>In</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(server-side </span><span class='ec-lmtt-9'>apps)</span> 
</span><span class='label'><a id='x1-22007r4'></a></span> 
<span class='label'><a id='x1-22008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Examples</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-22009r6'></a></span> 
<span class='label'><a id='x1-22010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>accessToken</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>idToken, </span><span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>plus.GetTokens(code, </span><span class='ec-lmtt-9'>clientID,</span> 
</span><span class='label'><a id='x1-22011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>                                                    </span><span style='color:#000000'><span class='ec-lmtt-9'>clientSecret</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-22012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-22013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Fatal</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>getting </span><span class='ec-lmtt-9'>tokens: </span><span class='ec-lmtt-9'>", </span><span class='ec-lmtt-9'>err)</span> 
</span><span class='label'><a id='x1-22014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-22015r12'></a></span> 
<span class='label'><a id='x1-22016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>gplusID</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>plus.DecodeIDToken(idToken)</span> 
</span><span class='label'><a id='x1-22017r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-22018r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Fatal</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>decoding </span><span class='ec-lmtt-9'>ID </span><span class='ec-lmtt-9'>token: </span><span class='ec-lmtt-9'>", </span><span class='ec-lmtt-9'>err)</span> 
</span><span class='label'><a id='x1-22019r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-22020r17'></a><span class='ec-lmr-8'>17</span></span><span style='color:#000000'><span class='ec-lmtt-9'>*/</span></span> 
<span class='label'><a id='x1-22021r18'></a><span class='ec-lmr-8'>18</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>plus</span></span></pre>

<!-- l. 418 --><p class='noindent'>The other form of comments is inline comments and it starts with two forward
slashes (<span class='ec-lmtt-10'>//</span>). All the characters till end of line is treated as comments.
Even if you have any valid code within comment, it will not be considered
by compiler to produce the executable binary. Here is an example line
comment:
</p>
<!-- l. 424 --><pre class='lstinputlisting' id='listing-27'><span class='label'><a id='x1-22023r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>SayHello </span><span class='ec-lmtt-9'>returns </span><span class='ec-lmtt-9'>wishing </span><span class='ec-lmtt-9'>message </span><span class='ec-lmtt-9'>based </span><span class='ec-lmtt-9'>on </span><span class='ec-lmtt-9'>input</span> 
</span><span class='label'><a id='x1-22024r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>SayHello(name </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-22025r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>"" </span><span class='ec-lmtt-9'>{ </span><span class='ec-lmtt-9'>// </span><span class='ec-lmtt-9'>check </span><span class='ec-lmtt-9'>for </span><span class='ec-lmtt-9'>empty </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-22026r4'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-22027r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-22028r6'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>" </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>name </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>"!"</span> 
</span><span class='label'><a id='x1-22029r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-22030r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 426 --><p class='noindent'>In the above example the first line is a line comment. The “godoc” and similar tool
treated this comment as an API documentation.
</p><!-- l. 429 --><p class='noindent'>There is another comment in the line where name equality with empty string is
checked. These kind of comment helps the reader of source code to understand
what that attribute is used for.
                                                                
                                                                                                         
   </p><!-- l. 433 --><p class='noindent'>
   </p>
   <h4 class='subsectionHead'><a id='x1-23000'></a>For Loop</h4>
   <!-- l. 435 --><p class='noindent'>Repeating certain process is a common requirement in programming. The repetition
   process aiming a result is called iteration. In Go, the iteration is performed by using
   the <span class='ec-lmtt-10'>for</span><a id='dx1-23001'></a> loop block.
   </p><!-- l. 440 --><p class='noindent'>In the previous section about variable, we printed the <span class='ec-lmtt-10'>Hello, World! </span>message
   three times. As you can see there, we repeatedly printed the same message. So,
   instead of typing the same print statement again and again, we can use a <span class='ec-lmtt-10'>for </span>loop
   as given below.
   </p>
   <!-- l. 446 -->
   <pre class='lstlisting' id='listing-28'><span class='label'><a id='x1-23002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-23003r2'></a></span> 
<span class='label'><a id='x1-23004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-23005r4'></a></span> 
<span class='label'><a id='x1-23006r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-23007r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-23008r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>3; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-23009r8'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-23010r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-23011r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 459 --><p class='noindent'>The for loop starts with a variable initialization, then semi-colon, then a condition
which evaluate <span class='ec-lmtt-10'>true </span>or <span class='ec-lmtt-10'>false</span>, again one more semi-colon and an expression to
increment value. After these three parts, the block starts with a curly bracket. You
can write any number of statements within the block. In the above example, we are
calling the <span class='ec-lmtt-10'>Println </span>function from <span class='ec-lmtt-10'>fmt </span>package to print the hello world
message.
</p><!-- l. 467 --><p class='noindent'>In the above example, the value <span class='ec-lmtt-10'>i </span>was initialized an integer value of zero. In the
second part, the condition is checking whether the value of <span class='ec-lmtt-10'>i </span>is less than 3.
Finally, in the last part, the value of <span class='ec-lmtt-10'>i </span>is incremented by one using the
<span class='ec-lmtt-10'>++ </span>operator. We will look into operators in another section later in this
chapter.
</p><!-- l. 474 --><p class='noindent'>Here is another example <span class='ec-lmtt-10'>for </span>loop to get sum of values starting from 0 up to
10.
</p>
<!-- l. 477 -->
<p><a id='x1-23012r7'></a>
<a id='x1-23013'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.7: </span><span class='content'>For loop (sum.go)</span></figcaption><!-- tex4ht:label?: x1-23012r  --><pre class='lstlisting' id='listing-29'><span class='label'><a id='x1-23014r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-23015r2'></a></span> 
<span class='label'><a id='x1-23016r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-23017r4'></a></span> 
<span class='label'><a id='x1-23018r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-23019r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0</span> 
</span><span class='label'><a id='x1-23020r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>10; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-23021r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>+= </span><span class='ec-lmtt-9'>i</span> 
</span><span class='label'><a id='x1-23022r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-23023r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-23024r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 491 --><p class='noindent'>The initialization and increment part are optional as you can see below.
</p>
<!-- l. 494 -->
<p><a id='x1-23025r8'></a>
<a id='x1-23026'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.8: </span><span class='content'>For loop (sum2.go)</span></figcaption><!-- tex4ht:label?: x1-23025r  --><pre class='lstlisting' id='listing-30'><span class='label'><a id='x1-23027r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-23028r2'></a></span> 
<span class='label'><a id='x1-23029r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-23030r4'></a></span> 
<span class='label'><a id='x1-23031r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-23032r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>1</span> 
</span><span class='label'><a id='x1-23033r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sum </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>1000 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-23034r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>+= </span><span class='ec-lmtt-9'>sum</span> 
</span><span class='label'><a id='x1-23035r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-23036r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-23037r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                           
                                                                
<!-- l. 508 --><p class='noindent'>An infinite loop can be created using a <span class='ec-lmtt-10'>for </span>without any condition as given
below.
</p>
<!-- l. 511 -->
<p><a id='x1-23038r9'></a>
<a id='x1-23039'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.9:                                      </span><span class='content'>For                                      loop
(sum2.go)</span></figcaption><!-- tex4ht:label?: x1-23038r  --><pre class='lstlisting' id='listing-31'><span class='label'><a id='x1-23040r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-23041r2'></a></span> 
<span class='label'><a id='x1-23042r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-23043r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-23044r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-23045r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 520 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-24000'></a>If</h4>
<!-- l. 522 --><p class='noindent'>One of the common logic that is required for programming is branching logic. Based
on certain criteria you may need to perform some actions. This could be a deviation
from normal flow of your instructions. Go provides <span class='ec-lmtt-10'>if</span><a id='dx1-24001'></a> conditions for branching
logic.
</p><!-- l. 528 --><p class='noindent'>Consider a simple scenario, based on money available you want to buy vehicles. You
want to buy a bike, but if more money is available you also want to buy a
car.
</p>
<!-- l. 532 -->
<p><a id='x1-24002r10'></a>
<a id='x1-24003'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.10: </span><span class='content'>If control structure (buy.go)</span></figcaption><!-- tex4ht:label?: x1-24002r  --><pre class='lstlisting' id='listing-32'><span class='label'><a id='x1-24004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-24005r2'></a></span> 
<span class='label'><a id='x1-24006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-24007r4'></a></span> 
<span class='label'><a id='x1-24008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-24009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>money</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>10000</span> 
</span><span class='label'><a id='x1-24010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>bike.")</span> 
</span><span class='label'><a id='x1-24011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>money </span><span class='ec-lmtt-9'>&gt; </span><span class='ec-lmtt-9'>15000 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-24012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>also </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>car.")</span> 
</span><span class='label'><a id='x1-24013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-24014r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 546 --><p class='noindent'>You can save the above program in a file named <span class='ec-lmtt-10'>buy.go </span>and run it using <span class='ec-lmtt-10'>go run</span>.
It’s going to print like this:
</p>
<!-- l. 549 -->
<pre class='lstlisting' id='listing-33'><span class='label'><a id='x1-24015r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>buy.go</span> 
</span><span class='label'><a id='x1-24016r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>bike.</span></span></pre>
<!-- l. 554 --><p class='noindent'>As you can see, the print statement in the line number 9 didn’t print. Because that
statement is within a condition block. The condition is <span class='ec-lmtt-10'>money &gt; 15000</span>, which is
not correct. You can change the program and alter the money value in line number
7 to an amount higher than 15000. Now you can run the program again and see the
output.
                                                                
                                                                                                         
   </p><!-- l. 560 --><p class='noindent'>Now let’s consider another scenario where you either want to buy a bike or car but
   not both. The <span class='ec-lmtt-10'>else </span>block associated with <span class='ec-lmtt-10'>if </span>condition will be useful for
   this.
   </p>
   <!-- l. 564 -->
   <p><a id='x1-24017r11'></a>
   <a id='x1-24018'></a>
   </p><figcaption class='caption'><span class='id'>Listing 2.11: </span><span class='content'>If with else block</span></figcaption><!-- tex4ht:label?: x1-24017r  --><pre class='lstlisting' id='listing-34'><span class='label'><a id='x1-24019r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-24020r2'></a></span> 
<span class='label'><a id='x1-24021r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-24022r4'></a></span> 
<span class='label'><a id='x1-24023r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-24024r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>money</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>20000</span> 
</span><span class='label'><a id='x1-24025r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>money </span><span class='ec-lmtt-9'>&gt; </span><span class='ec-lmtt-9'>15000 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-24026r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>car.")</span> 
</span><span class='label'><a id='x1-24027r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-24028r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>bike.")</span> 
</span><span class='label'><a id='x1-24029r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-24030r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 579 --><p class='noindent'>You can save the above program in a file named <span class='ec-lmtt-10'>buy2.go </span>and run it using <span class='ec-lmtt-10'>go run</span>.
It’s going to print like this:
</p>
<!-- l. 582 -->
<pre class='lstlisting' id='listing-35'><span class='label'><a id='x1-24031r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>buy2.go</span> 
</span><span class='label'><a id='x1-24032r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>car.</span></span></pre>
<!-- l. 587 --><p class='noindent'>Similar to <span class='ec-lmtt-10'>for </span>loop, the <span class='ec-lmtt-10'>if </span>statement can start with a short statement to execute
before the condition. See the example given below.
</p>
<!-- l. 591 -->
<p><a id='x1-24033r12'></a>
<a id='x1-24034'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.12: </span><span class='content'>If with initialization statement</span></figcaption><!-- tex4ht:label?: x1-24033r  --><pre class='lstlisting' id='listing-36'><span class='label'><a id='x1-24035r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-24036r2'></a></span> 
<span class='label'><a id='x1-24037r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-24038r4'></a></span> 
<span class='label'><a id='x1-24039r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-24040r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>money </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>20000; </span><span class='ec-lmtt-9'>money </span><span class='ec-lmtt-9'>&gt; </span><span class='ec-lmtt-9'>15000 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-24041r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>car.")</span> 
</span><span class='label'><a id='x1-24042r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-24043r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>bike.")</span> 
</span><span class='label'><a id='x1-24044r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-24045r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 605 --><p class='noindent'>A variable that is declared along with <span class='ec-lmtt-10'>if </span>statement is only available within the <span class='ec-lmtt-10'>if</span>
and <span class='ec-lmtt-10'>else </span>blocks.
</p><!-- l. 608 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-25000'></a>Function</h4>
<!-- l. 610 --><p class='noindent'>Function<a id='dx1-25001'></a> is a collection of statements. Functions enables code reusability. Function
can accept arguments and return values. To understand the idea, consider this
mathematical function:
</p>
<figure class='figure'> 

                                                                                                         
                                                                
                                                                
                                                                                                         
   <!-- l. 616 --><p class='noindent'><img alt='32f=.(1r4)r ' src='essential-go0x.svg' />
   <a id='x1-25002r1'></a>
   </p>
   <figcaption class='caption'><span class='id'>Figure 2.1: </span><span class='content'>Mathematical function for area of a circle
   </span></figcaption><!-- tex4ht:label?: x1-25002r1  -->
                                                                                                         
                                                                
</figure>
<!-- l. 625 --><p class='noindent'>This function square the input value and multiply with 3.14. Depending on the
input value the output varies.
</p>
<figure class='figure'> 

                                                                
                                                                                                         
                                                                                                         
                                                                
<!-- l. 630 --><p class='noindent'><img alt='r3.12f(r)y4r  ' src='essential-go1x.svg' />
<a id='x1-25003r2'></a>
</p>
<figcaption class='caption'><span class='id'>Figure 2.2: </span><span class='content'>Blackbox representation of a function
</span></figcaption><!-- tex4ht:label?: x1-25003r2  -->
                                                                
                                                                                                         
   </figure>
   <!-- l. 643 --><p class='noindent'>As you can see in the above diagram, <span class='ec-lmtt-10'>r </span>is the input and <span class='ec-lmtt-10'>y </span>is the output. A function
   in Go can take input arguments and perform actions and return values. A simple
   implementation of this function in Go looks like this.
   </p>
   <!-- l. 648 -->
   <pre class='lstlisting' id='listing-37'><span class='label'><a id='x1-25004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area(r </span><span class='ec-lmtt-9'>float64) </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-25005r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r</span> 
</span><span class='label'><a id='x1-25006r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 654 --><p class='noindent'>The function declaration starts with <span class='ec-lmtt-10'>func </span>keyword. In the above example, <span class='ec-lmtt-10'>Area </span>is
the function name which can be later used to call the function. The arguments that
can be received by this function is given within brackets. The line where
function definition started should end with an opening curly bracket. The
statements can be written in the next line on wards until the closing curly
bracket.
</p><!-- l. 661 --><p class='noindent'>Here is a complete example with usage of the Area function.
</p>
<!-- l. 663 -->
<p><a id='x1-25007r13'></a>
<a id='x1-25008'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.13: </span><span class='content'>Function usage</span></figcaption><!-- tex4ht:label?: x1-25007r  --><pre class='lstlisting' id='listing-38'><span class='label'><a id='x1-25009r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-25010r2'></a></span> 
<span class='label'><a id='x1-25011r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-25012r4'></a></span> 
<span class='label'><a id='x1-25013r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area </span><span class='ec-lmtt-9'>return </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle </span><span class='ec-lmtt-9'>for </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>given </span><span class='ec-lmtt-9'>radius</span> 
</span><span class='label'><a id='x1-25014r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area(r </span><span class='ec-lmtt-9'>float64) </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-25015r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r</span> 
</span><span class='label'><a id='x1-25016r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-25017r9'></a></span> 
<span class='label'><a id='x1-25018r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-25019r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>area</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Area(5.0)</span> 
</span><span class='label'><a id='x1-25020r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-25021r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 679 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>Area </span>function is called in line number 11 with an
argument of <span class='ec-lmtt-10'>5.0</span>. We are using the short variable declaration. The type of
the variable <span class='ec-lmtt-10'>area </span>will be <span class='ec-lmtt-10'>float64 </span>as the <span class='ec-lmtt-10'>Area </span>function returns with that
type.
</p>
<h4 class='subsectionHead'><a id='x1-26000'></a>Operators</h4>
<!-- l. 686 --><p class='noindent'>Programming languages use operators<a id='dx1-26001'></a> to simplify the usage. Operators behave
more or less like functions. More specifically, operators combine operands to form
expressions. We have already seen few operators like <span class='ec-lmtt-10'>:=</span>, <span class='ec-lmtt-10'>=</span>, <span class='ec-lmtt-10'>+=</span>, <span class='ec-lmtt-10'>++</span>, <span class='ec-lmtt-10'>*</span>, <span class='ec-lmtt-10'>&gt; </span>and
<span class='ec-lmtt-10'>&lt;</span>.
</p><!-- l. 693 --><p class='noindent'>The <span class='ec-lmtt-10'>:=</span>, <span class='ec-lmtt-10'>=</span>, <span class='ec-lmtt-10'>+= </span>are assignment operators. The <span class='ec-lmtt-10'>* </span>is the multiplication operator. The <span class='ec-lmtt-10'>&gt;</span>
and <span class='ec-lmtt-10'>&lt; </span>are comparison operators.
</p><!-- l. 697 --><p class='noindent'>Sometimes logical conditions should be checked to proceed with certain steps.
Logical operators does these kind kind of checking. Let’s say you want to
check whether a particular value is divisible by 3 and 5. You can do it like
this.
                                                                                                         
                                                                
</p>
<!-- l. 702 -->
<pre class='lstlisting' id='listing-39'><span class='label'><a id='x1-26002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i%3 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-26003r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i%5 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-26004r3'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>statements </span><span class='ec-lmtt-9'>goes </span><span class='ec-lmtt-9'>here</span> 
</span><span class='label'><a id='x1-26005r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-26006r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 710 --><p class='noindent'>The same thing can be achieved using conditional AND logical operator (<span class='ec-lmtt-10'>&amp;&amp;</span>) like
this.
</p>
<!-- l. 713 -->
<pre class='lstlisting' id='listing-40'><span class='label'><a id='x1-26007r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i%3 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>&amp;&amp; </span><span class='ec-lmtt-9'>i%5 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-26008r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>statements </span><span class='ec-lmtt-9'>goes </span><span class='ec-lmtt-9'>here</span> 
</span><span class='label'><a id='x1-26009r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 719 --><p class='noindent'>Apart from the conditional AND, there are conditional OR (<span class='ec-lmtt-10'>||</span>) and NOT (<span class='ec-lmtt-10'>!</span>)
logical operators. We will see more about operators in the next chapter.
</p><!-- l. 724 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-27000'></a>Slices</h4>
<!-- l. 726 --><p class='noindent'>Slice<a id='dx1-27001'></a> is a sequence of values of the same type. In computer science terminology, it’s
a homogeneous aggregate data type. So, a slice can contain elements of only one
type of data. However, it can hold a varying number of elements. It can
expand and shrink the number of values. <span class='ec-lmtt-10'>[]T </span>is a slice with elements of type
T.
</p><!-- l. 733 --><p class='noindent'>The number of values in the slice is called the length of that slice. The slice type
<span class='ec-lmtt-10'>[]T </span>is a slice of type <span class='ec-lmtt-10'>T</span>. Here is an example slice of color names:
</p>
<!-- l. 737 -->
<pre class='lstlisting' id='listing-41'><span class='label'><a id='x1-27002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span></span></pre>
<!-- l. 741 --><p class='noindent'>In the above example, the length of slice is <span class='ec-lmtt-10'>3 </span>and the slice values are string data.
The <span class='ec-lmtt-10'>len </span>function gives the length of slice. See this complete example:
</p>
<!-- l. 745 -->
<p><a id='x1-27003r14'></a>
<a id='x1-27004'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.14: </span><span class='content'>Printing slice values</span></figcaption><!-- tex4ht:label?: x1-27003r  --><pre class='lstlisting' id='listing-42'><span class='label'><a id='x1-27005r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-27006r2'></a></span> 
<span class='label'><a id='x1-27007r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-27008r4'></a></span> 
<span class='label'><a id='x1-27009r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-27010r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-27011r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Len</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(colors))</span> 
</span><span class='label'><a id='x1-27012r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i, </span><span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>colors </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-27013r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v)</span> 
</span><span class='label'><a id='x1-27014r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-27015r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                
                                                                           
   <!-- l. 759 --><p class='noindent'>If you save the above program in a file named <span class='ec-lmtt-10'>colors.go </span>and run it, you will get
output like this:
</p>
<!-- l. 762 -->
<pre class='lstlisting' id='listing-43'><span class='label'><a id='x1-27016r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>colors.go</span> 
</span><span class='label'><a id='x1-27017r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Len</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3</span> 
</span><span class='label'><a id='x1-27018r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>0</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Red</span> 
</span><span class='label'><a id='x1-27019r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Green</span> 
</span><span class='label'><a id='x1-27020r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Blue</span></span></pre>
<!-- l. 770 --><p class='noindent'>The <span class='ec-lmtt-10'>range</span><a id='dx1-27021'></a> clause loop over through elements in a variety of data structures
including slice and map. Range gives index and the value. In the above example,
the index is assigned to <span class='ec-lmtt-10'>i </span>and value to <span class='ec-lmtt-10'>v </span>variables. As you can see above, each
iteration change the value of <span class='ec-lmtt-10'>i </span>&amp; <span class='ec-lmtt-10'>v</span>.
</p><!-- l. 776 --><p class='noindent'>If you are not interested in the index but just the value of string, you can use blank
identifier (variable). In Go, underscore is considered as blank identifier which you
need not to define and you can assign anything to it. See the example written below
to print each string ignoring the index.
</p>
<!-- l. 782 -->
<p><a id='x1-27022r15'></a>
<a id='x1-27023'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.15: </span><span class='content'>Range loop with index ignored</span></figcaption><!-- tex4ht:label?: x1-27022r  --><pre class='lstlisting' id='listing-44'><span class='label'><a id='x1-27024r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-27025r2'></a></span> 
<span class='label'><a id='x1-27026r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-27027r4'></a></span> 
<span class='label'><a id='x1-27028r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-27029r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-27030r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Len</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(colors))</span> 
</span><span class='label'><a id='x1-27031r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_, </span><span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>colors </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-27032r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-27033r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-27034r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 796 --><p class='noindent'>If you just want to get the index without value, you can use just use one variable to
the left of range clause as give below.
</p>
<!-- l. 799 -->
<p><a id='x1-27035r16'></a>
<a id='x1-27036'></a>
</p><figcaption class='caption'><span class='id'>Listing 2.16: </span><span class='content'>Range loop without index</span></figcaption><!-- tex4ht:label?: x1-27035r  --><pre class='lstlisting' id='listing-45'><span class='label'><a id='x1-27037r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-27038r2'></a></span> 
<span class='label'><a id='x1-27039r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-27040r4'></a></span> 
<span class='label'><a id='x1-27041r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-27042r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-27043r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Len</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(colors))</span> 
</span><span class='label'><a id='x1-27044r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>colors </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-27045r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>colors[i])</span> 
</span><span class='label'><a id='x1-27046r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-27047r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 813 --><p class='noindent'>In the above example, we are accessing the value using the index syntax:
<span class='ec-lmtt-10'>colors[i]</span>.
</p><!-- l. 816 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-28000'></a>Maps</h4>
<!-- l. 818 --><p class='noindent'>Map<a id='dx1-28001'></a> is another commonly used complex data structure in Go. Map is an
implementation of hash table which is available in many very high level languages.
The data organized like key value pairs. A typical map type looks like
this:
                                                                                                         
                                                                
</p>
<!-- l. 823 -->
<pre class='lstlisting' id='listing-46'><span class='label'><a id='x1-28002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>map</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>KeyType</span></span><span style='color:#000000'><span class='ec-lmtt-9'>]</span></span><span style='color:#000000'><span class='ec-lmtt-9'>ValueType</span></span></pre>

<!-- l. 827 --><p class='noindent'>A <span class='ec-lmtt-10'>KeyType </span>can be any type that is comparable using the comparison operators. The
<span class='ec-lmtt-10'>ValueType </span>can be any data type including another map. It is possible add any
numbers of key value pairs to the map.
</p><!-- l. 832 --><p class='noindent'>Here is a map definition with some values initialized.
</p>
<!-- l. 834 -->
<pre class='lstlisting' id='listing-47'><span class='label'><a id='x1-28003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fruits </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>map[string]int{</span> 
</span><span class='label'><a id='x1-28004r2'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Apple</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>45,</span></span> 
<span class='label'><a id='x1-28005r3'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Mango</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>24,</span></span> 
<span class='label'><a id='x1-28006r4'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Orange</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>34,</span> 
</span><span class='label'><a id='x1-28007r5'></a></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 842 --><p class='noindent'>More about maps will be explained in the data structure chapter.
</p><!-- l. 844 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>2.6   </span> <a id='x1-290002.6'></a>Exercises</h3>
<!-- l. 846 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Print multiples of 5 for all even numbers below 10
</p><!-- l. 848 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p><!-- l. 850 --><p class='noindent'>This exercise requires getting all even numbers numbers below 10. As we we have
seen above, a <span class='ec-lmtt-10'>for </span>loop can be used to get all numbers. Then <span class='ec-lmtt-10'>if </span>condition can be
used with <span class='ec-lmtt-10'>% </span>operator to check whether the number is even or not. The <span class='ec-lmtt-10'>%</span>
operator given the gives the remainder and we can check it is zero or not
for modulus 2. If the number is even use the <span class='ec-lmtt-10'>* </span>operator to multiply with
5.
</p><!-- l. 858 --><p class='noindent'>Here is the program.
</p>
<!-- l. 860 -->
<pre class='lstlisting' id='listing-48'><span class='label'><a id='x1-29001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-29002r2'></a></span> 
<span class='label'><a id='x1-29003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-29004r4'></a></span> 
<span class='label'><a id='x1-29005r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29006r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>1; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>10; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29007r7'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i%2 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29008r8'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>5)</span> 
</span><span class='label'><a id='x1-29009r9'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29010r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29011r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 874 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 2: </span>Create a function to reverse a string
</p><!-- l. 876 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 878 -->
                                                                
                                                                                           
   <pre class='lstlisting' id='listing-49'><span class='label'><a id='x1-29012r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-29013r2'></a></span> 
<span class='label'><a id='x1-29014r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-29015r4'></a></span> 
<span class='label'><a id='x1-29016r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Reverse(s </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29017r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-29018r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_, </span><span class='ec-lmtt-9'>c </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>s </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29019r8'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>string(c) </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>r</span> 
</span><span class='label'><a id='x1-29020r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29021r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r</span> 
</span><span class='label'><a id='x1-29022r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29023r12'></a></span> 
<span class='label'><a id='x1-29024r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29025r14'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>hw</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-29026r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>rhw</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Reverse(hw)</span> 
</span><span class='label'><a id='x1-29027r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>rhw</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-29028r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 898 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 3: </span>Find sum of all numbers below 50 completely divisible by 2 or 3 (i.e.,
remainder 0).
</p><!-- l. 901 --><p class='noindent'>Hint: The numbers completely divisible by 2 or 3 are 2, 3, 4, 6, 8, 9 ... 45, 46,
48.
</p><!-- l. 904 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 906 -->
<pre class='lstlisting' id='listing-50'><span class='label'><a id='x1-29029r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-29030r2'></a></span> 
<span class='label'><a id='x1-29031r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-29032r4'></a></span> 
<span class='label'><a id='x1-29033r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29034r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0</span> 
</span><span class='label'><a id='x1-29035r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>1; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>50; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29036r8'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i%2 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29037r9'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>sum </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>i</span> 
</span><span class='label'><a id='x1-29038r10'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29039r11'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i%3 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29040r12'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>sum </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>i</span> 
</span><span class='label'><a id='x1-29041r13'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29042r14'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29043r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29044r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sum</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sum)</span> 
</span><span class='label'><a id='x1-29045r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 926 --><p class='noindent'>The logic can be simplified using a conditional OR operator.
</p>
<!-- l. 928 -->
<pre class='lstlisting' id='listing-51'><span class='label'><a id='x1-29046r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-29047r2'></a></span> 
<span class='label'><a id='x1-29048r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-29049r4'></a></span> 
<span class='label'><a id='x1-29050r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29051r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0</span> 
</span><span class='label'><a id='x1-29052r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>1; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>50; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29053r8'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i%2 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>|| </span><span class='ec-lmtt-9'>i%3 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-29054r9'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>sum </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>i</span> 
</span><span class='label'><a id='x1-29055r10'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29056r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-29057r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sum</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sum)</span> 
</span><span class='label'><a id='x1-29058r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 944 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-30000'></a>Additional Exercises</h4>
<!-- l. 946 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 948 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a function to check whether the first letter in a given string is
capital letters in English (A,B,C,D etc).
</p><!-- l. 951 --><p class='noindent'>Hint: The signature of the function definition could be like this: <span class='ec-lmtt-10'>func
</span><span class='ec-lmtt-10'>StartsCapital(s string) bool</span>. If the function returns <span class='ec-lmtt-10'>true</span>, the string passed
starts with a capital letter.
</p><!-- l. 955 --><p class='noindent'><span class='ec-lmbx-10'>Problem 2: </span>Write a function to generate Fibonacci numbers below a given
value.
</p><!-- l. 958 --><p class='noindent'>Hint: Suggested function signature: <span class='ec-lmtt-10'>func Fib(n int)</span>. This function can print the
values.
                                                                                                         
                                                                
</p><!-- l. 961 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-31000'></a>Summary</h3>
<!-- l. 963 --><p class='noindent'>We started with a hello world program and briefly explained it. Then this chapter
introduced few basic topics in Go programming language. We have covered Data
Types, Variables, Comments, For Loop, Range Clause, If, Function, Operators,
Slices, and Maps. The next chapters will explain the fundamental concepts in more
detail.
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.5'></a><a id='x1-31001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 3</span><br /><a id='x1-320003'></a>Control Structures</h2>
  <blockquote class='quote'>
  <!-- l. 7 --><p class='noindent'><span class='ec-lmri-10'>Science  is  what  we  understand  well  enough  to  explain  to  a
  </span><span class='ec-lmri-10'>computer. Art is everything else we do. </span>— Donald E. Knuth</p></blockquote>
<!-- l. 10 --><p class='noindent'>Control structure determines how the code block will get executed for the
given conditional expressions and parameters. Go provides a number of
control structures including <span class='ec-lmri-10'>for</span>, <span class='ec-lmri-10'>if</span>, <span class='ec-lmri-10'>switch</span>, <span class='ec-lmri-10'>defer</span>, and <span class='ec-lmri-10'>goto</span>. The quickstart
chapter has already introduced control structures like <span class='ec-lmri-10'>if </span>and <span class='ec-lmri-10'>for</span>. This chapter
will elaborate more about these topics and introduce some other related
topics.
</p>
<h3 class='sectionHead'><span class='titlemark'>3.1   </span> <a id='x1-330003.1'></a>If</h3>
<!-- l. 21 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-34000'></a>Basic If</h4>
<!-- l. 23 --><p class='noindent'>Programming involves lots of decision making based on the input parameters. The
If<a id='dx1-34001'></a> control structure allows to perform a particular action on certain condition. A
conditional expressions is what used for making decisions in the code using the If
control structure. So, the If control structure will be always associated with a
conditional expression which evaluates to a boolean value. If the boolean value
is true, the statements within the block will be executed. Consider this
example::
</p>
<!-- l. 32 -->
<p><a id='x1-34002r1'></a>
<a id='x1-34003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.1: </span><span class='content'>If example program</span></figcaption><!-- tex4ht:label?: x1-34002r  --><pre class='lstlisting' id='listing-52'><span class='label'><a id='x1-34004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-34005r2'></a></span> 
<span class='label'><a id='x1-34006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-34007r4'></a></span> 
<span class='label'><a id='x1-34008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-34009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>1 </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>2 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-34010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>less </span><span class='ec-lmtt-9'>than </span><span class='ec-lmtt-9'>2")</span> 
</span><span class='label'><a id='x1-34011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-34012r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 44 --><p class='noindent'>The first line starts with the <span class='ec-lmtt-10'>if </span>keyword followed by a conditional expression and
the line ends with an opening curly bracket. If the conditional expression
is getting evaluated as true, the statements given within the curly brace
will get evaluated. In the above example, the conditional expression <span class='ec-lmtt-10'>1 &lt;
</span><span class='ec-lmtt-10'>2 </span>will be evaluated as true so the print statement given below that will
                                                                
                                                                                                         
   get executed. In fact, you can add any number of statements within the
   braces.
   </p><!-- l. 53 --><p class='noindent'>
   </p>
   <h4 class='subsectionHead'><a id='x1-35000'></a>If and Else</h4>
   <!-- l. 55 --><p class='noindent'>Sometimes you need to perform different set of action if the condition is not
   true. Go provides a variation of the <span class='ec-lmtt-10'>if </span>syntax with the <span class='ec-lmtt-10'>else</span><a id='dx1-35001'></a> block for
   that.
   </p><!-- l. 59 --><p class='noindent'>Consider this example with else block::
   </p>
   <!-- l. 61 -->
   <p><a id='x1-35002r2'></a>
   <a id='x1-35003'></a>
   </p><figcaption class='caption'><span class='id'>Listing 3.2: </span><span class='content'>If with else block</span></figcaption><!-- tex4ht:label?: x1-35002r  --><pre class='lstlisting' id='listing-53'><span class='label'><a id='x1-35004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-35005r2'></a></span> 
<span class='label'><a id='x1-35006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-35007r4'></a></span> 
<span class='label'><a id='x1-35008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-35009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3 </span><span class='ec-lmtt-9'>&gt; </span><span class='ec-lmtt-9'>4 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-35010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("3</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>greater </span><span class='ec-lmtt-9'>than </span><span class='ec-lmtt-9'>4")</span> 
</span><span class='label'><a id='x1-35011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-35012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("3</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>not </span><span class='ec-lmtt-9'>greater </span><span class='ec-lmtt-9'>than </span><span class='ec-lmtt-9'>4")</span> 
</span><span class='label'><a id='x1-35013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-35014r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 75 --><p class='noindent'>In the above code, the code will be evaluated as false. So, the statements within
<span class='ec-lmtt-10'>else </span>block will get executed.
</p><!-- l. 78 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-36000'></a>Example</h4>
<!-- l. 80 --><p class='noindent'>Now we will go through a complete example, the task is to identify the
given number is even or odd. The input can be given as a command line
argument.
</p>
<!-- l. 84 -->
<p><a id='x1-36001r3'></a>
<a id='x1-36002'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.3: </span><span class='content'>If with else example</span></figcaption><!-- tex4ht:label?: x1-36001r  --><pre class='lstlisting' id='listing-54'><span class='label'><a id='x1-36003r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-36004r2'></a></span> 
<span class='label'><a id='x1-36005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-36006r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-36007r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-36008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>strconv</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-36009r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-36010r8'></a></span> 
<span class='label'><a id='x1-36011r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-36012r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>os.Args[1]</span> 
</span><span class='label'><a id='x1-36013r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>strconv.Atoi(i)</span> 
</span><span class='label'><a id='x1-36014r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-36015r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>             </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Not</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>number:", </span><span class='ec-lmtt-9'>i)</span> 
</span><span class='label'><a id='x1-36016r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>             </span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Exit</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-36017r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-36018r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>n%2 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-36019r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>             </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>d</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>even\n", </span><span class='ec-lmtt-9'>n)</span> 
</span><span class='label'><a id='x1-36020r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-36021r19'></a><span class='ec-lmr-8'>19</span></span><span class='ec-lmtt-9'>             </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>d</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>odd\n", </span><span class='ec-lmtt-9'>n)</span> 
</span><span class='label'><a id='x1-36022r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-36023r21'></a><span class='ec-lmr-8'>21</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 108 --><p class='noindent'>The <span class='ec-lmtt-10'>os </span>package has an attribute named <span class='ec-lmtt-10'>Args</span>. The value of <span class='ec-lmtt-10'>Args </span>will be a slice of
strings which contains all command line arguments passed while running the
program. As we have learned from the Quickstart chapter, the values can be
accessed using the index syntax. The value at zero index will be the program name
itself and the value at 1st index the first argument and the value at 2nd index the
                                                                                                         
                                                                
second argument and so on. Since we are expecting only one argument, you can
access it using the 1st index (<span class='ec-lmtt-10'>os.Args[1]</span>).
</p><!-- l. 118 --><p class='noindent'>The <span class='ec-lmtt-10'>strconv </span>package provides a function named <span class='ec-lmtt-10'>Atoi </span>to convert strings to
integers. This function return two values, the first one is the integer value and the
second one is the error value. If there is no error during convertion, the error value
will be <span class='ec-lmtt-10'>nil</span>. If it’s a non-nil value, that indicates there is an error occured during
conversion.
</p><!-- l. 125 --><p class='noindent'>The <span class='ec-lmtt-10'>nil </span>is an identifier in Go which represents the “zero value” for certain built-in
types. The <span class='ec-lmtt-10'>nil </span>is used as the zero for these types: interfaces, functions, pointers,
maps, slices, and channels.
</p><!-- l. 130 --><p class='noindent'>In the above example, the second expected value is an object conforming to built-in
<span class='ec-lmtt-10'>error </span>interface. We will discuss more about errors and interfaces in later
chapters. The zero value for interface, that is <span class='ec-lmtt-10'>nil </span>is considered as there is no
error.
</p><!-- l. 135 --><p class='noindent'>The <span class='ec-lmtt-10'>Exit </span>function within <span class='ec-lmtt-10'>os </span>package helps to exit the program prematurely. The
argument passed will be exit status code. Normally exit code <span class='ec-lmtt-10'>0 </span>is treated as success
and non-zero value as error.
</p><!-- l. 140 --><p class='noindent'>The conditional expression use the modulus operator to get remainder and checking
it is zero. If the remainder against 2 is zero, the value will be even otherwise the
value will odd.
</p><!-- l. 144 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-37000'></a>Else If</h4>
<!-- l. 146 --><p class='noindent'>There is a third alternative syntax available for the If control structure, that is <span class='ec-lmtt-10'>else
</span><span class='ec-lmtt-10'>if </span>block. The Else If block get executed if the conditional expression gives true
value and previous conditions are false. It is possible to add any number of Else If
blocks based on the requirements.
</p><!-- l. 152 --><p class='noindent'>Look at this example where we have three choices based on the age group.
</p>
<!-- l. 155 -->
<p><a id='x1-37001r4'></a>
<a id='x1-37002'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.4: </span><span class='content'>if example program output</span></figcaption><!-- tex4ht:label?: x1-37001r  --><pre class='lstlisting' id='listing-55'><span class='label'><a id='x1-37003r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-37004r2'></a></span> 
<span class='label'><a id='x1-37005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-37006r4'></a></span> 
<span class='label'><a id='x1-37007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-37008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>10</span> 
</span><span class='label'><a id='x1-37009r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>10 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-37010r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Junior</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age)</span> 
</span><span class='label'><a id='x1-37011r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>if </span><span class='ec-lmtt-9'>age </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>20 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-37012r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Senior</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age)</span> 
</span><span class='label'><a id='x1-37013r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-37014r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Other</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age)</span> 
</span><span class='label'><a id='x1-37015r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-37016r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 172 --><p class='noindent'>In the above example, the value printed will be either <span class='ec-lmtt-10'>Junior</span>, <span class='ec-lmtt-10'>Senior </span>or <span class='ec-lmtt-10'>Other</span>.
You can change age value and run the program again and again to see the outputs.
The Else If can be repeated here to create more choices.
                                                                
                                                                                                         
   </p><!-- l. 177 --><p class='noindent'>
   </p>
   <h4 class='subsectionHead'><a id='x1-38000'></a>Inline Statement</h4>
   <!-- l. 179 --><p class='noindent'>In the previous section, the variable <span class='ec-lmri-10'>age </span>was only within the If, Else If
   and Else blocks. And that variable was not used used afterwards in the
   function. Go provides a syntax to define a variable along with the If where the
   scope of that variable will be within the blocks. In fact, the syntax can be
   used for any valid Go statement. However, it is mostly used for declaring
   variables.<a id='dx1-38001'></a>
   </p><!-- l. 187 --><p class='noindent'>Here is an example where a variable named <span class='ec-lmtt-10'>money </span>is declared along with the If
   control structure.
   </p>
   <!-- l. 190 -->
   <p><a id='x1-38002r5'></a>
   <a id='x1-38003'></a>
   </p><figcaption class='caption'><span class='id'>Listing 3.5: </span><span class='content'>If with initialization statement</span></figcaption><!-- tex4ht:label?: x1-38002r  --><pre class='lstlisting' id='listing-56'><span class='label'><a id='x1-38004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-38005r2'></a></span> 
<span class='label'><a id='x1-38006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-38007r4'></a></span> 
<span class='label'><a id='x1-38008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-38009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>money </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>20000; </span><span class='ec-lmtt-9'>money </span><span class='ec-lmtt-9'>&gt; </span><span class='ec-lmtt-9'>15000 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-38010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>car.", </span><span class='ec-lmtt-9'>money)</span> 
</span><span class='label'><a id='x1-38011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-38012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>am </span><span class='ec-lmtt-9'>going </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>buy </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>bike.", </span><span class='ec-lmtt-9'>money)</span> 
</span><span class='label'><a id='x1-38013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-38014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>can</span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>t </span><span class='ec-lmtt-9'>use </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>variable </span><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>money</span><span class='ts1-lmtt9-'>` </span><span class='ec-lmtt-9'>here</span> 
</span><span class='label'><a id='x1-38015r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 205 --><p class='noindent'>As mentioned above, the variable declared by the inline statement is available only
within the scope of If, Else If and Else blocks. So, the variable <span class='ec-lmtt-10'>money </span>cannot be
used outside the blocks.
</p><!-- l. 209 --><p class='noindent'>It is possible to make any valid Go statement as part of the If control structure. For
example, it is possible to call a function like this:
</p>
<!-- l. 213 -->
<p><a id='x1-38016r6'></a>
<a id='x1-38017'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.6:                   </span><span class='content'>Variable                   initialization                   in
If</span></figcaption><!-- tex4ht:label?: x1-38016r  --><pre class='lstlisting' id='listing-57'><span class='label'><a id='x1-38018r1'></a><span class='ec-lmr-8'>1</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>money </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>someFunction(); </span><span class='ec-lmtt-9'>money </span><span class='ec-lmtt-9'>&gt; </span><span class='ec-lmtt-9'>15000 </span><span class='ec-lmtt-9'>{</span></span></pre>
<!-- l. 217 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>3.2   </span> <a id='x1-390003.2'></a>For</h3>
                                                                                                         
                                                                
<!-- l. 219 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-40000'></a>Basic For</h4>
<!-- l. 221 --><p class='noindent'>As we have seen briefly in the Quickstart, the For<a id='dx1-40001'></a> control structure helps to create
loops to repeat certain actions. The For control structure has few syntax
variants.
</p><!-- l. 225 --><p class='noindent'>Consider a program to print few names.
</p>
<!-- l. 227 -->
<p><a id='x1-40002r7'></a>
<a id='x1-40003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.7: </span><span class='content'>For loop example (forbasic.go)</span></figcaption><!-- tex4ht:label?: x1-40002r  --><pre class='lstlisting' id='listing-58'><span class='label'><a id='x1-40004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-40005r2'></a></span> 
<span class='label'><a id='x1-40006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-40007r4'></a></span> 
<span class='label'><a id='x1-40008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-40009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Tom", </span><span class='ec-lmtt-9'>"Polly", </span><span class='ec-lmtt-9'>"Huck", </span><span class='ec-lmtt-9'>"Becky"}</span> 
</span><span class='label'><a id='x1-40010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>len(names); </span><span class='ec-lmtt-9'>i++</span> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>{</span></span> 
<span class='label'><a id='x1-40011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>])</span></span> 
<span class='label'><a id='x1-40012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-40013r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 240 --><p class='noindent'>You can save the above program in a file named <span class='ec-lmtt-10'>names.go </span>and run it like
this:
</p>
<!-- l. 243 -->
<pre class='lstlisting' id='listing-59'><span class='label'><a id='x1-40014r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>name.go</span> 
</span><span class='label'><a id='x1-40015r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Tom</span></span> 
<span class='label'><a id='x1-40016r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Polly</span></span> 
<span class='label'><a id='x1-40017r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Huck</span></span> 
<span class='label'><a id='x1-40018r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Becky</span></span></pre>
<!-- l. 251 --><p class='noindent'>In the above example, <span class='ec-lmtt-10'>names </span>variable hold a slice of strings. The value of <span class='ec-lmtt-10'>i </span>is
initialized to zero and incremented one by one. The <span class='ec-lmtt-10'>i++ </span>statement increment the
value of <span class='ec-lmtt-10'>i</span>. The second part of <span class='ec-lmtt-10'>for </span>loop check if value of <span class='ec-lmtt-10'>i </span>is less than length of the
slice. The built-in <span class='ec-lmtt-10'>len </span>gives the length of slice.
</p><!-- l. 258 --><p class='noindent'>Other programming languages offer many ways for iterations. Some of the examples
are <span class='ec-lmri-10'>while </span>and <span class='ec-lmri-10'>do...while</span>. But in Go using syntactic variation of <span class='ec-lmri-10'>for </span>loop meets
all requirements. Functional languages prefer to use recursion instead of
iteration.
</p><!-- l. 263 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-41000'></a>Break Loop Prematurely</h4>
<!-- l. 265 --><p class='noindent'>Sometimes the iteration should be stopped prematurely on certain condition. This
can be achieved using the If control structure and break statement. We have
already studied If control structure from the previous major section. The <span class='ec-lmtt-10'>break</span>
keyword allows to create a break statement. The break<a id='dx1-41001'></a> statement end the
loop immediately. Though any other code followed by For loop will be
executed.
                                                                
                                                                                                         
   </p><!-- l. 273 --><p class='noindent'>Let’s alter the previous program to stop printing after the name <span class='ec-lmtt-10'>Polly</span>
   found.
   </p>
   <!-- l. 276 -->
   <p><a id='x1-41002r8'></a>
   <a id='x1-41003'></a>
   </p><figcaption class='caption'><span class='id'>Listing 3.8: </span><span class='content'>For loop with break</span></figcaption><!-- tex4ht:label?: x1-41002r  --><pre class='lstlisting' id='listing-60'><span class='label'><a id='x1-41004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-41005r2'></a></span> 
<span class='label'><a id='x1-41006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-41007r4'></a></span> 
<span class='label'><a id='x1-41008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-41009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Tom", </span><span class='ec-lmtt-9'>"Polly", </span><span class='ec-lmtt-9'>"Huck", </span><span class='ec-lmtt-9'>"Becky"}</span> 
</span><span class='label'><a id='x1-41010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>len(names); </span><span class='ec-lmtt-9'>i++</span> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>{</span></span> 
<span class='label'><a id='x1-41011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>])</span></span> 
<span class='label'><a id='x1-41012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>names[i] </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>"Polly" </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-41013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>break</span></span> 
<span class='label'><a id='x1-41014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-41015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-41016r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 292 --><p class='noindent'>In the above example, we added an If control structure to check for the
value of name during each iteration. If the value matches <span class='ec-lmtt-10'>Polly</span>, break
statement will be executed. The break statement makes the For loop to end
immediately.
</p><!-- l. 297 --><p class='noindent'>As you can see in the above code, the break statement can stand alone
without any other input. There is alternate syntax with label<a id='dx1-41017'></a> similar to
how <span class='ec-lmri-10'>goto </span>works, which we are going to see below. This is useful when you
have multiple loops and want to break a particular one, may be the outer
loop.
</p><!-- l. 303 --><p class='noindent'>To understand this better, let’s consider an example. The problem is to to change
print the name given the slice until a word with <span class='ec-lmtt-10'>u </span>found.
</p>
<!-- l. 307 -->
<p><a id='x1-41018r9'></a>
<a id='x1-41019'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.9: </span><span class='content'>For loop with break and label</span></figcaption><!-- tex4ht:label?: x1-41018r  --><pre class='lstlisting' id='listing-61'><span class='label'><a id='x1-41020r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-41021r2'></a></span> 
<span class='label'><a id='x1-41022r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-41023r4'></a></span> 
<span class='label'><a id='x1-41024r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-41025r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Tom", </span><span class='ec-lmtt-9'>"Polly", </span><span class='ec-lmtt-9'>"Huck", </span><span class='ec-lmtt-9'>"Becky"}</span> 
</span><span class='label'><a id='x1-41026r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Outer</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-41027r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>len(names); </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-41028r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>j </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>j </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>len(names[i]); </span><span class='ec-lmtt-9'>j++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-41029r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>names[i][j] </span><span class='ec-lmtt-9'>== </span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>u</span><span class='ts1-lmtt9-'>' </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-41030r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>break</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Outer</span> 
</span><span class='label'><a id='x1-41031r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-41032r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-41033r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>])</span></span> 
<span class='label'><a id='x1-41034r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-41035r16'></a><span class='ec-lmr-8'>16</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 326 --><p class='noindent'>In the above example, we are declaring a label statement just before the first For
loop. There is an inner loop to iterate through the name string and check for the
presence of character <span class='ec-lmtt-10'>u</span>. If the character <span class='ec-lmtt-10'>u </span>is found, then it will break the outer
loop. If the label <span class='ec-lmtt-10'>Outer </span>is not used in the break statement, then the inner loop will
be stopped.
</p><!-- l. 333 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-42000'></a>Partially Execute Loop Statements</h4>
<!-- l. 335 --><p class='noindent'>Sometimes statements within For loop should be executed on certain iterations.
Go has a <span class='ec-lmtt-10'>continue</span><a id='dx1-42001'></a> statement to proceed loop without executing further
statements.
</p><!-- l. 339 --><p class='noindent'>Let’s modify the previous problem to print all names except <span class='ec-lmtt-10'>Polly</span>.
                                                                                                         
                                                                
</p>
<!-- l. 342 -->
<p><a id='x1-42002r10'></a>
<a id='x1-42003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.10: </span><span class='content'>For loop with continue</span></figcaption><!-- tex4ht:label?: x1-42002r  --><pre class='lstlisting' id='listing-62'><span class='label'><a id='x1-42004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-42005r2'></a></span> 
<span class='label'><a id='x1-42006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-42007r4'></a></span> 
<span class='label'><a id='x1-42008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-42009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Tom", </span><span class='ec-lmtt-9'>"Polly", </span><span class='ec-lmtt-9'>"Huck", </span><span class='ec-lmtt-9'>"Becky"}</span> 
</span><span class='label'><a id='x1-42010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>len(names); </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-42011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>names[i] </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>"Polly" </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-42012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>continue</span></span> 
<span class='label'><a id='x1-42013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-42014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>])</span></span> 
<span class='label'><a id='x1-42015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-42016r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 358 --><p class='noindent'>In the above code, the <span class='ec-lmtt-10'>continue </span>statement makes it proceed with next iteration in
the loop without printing <span class='ec-lmtt-10'>Polly</span>.
</p><!-- l. 361 --><p class='noindent'>Similar to <span class='ec-lmtt-10'>break </span>statement with label, continue also can be used with a label<a id='dx1-42017'></a>. This
is useful if there are multiple loops and want to continue a particular loop, say the
outer one.
</p><!-- l. 366 --><p class='noindent'>Let’s consider an example where you need to print names which doesn’t have
character <span class='ec-lmtt-10'>u </span>in it.
</p>
<!-- l. 369 -->
<p><a id='x1-42018r11'></a>
<a id='x1-42019'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.11:           </span><span class='content'>For           loop           with           continue           and
label</span></figcaption><!-- tex4ht:label?: x1-42018r  --><pre class='lstlisting' id='listing-63'><span class='label'><a id='x1-42020r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-42021r2'></a></span> 
<span class='label'><a id='x1-42022r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-42023r4'></a></span> 
<span class='label'><a id='x1-42024r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-42025r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Tom", </span><span class='ec-lmtt-9'>"Polly", </span><span class='ec-lmtt-9'>"Huck", </span><span class='ec-lmtt-9'>"Becky"}</span> 
</span><span class='label'><a id='x1-42026r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Outer</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-42027r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>len(names); </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-42028r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>j </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>j </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>len(names[i]); </span><span class='ec-lmtt-9'>j++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-42029r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>names[i][j] </span><span class='ec-lmtt-9'>== </span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>u</span><span class='ts1-lmtt9-'>' </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-42030r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>continue</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Outer</span> 
</span><span class='label'><a id='x1-42031r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-42032r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-42033r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>])</span></span> 
<span class='label'><a id='x1-42034r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-42035r16'></a><span class='ec-lmr-8'>16</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 388 --><p class='noindent'>In the above code, just before the first loop a label is declared. Later inside the
inner loop to iterate through the name string and check for the presence of
character <span class='ec-lmtt-10'>u</span>. If the character <span class='ec-lmtt-10'>u </span>is found, then it will continue the outer loop. If the
label <span class='ec-lmtt-10'>Outer </span>is not used in the continue statement, then the inner loop will be
proceed to execute.
</p><!-- l. 395 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-43000'></a>For with Outside Initialization</h4>
<!-- l. 397 --><p class='noindent'>The statement for value initialization and the last pat to increment value can be
removed from the For control structure. The value initialization can be moved
outside For and value increment can be moved inside loop.
</p><!-- l. 402 --><p class='noindent'>The previous example can be changed like this:
</p>
<!-- l. 404 -->
<p><a id='x1-43001r12'></a>
<a id='x1-43002'></a>
                                                                
                                                                                                         
   </p><figcaption class='caption'><span class='id'>Listing 3.12:            </span><span class='content'>For            without            initialization            and
   increment</span></figcaption><!-- tex4ht:label?: x1-43001r  --><pre class='lstlisting' id='listing-64'><span class='label'><a id='x1-43003r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-43004r2'></a></span> 
<span class='label'><a id='x1-43005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-43006r4'></a></span> 
<span class='label'><a id='x1-43007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-43008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Tom", </span><span class='ec-lmtt-9'>"Polly", </span><span class='ec-lmtt-9'>"Huck", </span><span class='ec-lmtt-9'>"Becky"}</span> 
</span><span class='label'><a id='x1-43009r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0</span> 
</span><span class='label'><a id='x1-43010r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>len(names) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-43011r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>++</span></span> 
<span class='label'><a id='x1-43012r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>])</span></span> 
<span class='label'><a id='x1-43013r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-43014r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 419 --><p class='noindent'>In the above example, the scope of variable <span class='ec-lmtt-10'>i </span>is outside For loop code block.
Whereas in the previous section, when the variable declared along with For loop,
the scope of that variable was within the loop code block.
</p><!-- l. 424 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-44000'></a>Infinite Loop</h4>
<!-- l. 426 --><p class='noindent'>For loop has yet another syntax variant to support infinite loop<a id='dx1-44001'></a>. You can create a
loop that never ends until explicitly stopped using break or exiting the whole
program. To create an infinite loop, you can use the <span class='ec-lmtt-10'>for </span>keyword followed by the
curly bracket.
</p><!-- l. 432 --><p class='noindent'>If any variable initialization is required, that should be declared outside the loop.
Conditions can be added inside the loop.
</p><!-- l. 435 --><p class='noindent'>The previous example can be changed like this:
</p>
<!-- l. 437 -->
<p><a id='x1-44002r13'></a>
<a id='x1-44003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.13: </span><span class='content'>Infinite For loop</span></figcaption><!-- tex4ht:label?: x1-44002r  --><pre class='lstlisting' id='listing-65'><span class='label'><a id='x1-44004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-44005r2'></a></span> 
<span class='label'><a id='x1-44006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-44007r4'></a></span> 
<span class='label'><a id='x1-44008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-44009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Tom", </span><span class='ec-lmtt-9'>"Polly", </span><span class='ec-lmtt-9'>"Huck", </span><span class='ec-lmtt-9'>"Becky"}</span> 
</span><span class='label'><a id='x1-44010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0</span> 
</span><span class='label'><a id='x1-44011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-44012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&gt;= </span><span class='ec-lmtt-9'>len(names) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-44013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>break</span></span> 
<span class='label'><a id='x1-44014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-44015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>names</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>])</span></span> 
<span class='label'><a id='x1-44016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>++</span></span> 
<span class='label'><a id='x1-44017r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-44018r15'></a><span class='ec-lmr-8'>15</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 455 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-45000'></a>Range Loops</h4>
<!-- l. 457 --><p class='noindent'>The range<a id='dx1-45001'></a> clause form of the for loop iterates over a slice or map. When looping
over a slice using range, two values are returned for each iteration. The first is the
index, and the second is a copy of the element at that index.
</p><!-- l. 462 --><p class='noindent'>The previous example <span class='ec-lmtt-10'>for </span>loop can be simplified using the <span class='ec-lmtt-10'>range </span>clause like
this:
</p>
<!-- l. 465 -->
                                                                                                         
                                                                
<p><a id='x1-45002r14'></a>
<a id='x1-45003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.14: </span><span class='content'>Range loop with slice</span></figcaption><!-- tex4ht:label?: x1-45002r  --><pre class='lstlisting' id='listing-66'><span class='label'><a id='x1-45004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-45005r2'></a></span> 
<span class='label'><a id='x1-45006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-45007r4'></a></span> 
<span class='label'><a id='x1-45008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-45009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>characters</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Tom", </span><span class='ec-lmtt-9'>"Polly", </span><span class='ec-lmtt-9'>"Huck", </span><span class='ec-lmtt-9'>"Becky"}</span> 
</span><span class='label'><a id='x1-45010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_, </span><span class='ec-lmtt-9'>j </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>characters </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-45011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>j</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-45012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-45013r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 478 --><p class='noindent'>The underscore is called blank indentifier, the value assigned to that variable will
be ignored. In the above example, the index values will be assigned to the
underscore.
</p><!-- l. 482 --><p class='noindent'>The range loop can be used with map. Here is an example:
</p>
<!-- l. 484 -->
<p><a id='x1-45014r15'></a>
<a id='x1-45015'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.15: </span><span class='content'>Range loop with map</span></figcaption><!-- tex4ht:label?: x1-45014r  --><pre class='lstlisting' id='listing-67'><span class='label'><a id='x1-45016r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-45017r2'></a></span> 
<span class='label'><a id='x1-45018r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-45019r4'></a></span> 
<span class='label'><a id='x1-45020r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-45021r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>characters </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>map[string]int{</span> 
</span><span class='label'><a id='x1-45022r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Tom</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>8,</span> 
</span><span class='label'><a id='x1-45023r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Polly</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>51,</span> 
</span><span class='label'><a id='x1-45024r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Huck</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>9,</span> 
</span><span class='label'><a id='x1-45025r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Becky</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>8,</span> 
</span><span class='label'><a id='x1-45026r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-45027r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name, </span><span class='ec-lmtt-9'>age </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>characters </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-45028r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age)</span> 
</span><span class='label'><a id='x1-45029r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-45030r15'></a><span class='ec-lmr-8'>15</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 502 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>3.3   </span> <a id='x1-460003.3'></a>Switch Cases</h3>
<!-- l. 504 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-47000'></a>Basic Switch</h4>
<!-- l. 506 --><p class='noindent'>In addition to the <span class='ec-lmtt-10'>if </span>condition, Go provides <span class='ec-lmtt-10'>switch case</span><a id='dx1-47001'></a> control structure for
branch instructions. The <span class='ec-lmtt-10'>switch case </span>is more convenient if many cases need to be
handled in the branch instructions.
</p><!-- l. 511 --><p class='noindent'>The below program use a switch case to print number names based on the
value.
</p>
<!-- l. 514 -->
<p><a id='x1-47002r16'></a>
<a id='x1-47003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.16: </span><span class='content'>Switch case example</span></figcaption><!-- tex4ht:label?: x1-47002r  --><pre class='lstlisting' id='listing-68'><span class='label'><a id='x1-47004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-47005r2'></a></span> 
<span class='label'><a id='x1-47006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-47007r4'></a></span> 
<span class='label'><a id='x1-47008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-47009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>1</span> 
</span><span class='label'><a id='x1-47010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>switch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-47011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>0:</span> 
</span><span class='label'><a id='x1-47012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>zero</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-47013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>1:</span> 
</span><span class='label'><a id='x1-47014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>one</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-47015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2:</span> 
</span><span class='label'><a id='x1-47016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>two</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-47017r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>default</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-47018r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>unknown</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-47019r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-47020r17'></a><span class='ec-lmr-8'>17</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 534 --><p class='noindent'>In this case, the value of <span class='ec-lmtt-10'>v </span>is <span class='ec-lmtt-10'>1</span>, so the case that is going to execute is 2nd one. This
will be the output.
                                                                
                                                                                                         
   </p>
   <!-- l. 537 -->
   <pre class='lstlisting' id='listing-69'><span class='label'><a id='x1-47021r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>switchbasic.go</span> 
</span><span class='label'><a id='x1-47022r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>one</span></span></pre>
   
<!-- l. 542 --><p class='noindent'>If you change the value of <span class='ec-lmtt-10'>v </span>to <span class='ec-lmtt-10'>0</span>, it’s going to print <span class='ec-lmtt-10'>zero </span>and for <span class='ec-lmtt-10'>2 </span>it will print
<span class='ec-lmtt-10'>two</span>. If the value is any number other than <span class='ec-lmtt-10'>0</span>, <span class='ec-lmtt-10'>1 </span>or <span class='ec-lmtt-10'>2</span>, it’s going to print
<span class='ec-lmtt-10'>unknown</span>.
</p><!-- l. 547 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-48000'></a>Fallthrough</h4>
<!-- l. 549 --><p class='noindent'>The cases are evaluated top to bottom until a match is found. If a case is matched,
the statements within that case will be executed. And no other case will be
executed unless a <span class='ec-lmtt-10'>fallthrough</span><a id='dx1-48001'></a> statement is used. The <span class='ec-lmtt-10'>fallthrough </span>must be the
last statement within the case.
</p><!-- l. 555 --><p class='noindent'>Here is a modified version with <span class='ec-lmtt-10'>fallthrough</span>
</p>
<!-- l. 557 -->
<p><a id='x1-48002r17'></a>
<a id='x1-48003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.17: </span><span class='content'>Switch case with fallthrough</span></figcaption><!-- tex4ht:label?: x1-48002r  --><pre class='lstlisting' id='listing-70'><span class='label'><a id='x1-48004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-48005r2'></a></span> 
<span class='label'><a id='x1-48006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-48007r4'></a></span> 
<span class='label'><a id='x1-48008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-48009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>1</span> 
</span><span class='label'><a id='x1-48010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>switch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-48011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>0:</span> 
</span><span class='label'><a id='x1-48012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>zero</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-48013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>1:</span> 
</span><span class='label'><a id='x1-48014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>one</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-48015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fallthrough</span></span> 
<span class='label'><a id='x1-48016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2:</span> 
</span><span class='label'><a id='x1-48017r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>two</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-48018r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>default</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-48019r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>unknown</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-48020r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-48021r18'></a><span class='ec-lmr-8'>18</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 578 --><p class='noindent'>If you run this program, it will print <span class='ec-lmtt-10'>one </span>followed by <span class='ec-lmtt-10'>two</span>.
</p>
<!-- l. 581 -->
<pre class='lstlisting' id='listing-71'><span class='label'><a id='x1-48022r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>switchbasic.go</span> 
</span><span class='label'><a id='x1-48023r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>one</span></span> 
<span class='label'><a id='x1-48024r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>two</span></span></pre>
<!-- l. 587 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-49000'></a>Break</h4>
<!-- l. 589 --><p class='noindent'>As you can see from the above examples, the switch statements break<a id='dx1-49001'></a> implicitly at
the end of each cases. The <span class='ec-lmtt-10'>fallthrough </span>statement can be used to passdown control
to the next case. However, sometimes execution should be stopped early
without executing all statements. This can can be achieved using <span class='ec-lmtt-10'>break</span>
statements.
                                                                                                         
                                                                
</p><!-- l. 596 --><p class='noindent'>Here is an example:
</p>
<!-- l. 598 -->
<p><a id='x1-49002r18'></a>
<a id='x1-49003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.18: </span><span class='content'>Switch case with break</span></figcaption><!-- tex4ht:label?: x1-49002r  --><pre class='lstlisting' id='listing-72'><span class='label'><a id='x1-49004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-49005r2'></a></span> 
<span class='label'><a id='x1-49006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-49007r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-49008r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-49009r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-49010r7'></a></span> 
<span class='label'><a id='x1-49011r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-49012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"Becky"</span> 
</span><span class='label'><a id='x1-49013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>time.Now()</span> 
</span><span class='label'><a id='x1-49014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>switch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-49015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"Huck":</span> 
</span><span class='label'><a id='x1-49016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>t.Hour() </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>12 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-49017r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Good</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>morning,", </span><span class='ec-lmtt-9'>v)</span> 
</span><span class='label'><a id='x1-49018r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>break</span></span> 
<span class='label'><a id='x1-49019r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-49020r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v)</span> 
</span><span class='label'><a id='x1-49021r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"Becky":</span> 
</span><span class='label'><a id='x1-49022r19'></a><span class='ec-lmr-8'>19</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>t.Hour() </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>12 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-49023r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Good</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>morning,", </span><span class='ec-lmtt-9'>v)</span> 
</span><span class='label'><a id='x1-49024r21'></a><span class='ec-lmr-8'>21</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>break</span></span> 
<span class='label'><a id='x1-49025r22'></a><span class='ec-lmr-8'>22</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-49026r23'></a><span class='ec-lmr-8'>23</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v)</span> 
</span><span class='label'><a id='x1-49027r24'></a><span class='ec-lmr-8'>24</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>default</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-49028r25'></a><span class='ec-lmr-8'>25</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-49029r26'></a><span class='ec-lmr-8'>26</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-49030r27'></a><span class='ec-lmr-8'>27</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 628 --><p class='noindent'>In the above example, morning time greeting is different.
</p><!-- l. 630 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-50000'></a>Multiple Cases</h4>
<!-- l. 632 --><p class='noindent'>Multple cases<a id='dx1-50001'></a> can be presented in comma-separated lists.
</p><!-- l. 635 --><p class='noindent'>Here is an example.
</p>
<!-- l. 637 --><pre class='lstinputlisting' id='listing-73'><span class='label'><a id='x1-50004r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-50005r2'></a></span> 
<span class='label'><a id='x1-50006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-50007r4'></a></span> 
<span class='label'><a id='x1-50008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-50009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>o</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"=="</span> 
</span><span class='label'><a id='x1-50010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>switch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>o </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-50011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"+", </span><span class='ec-lmtt-9'>"-", </span><span class='ec-lmtt-9'>"*", </span><span class='ec-lmtt-9'>"/", </span><span class='ec-lmtt-9'>"%", </span><span class='ec-lmtt-9'>"&amp;", </span><span class='ec-lmtt-9'>"|", </span><span class='ec-lmtt-9'>"^", </span><span class='ec-lmtt-9'>"&amp;^", </span><span class='ec-lmtt-9'>"&lt;&lt;", </span><span class='ec-lmtt-9'>"&gt;&gt;":</span> 
</span><span class='label'><a id='x1-50012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Arithmetic</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>operator")</span> 
</span><span class='label'><a id='x1-50013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"==", </span><span class='ec-lmtt-9'>"!=", </span><span class='ec-lmtt-9'>"&lt;", </span><span class='ec-lmtt-9'>"&lt;=", </span><span class='ec-lmtt-9'>"&gt;", </span><span class='ec-lmtt-9'>"&gt;=":</span> 
</span><span class='label'><a id='x1-50014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Comparison</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>operators")</span> 
</span><span class='label'><a id='x1-50015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"&amp;&amp;", </span><span class='ec-lmtt-9'>"||", </span><span class='ec-lmtt-9'>"!":</span> 
</span><span class='label'><a id='x1-50016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Logical</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>operators")</span> 
</span><span class='label'><a id='x1-50017r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>default</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-50018r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Unknown</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>operator")</span> 
</span><span class='label'><a id='x1-50019r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-50020r17'></a><span class='ec-lmr-8'>17</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 639 --><p class='noindent'>In this example, if any of the value is matched in the given list, that case will be
executed.
</p><!-- l. 642 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-51000'></a>Without Expression</h4>
<!-- l. 644 --><p class='noindent'>If the switch has no expression<a id='dx1-51001'></a> it switches on true. This is useful to write an
if-else-if-else chain.
</p><!-- l. 647 --><p class='noindent'>Let’s take the example program used earlier when Else If was introduced:
</p>
<!-- l. 650 --><pre class='lstinputlisting' id='listing-74'><span class='label'><a id='x1-51004r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-51005r2'></a></span> 
<span class='label'><a id='x1-51006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-51007r4'></a></span> 
<span class='label'><a id='x1-51008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-51009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>10</span> 
</span><span class='label'><a id='x1-51010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>switch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-51011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>10:</span> 
</span><span class='label'><a id='x1-51012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Junior</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age)</span> 
</span><span class='label'><a id='x1-51013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>20:</span> 
</span><span class='label'><a id='x1-51014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Senior</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age)</span> 
</span><span class='label'><a id='x1-51015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>default</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-51016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Other</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age)</span> 
</span><span class='label'><a id='x1-51017r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-51018r15'></a><span class='ec-lmr-8'>15</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 652 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>3.4   </span> <a id='x1-520003.4'></a>Defer Statements</h3>
<!-- l. 654 --><p class='noindent'>Sometimes it will require to force certain things to do before a function returns. For
example, closing an opened file descriptor. Go provides the <span class='ec-lmri-10'>defer</span><a id='dx1-52001'></a> statements to do
these kind of cleanup actions.
</p><!-- l. 659 --><p class='noindent'>A defer statement add a function call into a stack. The stack of function call
executes at the end of the surrounding function in a last-in-first-out (LIFO) order.
Defer is commonly used to perform various clean-up actions.
</p><!-- l. 664 --><p class='noindent'>Here is a simple example:
</p>
<!-- l. 666 -->
<p><a id='x1-52002r21'></a>
<a id='x1-52003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.21: </span><span class='content'>Defer usage</span></figcaption><!-- tex4ht:label?: x1-52002r3.4  --><pre class='lstlisting' id='listing-75'><span class='label'><a id='x1-52004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-52005r2'></a></span> 
<span class='label'><a id='x1-52006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-52007r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-52008r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-52009r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-52010r7'></a></span> 
<span class='label'><a id='x1-52011r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-52012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>defer</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fmt.Println("world")</span> 
</span><span class='label'><a id='x1-52013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-52014r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 680 --><p class='noindent'>The above program is going to print <span class='ec-lmtt-10'>hello </span>followed by <span class='ec-lmtt-10'>world</span>.
</p><!-- l. 683 --><p class='noindent'>If there are multiple <span class='ec-lmri-10'>defer </span>statements, it will execute in last-in-first-out (LIFO)
order.
</p><!-- l. 686 --><p class='noindent'>Here is a simple example to demonstrate it:
</p>
<!-- l. 688 -->
<p><a id='x1-52015r22'></a>
<a id='x1-52016'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.22: </span><span class='content'>Defer usage</span></figcaption><!-- tex4ht:label?: x1-52015r3.4  --><pre class='lstlisting' id='listing-76'><span class='label'><a id='x1-52017r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-52018r2'></a></span> 
<span class='label'><a id='x1-52019r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-52020r4'></a></span> 
<span class='label'><a id='x1-52021r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-52022r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>5; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-52023r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>defer</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fmt.Println(i)</span> 
</span><span class='label'><a id='x1-52024r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-52025r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 700 --><p class='noindent'>The above program will print this output:
</p>
<!-- l. 702 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-77'><span class='label'><a id='x1-52026r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>4</span></span> 
<span class='label'><a id='x1-52027r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>3</span></span> 
<span class='label'><a id='x1-52028r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>2</span></span> 
<span class='label'><a id='x1-52029r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>1</span></span> 
<span class='label'><a id='x1-52030r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>0</span></span></pre>

<!-- l. 710 --><p class='noindent'>The arguments passed the the deferred call are evaluated immediately. But the
deferred call itself is not executed until the function returns. Here is a simple
example to demonstrate it:
</p>
<!-- l. 714 -->
<p><a id='x1-52031r23'></a>
<a id='x1-52032'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.23: </span><span class='content'>Defer argument evaluation</span></figcaption><!-- tex4ht:label?: x1-52031r3.4  --><pre class='lstlisting' id='listing-78'><span class='label'><a id='x1-52033r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-52034r2'></a></span> 
<span class='label'><a id='x1-52035r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-52036r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-52037r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-52038r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-52039r7'></a></span> 
<span class='label'><a id='x1-52040r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-52041r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>defer</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func(t </span><span class='ec-lmtt-9'>time.Time) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-52042r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>time.Now())</span> 
</span><span class='label'><a id='x1-52043r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Now</span></span><span style='color:#000000'><span class='ec-lmtt-9'>())</span></span> 
<span class='label'><a id='x1-52044r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 729 --><p class='noindent'>When you run the above program, you can see a small difference in time. The <span class='ec-lmri-10'>defer</span>
can also be used to recover from <span class='ec-lmri-10'>panic</span>, which will be discussed in the next
section.
</p><!-- l. 733 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>3.5   </span> <a id='x1-530003.5'></a>Deffered Panic Recover</h3>
<!-- l. 735 --><p class='noindent'>We have discussed the commonly used control structures including if, for, and
switch. This section is going to discuss a less commonly used set of control
structures: <span class='ec-lmri-10'>defer</span>, <span class='ec-lmri-10'>panic</span>, and <span class='ec-lmri-10'>recover</span>. We have discussed the use of the defer
statement in the previous section. In this section, you are going to learn how to use
the <span class='ec-lmri-10'>defer </span>along with <span class='ec-lmri-10'>panic </span>and <span class='ec-lmri-10'>recover</span>.<a id='dx1-53001'></a><a id='dx1-53002'></a>
</p><!-- l. 743 --><p class='noindent'>Few important points about defer, panic, and recover:
</p>
     <ul class='itemize1'>
     <li class='itemize'>A panic causes the program stack to begin unwinding and recover can
     stop it
     </li>
     <li class='itemize'>Deferred functions are still executed as the stack unwinds
     </li>
     <li class='itemize'>If  recover  is  called  inside  such  a  deferred  function,  the  stack  stops
     unwinding
                                                                
                                                                                                         
        </li>
        <li class='itemize'>The recover returns the value (as an <span class='ec-lmri-10'>interface{}</span>) that was passed to
        panic
        </li>
        <li class='itemize'>A panic cannot be recovered by a different goroutine</li></ul>
   <!-- l. 753 --><p class='noindent'>Here is an example:
   </p>
   <!-- l. 755 --><pre class='lstinputlisting' id='listing-79'><span class='label'><a id='x1-53005r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-53006r2'></a></span> 
<span class='label'><a id='x1-53007r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-53008r4'></a></span> 
<span class='label'><a id='x1-53009r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-53010r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>defer</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-53011r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>recover(); </span><span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-53012r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Recoverd</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r)</span> 
</span><span class='label'><a id='x1-53013r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-53014r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}()</span></span> 
<span class='label'><a id='x1-53015r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>panic</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>panic</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-53016r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 757 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>3.6   </span> <a id='x1-540003.6'></a>Goto</h3>
<!-- l. 759 --><p class='noindent'>The <span class='ec-lmri-10'>goto</span><a id='dx1-54001'></a> statement can be used to jump control to another statement.
The location to where the control should be passed is specified using label
statements. The <span class='ec-lmri-10'>goto </span>statement and the corresponding label should be within
the same function. The <span class='ec-lmri-10'>goto </span>cannot jump to a label inside another code
block.
</p>
<!-- l. 765 -->
<p><a id='x1-54002r25'></a>
<a id='x1-54003'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.25: </span><span class='content'>Goto example program (goto.go)</span></figcaption><!-- tex4ht:label?: x1-54002r3.6  --><pre class='lstlisting' id='listing-80'><span class='label'><a id='x1-54004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-54005r2'></a></span> 
<span class='label'><a id='x1-54006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-54007r4'></a></span> 
<span class='label'><a id='x1-54008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-54009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>num</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>10</span> 
</span><span class='label'><a id='x1-54010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>goto</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Marker</span> 
</span><span class='label'><a id='x1-54011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>num</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>20</span> 
</span><span class='label'><a id='x1-54012r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Marker</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-54013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>num:", </span><span class='ec-lmtt-9'>num)</span> 
</span><span class='label'><a id='x1-54014r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 779 --><p class='noindent'>You can save the above program in a file named <span class='ec-lmtt-10'>goto1.go </span>and run it like
this:
</p>
<!-- l. 782 -->
                                                                                                         
                                                                
<p><a id='x1-54015r26'></a>
<a id='x1-54016'></a>
</p><figcaption class='caption'><span class='id'>Listing 3.26:                   </span><span class='content'>Goto                   example                   program
output</span></figcaption><!-- tex4ht:label?: x1-54015r3.6  --><pre class='lstlisting' id='listing-81'><span class='label'><a id='x1-54017r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>goto1.go</span> 
</span><span class='label'><a id='x1-54018r2'></a><span class='ec-lmr-8'>2</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>num: </span><span class='ec-lmtt-9'>10</span></span></pre>

<!-- l. 787 --><p class='noindent'>In the above code <span class='ec-lmtt-10'>Marker: </span>is a label statement. A label statement is a valid
identifier followed by a colon. A label statement will be target for <span class='ec-lmri-10'>goto</span>, <span class='ec-lmri-10'>break </span>or
<span class='ec-lmri-10'>continue </span>statement. We will look at <span class='ec-lmri-10'>break </span>and <span class='ec-lmri-10'>continue </span>statement when we study
the For control structure.
</p><!-- l. 794 --><p class='noindent'>The <span class='ec-lmri-10'>goto </span>statement is writen using the <span class='ec-lmtt-10'>goto </span>keyword followed by a valid label
name. In the above code, immediately after the <span class='ec-lmri-10'>goto </span>statement, there is a statement
to assign a different value to <span class='ec-lmtt-10'>num</span>. But that statement is never getting executed as
the <span class='ec-lmri-10'>goto </span>makes the program to jump to the label.
</p><!-- l. 800 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>3.7   </span> <a id='x1-550003.7'></a>Exercises</h3>
<!-- l. 802 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Print whether the number given as the command line argument is
even or odd.
</p><!-- l. 805 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p><!-- l. 807 --><p class='noindent'>You can store the program with a file named <span class='ec-lmtt-10'>evenodd.go</span>. Later you can compile
this program and then you will get a binary executable with name as <span class='ec-lmtt-10'>evenodd</span>. You
can execute this program like this:
</p>
<!-- l. 812 -->
<pre class='lstlisting' id='listing-82'><span class='label'><a id='x1-55001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>./</span></span><span style='color:#000000'><span class='ec-lmtt-9'>evenodd</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3</span> 
</span><span class='label'><a id='x1-55002r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>3</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>odd</span> 
</span><span class='label'><a id='x1-55003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>./</span></span><span style='color:#000000'><span class='ec-lmtt-9'>evenodd</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>4</span> 
</span><span class='label'><a id='x1-55004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>4</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>even</span></span></pre>
<!-- l. 819 --><p class='noindent'>In the above program, the 3 and 4 are the command line arguments. The command
line arguments can be accessed from Go using the slice available under <span class='ec-lmtt-10'>os</span>
package. The arguments will be available with exported name as <span class='ec-lmtt-10'>Args </span>and
individual items can be accessed using the index. The 0th index contains the
program itself, so it can be ignored. To access the 1st command argument use
<span class='ec-lmtt-10'>os.Args[1]</span>. The values will be of type string which can be converted
later.
</p>
<!-- l. 828 -->
<pre class='lstlisting' id='listing-83'><span class='label'><a id='x1-55005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-55006r2'></a></span> 
<span class='label'><a id='x1-55007r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-55008r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-55009r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-55010r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>strconv</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-55011r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-55012r8'></a></span> 
<span class='label'><a id='x1-55013r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-55014r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>os.Args[1]</span> 
</span><span class='label'><a id='x1-55015r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>number</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>strconv.Atoi(n)</span> 
</span><span class='label'><a id='x1-55016r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-55017r13'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Not</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>number:", </span><span class='ec-lmtt-9'>n)</span> 
</span><span class='label'><a id='x1-55018r14'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Exit</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-55019r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-55020r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>number%2 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-55021r17'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>d</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>even\n", </span><span class='ec-lmtt-9'>number)</span> 
</span><span class='label'><a id='x1-55022r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-55023r19'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>d</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>odd\n", </span><span class='ec-lmtt-9'>number)</span> 
</span><span class='label'><a id='x1-55024r20'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-55025r21'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                
                                                                           
   <!-- l. 852 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-56000'></a>Additional Exercises</h4>
<!-- l. 854 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 856 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program to print greetings based on time. Possible greetings
are Good morning, Good afternoon and Good evening.
</p><!-- l. 859 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-57000'></a>Summary</h3>
<!-- l. 861 --><p class='noindent'>This chapter introduced control structures available in Go except those related
to concurrency. The <span class='ec-lmri-10'>if </span>control structure was covered first, then <span class='ec-lmri-10'>for </span>loop
explained. The <span class='ec-lmri-10'>switch </span>cases was discussed later. Then <span class='ec-lmri-10'>defer </span>statement
and finally <span class='ec-lmri-10'>goto </span>control structure was explained in detail. This chapter
also briefly explained about accessing command line arguments from the
program.
                                                                                                         
                                                                
<a id='likesection.6'></a><a id='x1-57001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 4</span><br /><a id='x1-580004'></a>Data Structures</h2>
  <blockquote class='quote'>
  <!-- l. 7 --><p class='noindent'><span class='ec-lmri-10'>Bad programmers worry about the code. Good programmers worry
  </span><span class='ec-lmri-10'>about data structures and their relationships. </span>— Linus Torvalds</p></blockquote>
<!-- l. 11 --><p class='noindent'>In the last last few chapters we have seen some of the primitive data data types. We
also introduced few other advanced data types without going to the details. In this
chapter, we are going to look into more data structures.
</p>
<h3 class='sectionHead'><span class='titlemark'>4.1   </span> <a id='x1-590004.1'></a>Primitive Data Types</h3>
<!-- l. 18 --><p class='noindent'>Advanced data structures are built on top of primitive data types. This section is
going to cover the primitive data types in Go.
</p><!-- l. 21 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-60000'></a>Zero Value</h4>
<!-- l. 23 --><p class='noindent'>In the Quickstart chapter, you have learned various ways to declare a variable.
When you declare a variable using the <span class='ec-lmtt-10'>var</span> <a id='dx1-60001'></a>statement without assigning a value, a
default Zero value <a id='dx1-60002'></a>will be assigned for certain types. The Zero value is 0 for integers
and floats, empty string for strings, and false for boolean. To demonstrate this, here
is an example:
</p>
<!-- l. 30 -->
<p><a id='x1-60003r1'></a>
<a id='x1-60004'></a>
</p><figcaption class='caption'><span class='id'>Listing 4.1: </span><span class='content'>Zero values</span></figcaption><!-- tex4ht:label?: x1-60003r  --><pre class='lstlisting' id='listing-84'><span class='label'><a id='x1-60005r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-60006r2'></a></span> 
<span class='label'><a id='x1-60007r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-60008r4'></a></span> 
<span class='label'><a id='x1-60009r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-60010r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-60011r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age </span><span class='ec-lmtt-9'>int</span> 
</span><span class='label'><a id='x1-60012r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>tall </span><span class='ec-lmtt-9'>bool</span> 
</span><span class='label'><a id='x1-60013r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>weight </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-60014r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%#</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>%#v\n", </span><span class='ec-lmtt-9'>name, </span><span class='ec-lmtt-9'>age, </span><span class='ec-lmtt-9'>tall, </span><span class='ec-lmtt-9'>weight)</span> 
</span><span class='label'><a id='x1-60015r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 44 --><p class='noindent'>This is the output:
</p>
<!-- l. 46 -->
<pre class='lstlisting' id='listing-85'><span class='label'><a id='x1-60016r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>"",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>0, </span><span class='ec-lmtt-9'>false, </span><span class='ec-lmtt-9'>0</span></span></pre>
                                                                
                                                                           
   <!-- l. 50 --><p class='noindent'>
   </p>
   <h4 class='subsectionHead'><a id='x1-61000'></a>Variable</h4>
   <!-- l. 52 --><p class='noindent'>In the quick start chapter, we have discussed about variables and its usage. The
   variable declared outside the function (package level) can access anywhere within
   the same package.
   </p><!-- l. 56 --><p class='noindent'>Here is an example:
   </p>
   <!-- l. 58 -->
   <p><a id='x1-61001r2'></a>
   <a id='x1-61002'></a>
   </p><figcaption class='caption'><span class='id'>Listing 4.2: </span><span class='content'>Package level variable</span></figcaption><!-- tex4ht:label?: x1-61001r  --><pre class='lstlisting' id='listing-86'><span class='label'><a id='x1-61003r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-61004r2'></a></span> 
<span class='label'><a id='x1-61005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-61006r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-61007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-61008r6'></a></span> 
<span class='label'><a id='x1-61009r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-61010r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>country </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"India"</span> 
</span><span class='label'><a id='x1-61011r9'></a></span> 
<span class='label'><a id='x1-61012r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-61013r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Jack"</span> 
</span><span class='label'><a id='x1-61014r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Name</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name)</span> 
</span><span class='label'><a id='x1-61015r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Country</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>country)</span> 
</span><span class='label'><a id='x1-61016r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 75 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>name </span>and <span class='ec-lmtt-10'>country </span>are two package level variables. As we
have seen above the <span class='ec-lmtt-10'>name </span>gets zero value, where as value for <span class='ec-lmtt-10'>country </span>variable is
explicitly initialized.
</p><!-- l. 80 --><p class='noindent'>If the variable has been defined using the <span class='ec-lmtt-10'>:= </span>syntax, and the user wants to change
the value of that variable, they need to use <span class='ec-lmtt-10'>= </span>instead of <span class='ec-lmtt-10'>:= </span>syntax.
</p><!-- l. 84 --><p class='noindent'>If you run the below program, it’s going to throw an error:
</p>
<!-- l. 86 -->
<p><a id='x1-61017r3'></a>
<a id='x1-61018'></a>
</p><figcaption class='caption'><span class='id'>Listing 4.3: </span><span class='content'>Changing value with wrong syntax</span></figcaption><!-- tex4ht:label?: x1-61017r  --><pre class='lstlisting' id='listing-87'><span class='label'><a id='x1-61019r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-61020r2'></a></span> 
<span class='label'><a id='x1-61021r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-61022r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-61023r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-61024r6'></a></span> 
<span class='label'><a id='x1-61025r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-61026r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>25</span> 
</span><span class='label'><a id='x1-61027r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>35</span> 
</span><span class='label'><a id='x1-61028r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-61029r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 100 -->
<pre class='lstlisting' id='listing-88'><span class='label'><a id='x1-61030r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>update.go</span> 
</span><span class='label'><a id='x1-61031r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>#</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>command-line-arguments</span> 
</span><span class='label'><a id='x1-61032r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>./</span></span><span style='color:#000000'><span class='ec-lmtt-9'>update</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:9:6:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>no </span><span class='ec-lmtt-9'>new </span><span class='ec-lmtt-9'>variables </span><span class='ec-lmtt-9'>on </span><span class='ec-lmtt-9'>left </span><span class='ec-lmtt-9'>side </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>:=</span></span></pre>
<!-- l. 106 --><p class='noindent'>The above can be fixed like this:
</p>
<!-- l. 108 -->
<p><a id='x1-61033r4'></a>
<a id='x1-61034'></a>
</p><figcaption class='caption'><span class='id'>Listing 4.4: </span><span class='content'>Changing value with wrong syntax</span></figcaption><!-- tex4ht:label?: x1-61033r  --><pre class='lstlisting' id='listing-89'><span class='label'><a id='x1-61035r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-61036r2'></a></span> 
<span class='label'><a id='x1-61037r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-61038r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-61039r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-61040r6'></a></span> 
<span class='label'><a id='x1-61041r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-61042r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>25</span> 
</span><span class='label'><a id='x1-61043r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>35</span> 
</span><span class='label'><a id='x1-61044r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>age</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-61045r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 122 --><p class='noindent'>Now you should see the output:
</p>
<!-- l. 124 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-90'><span class='label'><a id='x1-61046r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>update.go</span> 
</span><span class='label'><a id='x1-61047r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>35</span></span></pre>

<!-- l. 129 --><p class='noindent'>Using the <span class='ec-lmri-10'>reflect </span>package<a id='dx1-61048'></a>, you can identify the type of a variable:
</p>
<!-- l. 132 -->
<p><a id='x1-61049r5'></a>
<a id='x1-61050'></a>
</p><figcaption class='caption'><span class='id'>Listing 4.5: </span><span class='content'>Identifying type of a variable</span></figcaption><!-- tex4ht:label?: x1-61049r  --><pre class='lstlisting' id='listing-91'><span class='label'><a id='x1-61051r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-61052r2'></a></span> 
<span class='label'><a id='x1-61053r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-61054r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>       </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-61055r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>       </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>reflect</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-61056r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-61057r7'></a></span> 
<span class='label'><a id='x1-61058r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-61059r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>pi </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>3.41</span> 
</span><span class='label'><a id='x1-61060r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>reflect.TypeOf(pi))</span> 
</span><span class='label'><a id='x1-61061r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 146 --><p class='noindent'>Using one or two letter variable names inside a function is common practice. If the
variable name is multi-word, use lower camelCase (initial letter lower and
subsequent words capitalized) for unexported variables. If the variable
is an exported one, use upper CamelCase (all the words capitalized). If
the variable name contains any abbreviations like ID, use capital letters.
Here are few examples: pi, w, r, ErrorCode, nodeToDaemonPods, DB,
InstanceID.
</p><!-- l. 154 --><p class='noindent'>
</p>
<h5 class='subsubsectionHead'><a id='x1-62000'></a>Unused variables and imports</h5>
<!-- l. 156 --><p class='noindent'>If you declare a variable inside a function, use that variable somewhere in the same
function where it is declared. Otherwise, you are going to get a compile error.
Whereas a global variable declared but unused is not going to throw compile time
error.
</p><!-- l. 161 --><p class='noindent'>Any package that is getting imported should find a place to use. Unused import
also throws compile time error.
</p><!-- l. 164 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-63000'></a>Boolean Type</h4>
<!-- l. 166 --><p class='noindent'>A boolean type represents a pair of truth values. The truth values are denoted by
the constants <span class='ec-lmri-10'>true </span>and <span class='ec-lmri-10'>false</span>. These are the three logical operators that can be used
with boolean values:
</p>
                                                                
                                                                                                         
        <ul class='itemize1'>
        <li class='itemize'><span class='ec-lmtt-10'>&amp;&amp; </span>– Logical AND
        </li>
        <li class='itemize'><span class='ec-lmtt-10'>|| </span>– Logical OR
        </li>
        <li class='itemize'><span class='ec-lmtt-10'>! </span>– Logical NOT</li></ul>
   <!-- l. 176 --><p class='noindent'>Here is an example:
   </p>
   <!-- l. 178 --><pre class='lstinputlisting' id='listing-92'><span class='label'><a id='x1-63003r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-63004r2'></a></span> 
<span class='label'><a id='x1-63005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-63006r4'></a></span> 
<span class='label'><a id='x1-63007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-63008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>yes</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-63009r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>no</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>false</span> 
</span><span class='label'><a id='x1-63010r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>yes</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&amp;&amp; </span><span class='ec-lmtt-9'>no)</span> 
</span><span class='label'><a id='x1-63011r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>yes</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>|| </span><span class='ec-lmtt-9'>no)</span> 
</span><span class='label'><a id='x1-63012r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(!</span></span><span style='color:#000000'><span class='ec-lmtt-9'>yes</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-63013r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(!</span></span><span style='color:#000000'><span class='ec-lmtt-9'>no</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-63014r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 180 --><p class='noindent'>The output of the above logical operators are like this:
</p>
<!-- l. 182 -->
<pre class='lstlisting' id='listing-93'><span class='label'><a id='x1-63015r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>logical.go</span> 
</span><span class='label'><a id='x1-63016r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>false</span></span> 
<span class='label'><a id='x1-63017r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>true</span></span> 
<span class='label'><a id='x1-63018r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>false</span></span> 
<span class='label'><a id='x1-63019r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>true</span></span></pre>
<!-- l. 190 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-64000'></a>Numeric Types</h4>
<!-- l. 192 --><p class='noindent'>The numeric type includes both integer types and floating-point types. The allowed
values of numeric types are same across all the CPU architectures.
</p><!-- l. 196 --><p class='noindent'>These are the unsigned integers:
</p>
     <ul class='itemize1'>
     <li class='itemize'>uint8 – the set of all unsigned 8-bit integers (0 to 255)
                                                                                                         
                                                                
  </li>
  <li class='itemize'>uint16 – the set of all unsigned 16-bit integers (0 to 65535)
  </li>
  <li class='itemize'>uint32 – the set of all unsigned 32-bit integers (0 to 4294967295)
  </li>
  <li class='itemize'>uint64    –    the    set    of    all    unsigned    64-bit    integers    (0    to
  18446744073709551615)</li></ul>
<!-- l. 205 --><p class='noindent'>These are the signed integers:
</p>
  <ul class='itemize1'>
  <li class='itemize'>int8 – the set of all signed 8-bit integers (-128 to 127)
  </li>
  <li class='itemize'>int16 – the set of all signed 16-bit integers (-32768 to 32767)
  </li>
  <li class='itemize'>int32 – the set of all signed 32-bit integers (-2147483648 to 2147483647)
  </li>
  <li class='itemize'>int64 – the set of all signed 64-bit integers (-9223372036854775808 to
  9223372036854775807)</li></ul>
<!-- l. 214 --><p class='noindent'>These are the two floating-point numbers:
</p>
  <ul class='itemize1'>
  <li class='itemize'>float32 – the set of all IEEE-754 32-bit floating-point numbers
  </li>
  <li class='itemize'>float64 – the set of all IEEE-754 64-bit floating-point numbers</li></ul>
                                                                
                                                                                                         
   <!-- l. 221 --><p class='noindent'>These are the two complex numbers:
   </p>
        <ul class='itemize1'>
        <li class='itemize'>complex64  –  the  set  of  all  complex  numbers  with  float32  real  and
        imaginary parts
        </li>
        <li class='itemize'>complex128  –  the  set  of  all  complex  numbers  with  float64  real  and
        imaginary parts</li></ul>
   <!-- l. 228 --><p class='noindent'>These are the two commonly used used aliases:
   </p>
        <ul class='itemize1'>
        <li class='itemize'>byte – alias for uint8
        </li>
        <li class='itemize'>rune – alias for int32</li></ul>
   <!-- l. 235 --><p class='noindent'>
   </p>
   <h4 class='subsectionHead'><a id='x1-65000'></a>String Type</h4>
   <!-- l. 237 --><p class='noindent'>A string type is another most import primitive data type. String type represents
   string values.
   </p><!-- l. 240 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>4.2   </span> <a id='x1-660004.2'></a>Constants</h3>
   <!-- l. 242 --><p class='noindent'>A constant<a id='dx1-66001'></a> is an unchanging value. Constants are declared like variables, but with
   the <span class='ec-lmri-10'>const </span>keyword. Constants can be character, string, boolean, or numeric values.
   Constants cannot be declared using the <span class='ec-lmtt-10'>:= </span>syntax.
                                                                                                         
                                                                
</p><!-- l. 247 --><p class='noindent'>In Go, <span class='ec-lmri-10'>const </span>is a keyword introducing a name for a scalar value such as 2 or 3.14159
or "scrumptious". Such values, named or otherwise, are called constants in Go.
Constants can also be created by expressions built from constants, such as 2+3 or
2+3i or math.Pi/2 or ("go"+"pher"). Constants can be declared are at package level
or function level.
</p><!-- l. 254 --><p class='noindent'>This is how to declare constants:
</p>
<!-- l. 256 -->
<pre class='lstlisting' id='listing-94'><span class='label'><a id='x1-66002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-66003r2'></a></span> 
<span class='label'><a id='x1-66004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-66005r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-66006r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-66007r6'></a></span> 
<span class='label'><a id='x1-66008r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Freezing </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-66009r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Pi </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>3.14</span> 
</span><span class='label'><a id='x1-66010r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Name </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Tom"</span> 
</span><span class='label'><a id='x1-66011r10'></a></span> 
<span class='label'><a id='x1-66012r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-66013r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Pi</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Freezing, </span><span class='ec-lmtt-9'>Name)</span> 
</span><span class='label'><a id='x1-66014r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 272 --><p class='noindent'>You can also use the factored style declaration:
</p>
<!-- l. 274 -->
<pre class='lstlisting' id='listing-95'><span class='label'><a id='x1-66015r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-66016r2'></a></span> 
<span class='label'><a id='x1-66017r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-66018r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-66019r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-66020r6'></a></span> 
<span class='label'><a id='x1-66021r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-66022r8'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>Freezing</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-66023r9'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>Pi</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>3.14</span> 
</span><span class='label'><a id='x1-66024r10'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>Name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Tom"</span> 
</span><span class='label'><a id='x1-66025r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-66026r12'></a></span> 
<span class='label'><a id='x1-66027r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-66028r14'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Pi</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Freezing, </span><span class='ec-lmtt-9'>Name)</span> 
</span><span class='label'><a id='x1-66029r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-66030r16'></a></span> 
<span class='label'><a id='x1-66031r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-66032r18'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>Freezing</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-66033r19'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>Pi</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>3.14</span> 
</span><span class='label'><a id='x1-66034r20'></a></span><span class='ec-lmtt-9'>      </span><span style='color:#000000'><span class='ec-lmtt-9'>Name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Tom"</span> 
</span><span class='label'><a id='x1-66035r21'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
<!-- l. 298 --><p class='noindent'>Compiler throws an error if the constant is tried to assign a new value:
</p>
<!-- l. 301 -->
<pre class='lstlisting' id='listing-96'><span class='label'><a id='x1-66036r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-66037r2'></a></span> 
<span class='label'><a id='x1-66038r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-66039r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-66040r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-66041r6'></a></span> 
<span class='label'><a id='x1-66042r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-66043r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Pi </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>3.14</span> 
</span><span class='label'><a id='x1-66044r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Pi</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>6.86</span> 
</span><span class='label'><a id='x1-66045r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Pi</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-66046r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 315 --><p class='noindent'>The above program throws an error like this:
</p>
<!-- l. 317 -->
<pre class='lstlisting' id='listing-97'><span class='label'><a id='x1-66047r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>constants.go</span> 
</span><span class='label'><a id='x1-66048r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>constants</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:9:5:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>cannot </span><span class='ec-lmtt-9'>assign </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>Pi</span></span></pre>
<!-- l. 322 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-67000'></a>iota</h4>
<!-- l. 324 --><p class='noindent'>The <span class='ec-lmri-10'>iota </span>keyword is used to define constants of incrementing numbers. This
simplify the defining many constants. The values of iota is reset to <span class='ec-lmri-10'>0 </span>whenever
the reserved word const appears. The value increments by one after each
line.
</p><!-- l. 329 --><p class='noindent'>Consider this example:
</p>
<!-- l. 331 -->
                                                                
                                                                                                         
   <pre class='lstlisting' id='listing-98'><span class='label'><a id='x1-67001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Token </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>lexical </span><span class='ec-lmtt-9'>token.</span> 
</span><span class='label'><a id='x1-67002r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Token </span><span class='ec-lmtt-9'>int</span> 
</span><span class='label'><a id='x1-67003r3'></a></span> 
<span class='label'><a id='x1-67004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-67005r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Illegal </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>an </span><span class='ec-lmtt-9'>illegal/invalid </span><span class='ec-lmtt-9'>character</span> 
</span><span class='label'><a id='x1-67006r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Illegal</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Token </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>iota</span> 
</span><span class='label'><a id='x1-67007r7'></a></span> 
<span class='label'><a id='x1-67008r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Whitespace </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>white </span><span class='ec-lmtt-9'>space</span> 
</span><span class='label'><a id='x1-67009r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(" </span><span class='ec-lmtt-9'>", </span><span class='ec-lmtt-9'>\t, </span><span class='ec-lmtt-9'>\r, </span><span class='ec-lmtt-9'>\n) </span><span class='ec-lmtt-9'>character</span> 
</span><span class='label'><a id='x1-67010r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Whitespace</span></span> 
<span class='label'><a id='x1-67011r11'></a></span> 
<span class='label'><a id='x1-67012r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>EOF </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>end </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>file</span> 
</span><span class='label'><a id='x1-67013r13'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>EOF</span></span> 
<span class='label'><a id='x1-67014r14'></a></span> 
<span class='label'><a id='x1-67015r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>MarkerID </span><span class='ec-lmtt-9'>represents </span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>\id</span><span class='ts1-lmtt9-'>' </span><span class='ec-lmtt-9'>or </span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>\id1</span><span class='ts1-lmtt9-'>' </span><span class='ec-lmtt-9'>marker</span> 
</span><span class='label'><a id='x1-67016r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>MarkerID</span></span> 
<span class='label'><a id='x1-67017r17'></a></span> 
<span class='label'><a id='x1-67018r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>MarkerIde </span><span class='ec-lmtt-9'>represents </span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>\ide</span><span class='ts1-lmtt9-'>' </span><span class='ec-lmtt-9'>marker</span> 
</span><span class='label'><a id='x1-67019r19'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>MarkerIde</span></span> 
<span class='label'><a id='x1-67020r20'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
   
<!-- l. 354 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>Token </span>is custom type defined using the primitive <span class='ec-lmri-10'>int</span>
type. The constants are defined using the factored syntax (many constants within
parenthesis). There are comments for each constant values. Each constant value is
be incremented starting from <span class='ec-lmtt-10'>0</span>. In the above example, <span class='ec-lmtt-10'>Illegal </span>is <span class='ec-lmtt-10'>0</span>, Whitespace is
<span class='ec-lmtt-10'>1</span>, <span class='ec-lmtt-10'>EOF </span>is <span class='ec-lmtt-10'>2 </span>and so on.
</p><!-- l. 362 --><p class='noindent'>The <span class='ec-lmtt-10'>iota </span>can be used with expressions. The expression will
be repeated. Here is a good example taken from <span class='ec-lmri-10'>Effective
</span><span class='ec-lmri-10'>Go</span><span class='footnote-mark'><a href='essential-go2.html#fn1x4'><sup class='textsuperscript'>1</sup></a></span><a id='x1-67021f1'></a> :
</p>
<!-- l. 366 -->
<pre class='lstlisting' id='listing-99'><span class='label'><a id='x1-67023r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>ByteSize </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-67024r2'></a></span> 
<span class='label'><a id='x1-67025r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-67026r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>ignore </span><span class='ec-lmtt-9'>first </span><span class='ec-lmtt-9'>value </span><span class='ec-lmtt-9'>(0) </span><span class='ec-lmtt-9'>by </span><span class='ec-lmtt-9'>assigning </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>blank </span><span class='ec-lmtt-9'>identifier</span> 
</span><span class='label'><a id='x1-67027r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>          </span><span style='color:#000000'><span class='ec-lmtt-9'>=</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>iota</span> 
</span><span class='label'><a id='x1-67028r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>KB</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>ByteSize </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>1 </span><span class='ec-lmtt-9'>&lt;&lt; </span><span class='ec-lmtt-9'>(10 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>iota)</span> 
</span><span class='label'><a id='x1-67029r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>MB</span></span> 
<span class='label'><a id='x1-67030r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>GB</span></span> 
<span class='label'><a id='x1-67031r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>TB</span></span> 
<span class='label'><a id='x1-67032r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>PB</span></span> 
<span class='label'><a id='x1-67033r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>EB</span></span> 
<span class='label'><a id='x1-67034r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>ZB</span></span> 
<span class='label'><a id='x1-67035r13'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>YB</span></span> 
<span class='label'><a id='x1-67036r14'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
<!-- l. 383 --><p class='noindent'>Using <span class='ec-lmtt-10'>_ </span>(blank identifier) you can ignore a value, but <span class='ec-lmri-10'>iota </span>increments the value.
This can be used to skip certain values. As you can see in the above example, you
can use an expression with <span class='ec-lmri-10'>iota</span>.
</p>
<h5 class='subsubsectionHead'><a id='x1-68000'></a>Blank Identifier</h5>
<!-- l. 391 --><p class='noindent'>Sometimes you may need to ignore the value returned by a function. Go provides a
special identifier called blank identifier<a id='dx1-68001'></a><a id='dx1-68002'></a> to ignore any types of values. In Go,
underscore <span class='ec-lmtt-10'>_ </span>is the blank identifier.
</p><!-- l. 396 --><p class='noindent'>Here is an example usage of blank identifier where the second value returned by the
function is discarded.
</p>
<!-- l. 399 -->
<pre class='lstlisting' id='listing-100'><span class='label'><a id='x1-68003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>x</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_ </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>someFunc()</span></span></pre>
<!-- l. 403 --><p class='noindent'>Blank identifier can be used as import alias to invoke init function without using
the package.
</p>
<!-- l. 406 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-101'><span class='label'><a id='x1-68004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-68005r2'></a></span><span class='ec-lmtt-9'>       </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>database</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sql</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-68006r3'></a></span> 
<span class='label'><a id='x1-68007r4'></a></span><span class='ec-lmtt-9'>       </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"github.com/lib/pq"</span> 
</span><span class='label'><a id='x1-68008r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>

<!-- l. 414 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>pq </span>package has some code which need to be
invoked to initialize the database driver provided by that package. And
the exported functions within the above package is supposed to be not
used.
</p><!-- l. 419 --><p class='noindent'>We have already seen another example where blank identifier if used with <span class='ec-lmri-10'>iota </span>to
ignore certain constants.
</p><!-- l. 422 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>4.3   </span> <a id='x1-690004.3'></a>Arrays</h3>
<!-- l. 425 --><p class='noindent'>An array<a id='dx1-69001'></a> is an ordered container type with a fixed number of data. In fact,
the arrays are the foundation where slice is built. We will study about
slices in the next section. Most of the time, you can use slice instead of an
array.
</p><!-- l. 430 --><p class='noindent'>The number of values in the array is called the length of that array. The
array type <span class='ec-lmtt-10'>[n]T </span>is an array of <span class='ec-lmtt-10'>n </span>values of type <span class='ec-lmtt-10'>T</span>. Here are two example
arrays:
</p>
<!-- l. 434 -->
<pre class='lstlisting' id='listing-102'><span class='label'><a id='x1-69002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[3]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-69003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>heights</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[4]int{153, </span><span class='ec-lmtt-9'>146, </span><span class='ec-lmtt-9'>167, </span><span class='ec-lmtt-9'>170}</span></span></pre>
<!-- l. 439 --><p class='noindent'>In the above example, the length of first array is <span class='ec-lmtt-10'>3 </span>and the array values are string
data. The second array contains <span class='ec-lmtt-10'>int </span>values. An array’s length is part of its type, so
arrays cannot be re-sized. So, if the length is different for two arrays, those are
distinct incompatible types. The built-in <span class='ec-lmtt-10'>len </span>function gives the length of
array.
</p><!-- l. 446 --><p class='noindent'>Array values can be accessed using the index syntax, so the expression <span class='ec-lmtt-10'>s[n]</span>
accesses the nth element, starting from zero.
</p><!-- l. 449 --><p class='noindent'>An array values can be read like this:
</p>
<!-- l. 451 -->
<pre class='lstlisting' id='listing-103'><span class='label'><a id='x1-69004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[3]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-69005r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>colors[1]</span> 
</span><span class='label'><a id='x1-69006r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
                                                                
                                                                           
   <!-- l. 457 --><p class='noindent'>Similarly array values can be set using index syntax. Here is an example:
</p>
<!-- l. 460 -->
<pre class='lstlisting' id='listing-104'><span class='label'><a id='x1-69007r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[3]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-69008r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[1]</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Yellow"</span></span></pre>
<!-- l. 465 --><p class='noindent'>Arrays need not be initialized explicitly. The zero value of an array is a usable array
with all elements zeroed.
</p>
<!-- l. 468 -->
<pre class='lstlisting' id='listing-105'><span class='label'><a id='x1-69009r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>colors </span><span class='ec-lmtt-9'>[3]string</span> 
</span><span class='label'><a id='x1-69010r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[1]</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Yellow"</span></span></pre>
<!-- l. 473 --><p class='noindent'>In this example, the values of colors will be empty strings (zero value). Later we can
assign values using the index syntax.
</p><!-- l. 476 --><p class='noindent'>There is a way to declare array literal without specifying the length. When using
this syntax variant, the compiler will count and set the array length.
</p>
<!-- l. 480 -->
<pre class='lstlisting' id='listing-106'><span class='label'><a id='x1-69011r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[...]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span></span></pre>
<!-- l. 484 --><p class='noindent'>In the chapter on control structures, we have seen how to use For loop for iterating
over slices. In the same way, you can iterate over array.
</p><!-- l. 488 --><p class='noindent'>Consider this complete example:
</p>
<!-- l. 490 --><pre class='lstinputlisting' id='listing-107'><span class='label'><a id='x1-69014r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-69015r2'></a></span> 
<span class='label'><a id='x1-69016r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-69017r4'></a></span> 
<span class='label'><a id='x1-69018r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-69019r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[3]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-69020r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Length</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(colors))</span> 
</span><span class='label'><a id='x1-69021r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i, </span><span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>colors </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-69022r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v)</span> 
</span><span class='label'><a id='x1-69023r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-69024r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 492 --><p class='noindent'>If you save the above program in a file named <span class='ec-lmtt-10'>colors.go </span>and run it, you will get
output like this:
</p>
<!-- l. 495 -->
<pre class='lstlisting' id='listing-108'><span class='label'><a id='x1-69025r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>colors.go</span> 
</span><span class='label'><a id='x1-69026r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Length</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3</span> 
</span><span class='label'><a id='x1-69027r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>0</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Red</span> 
</span><span class='label'><a id='x1-69028r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Green</span> 
</span><span class='label'><a id='x1-69029r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Blue</span></span></pre>
                                                                           
                                                                
<!-- l. 503 --><p class='noindent'>In the above program, a string array is declared and initialized with three string
values. In the 7th line, the length is printed and it gives 3. The <span class='ec-lmtt-10'>range </span>clause gives
index and value, where the index starts from zero.
</p><!-- l. 508 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>4.4   </span> <a id='x1-700004.4'></a>Slices</h3>
<!-- l. 510 --><p class='noindent'>Slice<a id='dx1-70001'></a> is one of most important data structure in Go. Slice is more flexible than an
array. It is possible to add and remove values from a slice. There will be a length for
slice at any time. Though the length vary dynamically as the content value increase
or decrease.
</p><!-- l. 516 --><p class='noindent'>The number of values in the slice is called the length of that slice. The slice type
<span class='ec-lmtt-10'>[]T </span>is a slice of type <span class='ec-lmtt-10'>T</span>. Here are two example slices:
</p>
<!-- l. 520 -->
<pre class='lstlisting' id='listing-109'><span class='label'><a id='x1-70002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-70003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>heights</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]int{153, </span><span class='ec-lmtt-9'>146, </span><span class='ec-lmtt-9'>167, </span><span class='ec-lmtt-9'>170}</span></span></pre>
<!-- l. 525 --><p class='noindent'>The first one is a slice of strings and the second slice is a slice of integers. The
syntax is similar to array except the length of slice is not explicitly specified. You
can use built-in <span class='ec-lmtt-10'>len </span>function to see the length of slice.
</p><!-- l. 530 --><p class='noindent'>Slice values can be accessed using the index syntax, so the expression <span class='ec-lmtt-10'>s[n] </span>accesses
the nth element, starting from zero.
</p><!-- l. 533 --><p class='noindent'>A slice values can be read like this:
</p>
<!-- l. 535 -->
<pre class='lstlisting' id='listing-110'><span class='label'><a id='x1-70004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-70005r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>colors[1]</span> 
</span><span class='label'><a id='x1-70006r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
<!-- l. 541 --><p class='noindent'>Similary slice values can be set using index syntax. Here is an example:
</p>
<!-- l. 544 -->
<pre class='lstlisting' id='listing-111'><span class='label'><a id='x1-70007r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Red", </span><span class='ec-lmtt-9'>"Green", </span><span class='ec-lmtt-9'>"Blue"}</span> 
</span><span class='label'><a id='x1-70008r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[1]</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Yellow"</span></span></pre>
<!-- l. 549 --><p class='noindent'>Slices should be initialized with a length more than zero to access or set values. In
the above examples, we used slice literal syntax for that. If you define a slice using
<span class='ec-lmtt-10'>var </span>statement without providing default values, the slice will be have a special zero
value called <span class='ec-lmtt-10'>nil</span>.
                                                                
                                                                                                         
   </p><!-- l. 555 --><p class='noindent'>Consider this complete example:
   </p>
   <!-- l. 557 --><pre class='lstinputlisting' id='listing-112'><span class='label'><a id='x1-70011r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-70012r2'></a></span> 
<span class='label'><a id='x1-70013r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-70014r4'></a></span> 
<span class='label'><a id='x1-70015r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-70016r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>[]string</span> 
</span><span class='label'><a id='x1-70017r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%#</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v\n", </span><span class='ec-lmtt-9'>v, </span><span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>nil)</span> 
</span><span class='label'><a id='x1-70018r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Output: </span><span class='ec-lmtt-9'>[]string(nil), </span><span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-70019r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 559 --><p class='noindent'>In the above example, the value of slice <span class='ec-lmtt-10'>v </span>is <span class='ec-lmtt-10'>nil</span>. Since the slice is nil, values cannot
be accessed or set using the index. These operations are going to raise runtime error
(index out of range).
</p><!-- l. 564 --><p class='noindent'>Sometimes it may not be possible to initialize a slice with some value using the
literal slice syntax given above. Go provides a built-in function named <span class='ec-lmtt-10'>make </span>to
initialize a slice with a given length and zero values for all items. For example, if
you want a slice with 3 items, the syntax is like this:
</p>
<!-- l. 570 -->
<pre class='lstlisting' id='listing-113'><span class='label'><a id='x1-70020r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make([]string, </span><span class='ec-lmtt-9'>3)</span></span></pre>
<!-- l. 574 --><p class='noindent'>In the above example, a slice will be initialized with 3 empty strings as the
items. Now it is possible to set and get values using the index as given
below:
</p>
<!-- l. 578 -->
<pre class='lstlisting' id='listing-114'><span class='label'><a id='x1-70021r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[0]</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Red"</span> 
</span><span class='label'><a id='x1-70022r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[1]</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Green"</span> 
</span><span class='label'><a id='x1-70023r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>colors</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[2]</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Blue"</span> 
</span><span class='label'><a id='x1-70024r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>colors[1]</span> 
</span><span class='label'><a id='x1-70025r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
<!-- l. 586 --><p class='noindent'>If you try to set value at 3rd index (<span class='ec-lmtt-10'>colors[3]</span>), it’s going to raise runtime error
with a message like this: "index out of range". Go has a built-in function named
<span class='ec-lmtt-10'>append </span>to add additional values. The append function will increase the length of
the slice.
</p><!-- l. 591 --><p class='noindent'>Consider this example:
</p>
<!-- l. 593 --><pre class='lstinputlisting' id='listing-115'><span class='label'><a id='x1-70028r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-70029r2'></a></span> 
<span class='label'><a id='x1-70030r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-70031r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-70032r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-70033r6'></a></span> 
<span class='label'><a id='x1-70034r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-70035r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make([]string, </span><span class='ec-lmtt-9'>3)</span> 
</span><span class='label'><a id='x1-70036r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(v))</span> 
</span><span class='label'><a id='x1-70037r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>append(v, </span><span class='ec-lmtt-9'>"Yellow")</span> 
</span><span class='label'><a id='x1-70038r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(v))</span> 
</span><span class='label'><a id='x1-70039r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 595 --><p class='noindent'>In the above example, the slice length is increased by one after append. It is
possible to add more values using <span class='ec-lmtt-10'>append</span>. See this example:
</p>
<!-- l. 599 --><pre class='lstinputlisting' id='listing-116'><span class='label'><a id='x1-70042r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-70043r2'></a></span> 
<span class='label'><a id='x1-70044r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-70045r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-70046r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-70047r6'></a></span> 
<span class='label'><a id='x1-70048r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-70049r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make([]string, </span><span class='ec-lmtt-9'>3)</span> 
</span><span class='label'><a id='x1-70050r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(v))</span> 
</span><span class='label'><a id='x1-70051r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>append(v, </span><span class='ec-lmtt-9'>"Yellow", </span><span class='ec-lmtt-9'>"Black")</span> 
</span><span class='label'><a id='x1-70052r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(v))</span> 
</span><span class='label'><a id='x1-70053r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 601 --><p class='noindent'>The above example append two values. Though you can provide any number of
values to append.
</p><!-- l. 604 --><p class='noindent'>You can use the "..." operator to expand a slice. This can be used to append one
slice to another slice. See this example:
</p>
<!-- l. 607 --><pre class='lstinputlisting' id='listing-117'><span class='label'><a id='x1-70056r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-70057r2'></a></span> 
<span class='label'><a id='x1-70058r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-70059r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-70060r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-70061r6'></a></span> 
<span class='label'><a id='x1-70062r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-70063r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make([]string, </span><span class='ec-lmtt-9'>3)</span> 
</span><span class='label'><a id='x1-70064r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(v))</span> 
</span><span class='label'><a id='x1-70065r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{"Yellow", </span><span class='ec-lmtt-9'>"Black"}</span> 
</span><span class='label'><a id='x1-70066r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>append(v, </span><span class='ec-lmtt-9'>a...)</span> 
</span><span class='label'><a id='x1-70067r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(v))</span> 
</span><span class='label'><a id='x1-70068r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 609 --><p class='noindent'>In the above example, the first slice is appended by all items in another
slice.
</p><!-- l. 611 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-71000'></a>Slice Append Optimization</h4>
<!-- l. 613 --><p class='noindent'>If you append<a id='dx1-71001'></a> too many values to a slice using a for loop, there is one optimization
related that you need to be aware.
</p><!-- l. 616 --><p class='noindent'>Consider this example:
</p>
<!-- l. 618 --><pre class='lstinputlisting' id='listing-118'><span class='label'><a id='x1-71004r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-71005r2'></a></span> 
<span class='label'><a id='x1-71006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-71007r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-71008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-71009r6'></a></span> 
<span class='label'><a id='x1-71010r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-71011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make([]string, </span><span class='ec-lmtt-9'>0)</span> 
</span><span class='label'><a id='x1-71012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>9000000; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-71013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>append(v, </span><span class='ec-lmtt-9'>"Yellow")</span> 
</span><span class='label'><a id='x1-71014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-71015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>len(v))</span> 
</span><span class='label'><a id='x1-71016r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 620 --><p class='noindent'>If you run the above program, it’s going to take few seconds to execute. To explain
this, some understanding of internal structure of slice is required. Slice is
implemented as a struct and an array within. The elements in the slice will be
stored in the underlying array. As you know, the length of array is part of the array
type. So, when appending an item to a slice the a new array will be created.
To optimize, the <span class='ec-lmtt-10'>append </span>function actually created an array with double
length.
</p><!-- l. 629 --><p class='noindent'>In the above example, the underlying array must be changed many times. This is
the reason why it’s taking few seconds to execute. The length of underlying array is
called the capacity of the slice. Go provides a way to initialize the underlying array
with a particular length. The <span class='ec-lmtt-10'>make </span>function has a fourth argument to specify the
capacity.
</p><!-- l. 636 --><p class='noindent'>In the above example, you can specify the capacity like this:
</p>
<!-- l. 638 -->
<pre class='lstlisting' id='listing-119'><span class='label'><a id='x1-71017r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make([]string, </span><span class='ec-lmtt-9'>0, </span><span class='ec-lmtt-9'>9000000)</span></span></pre>
<!-- l. 642 --><p class='noindent'>If you make this change and run the program again, you can see that it run much
faster than the earlier code. The reason for faster code is that the slice capacity had
already set with maximum required length.
</p><!-- l. 646 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>4.5   </span> <a id='x1-720004.5'></a>Maps</h3>
<!-- l. 648 --><p class='noindent'>Map<a id='dx1-72001'></a> is another important data structure in Go. We have briefly discussed about
maps in the Quickstart chapter. As you know, map is an implementation of hash
table. The hash table is available in many very high level languages. The data in
map is organized like key value pairs.
</p><!-- l. 654 --><p class='noindent'>A variable of map can be declared like this:
</p>
<!-- l. 656 -->
<pre class='lstlisting' id='listing-120'><span class='label'><a id='x1-72002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fruits </span><span class='ec-lmtt-9'>map[string]int</span></span></pre>
                                                                           
                                                                
<!-- l. 660 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>4.6   </span> <a id='x1-730004.6'></a>Custom Data Types</h3>
<!-- l. 662 --><p class='noindent'>Apart from the built-in data types, you can create your own custom data
types<a id='dx1-73001'></a>. The type keyword<a id='dx1-73002'></a> can be used to create custom types. Here is an
example.
</p>
<!-- l. 666 -->
<pre class='lstlisting' id='listing-121'><span class='label'><a id='x1-73003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-73004r2'></a></span> 
<span class='label'><a id='x1-73005r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-73006r4'></a></span> 
<span class='label'><a id='x1-73007r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age </span><span class='ec-lmtt-9'>int</span> 
</span><span class='label'><a id='x1-73008r6'></a></span> 
<span class='label'><a id='x1-73009r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-73010r8'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>age(2)</span> 
</span><span class='label'><a id='x1-73011r9'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-73012r10'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Type</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>a)</span> 
</span><span class='label'><a id='x1-73013r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 680 --><p class='noindent'>If you run the above program, the output will be like this::
</p>
<!-- l. 682 -->
<pre class='lstlisting' id='listing-122'><span class='label'><a id='x1-73014r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>age.go</span> 
</span><span class='label'><a id='x1-73015r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>2</span></span> 
<span class='label'><a id='x1-73016r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Type</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>age</span></span></pre>
<!-- l. 688 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-74000'></a>Structs</h4>
<!-- l. 690 --><p class='noindent'>Struct<a id='dx1-74001'></a> is a composite type with multiple fields of different types within the struct.
For example, if you want to represent a person with name and age, the
<span class='ec-lmtt-10'>struct </span>type will be helpful. The <span class='ec-lmtt-10'>Person </span>struct definition will look like
this:
</p>
<!-- l. 695 -->
<pre class='lstlisting' id='listing-123'><span class='label'><a id='x1-74002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Person </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-74003r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-74004r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Age</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>int</span></span> 
<span class='label'><a id='x1-74005r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 702 --><p class='noindent'>As you can see above, the <span class='ec-lmtt-10'>Person </span>struct is defined using <span class='ec-lmtt-10'>type </span>and <span class='ec-lmtt-10'>struct</span>
keywords. Within the curly brace, attributes with other types are defined. If you
avoid attributes, it will become an empty struct.
</p><!-- l. 707 --><p class='noindent'>Here is an example empty struct:
</p>
<!-- l. 709 -->
<pre class='lstlisting' id='listing-124'><span class='label'><a id='x1-74006r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Empty </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-74007r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                
                                                                           
   <!-- l. 714 --><p class='noindent'>Alternatively, the curly brace can be in the same line.
</p>
<!-- l. 716 -->
<pre class='lstlisting' id='listing-125'><span class='label'><a id='x1-74008r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Empty </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{}</span></span></pre>
<!-- l. 720 --><p class='noindent'>A struct can be initialized various ways. Using a <span class='ec-lmtt-10'>var </span>statement:
</p>
<!-- l. 723 -->
<pre class='lstlisting' id='listing-126'><span class='label'><a id='x1-74009r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>p1 </span><span class='ec-lmtt-9'>Person</span> 
</span><span class='label'><a id='x1-74010r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>p1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Tom"</span> 
</span><span class='label'><a id='x1-74011r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>p1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Age</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>10</span></span></pre>
<!-- l. 729 --><p class='noindent'>You can give a literal form with all attribute values:
</p>
<!-- l. 731 -->
<pre class='lstlisting' id='listing-127'><span class='label'><a id='x1-74012r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>p2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Person{"Polly", </span><span class='ec-lmtt-9'>50}</span></span></pre>
<!-- l. 735 --><p class='noindent'>You can also use named attributes. In the case of named attributes, if you miss any
values, the default zero value will be initialized.
</p>
<!-- l. 738 -->
<pre class='lstlisting' id='listing-128'><span class='label'><a id='x1-74013r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>p3</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Person{Name: </span><span class='ec-lmtt-9'>"Huck"}</span> 
</span><span class='label'><a id='x1-74014r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>p4</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Person{Age: </span><span class='ec-lmtt-9'>10}</span></span></pre>
<!-- l. 743 --><p class='noindent'>In the next, we are going to learn about funtions and methods. That chapter
expands the discussion about custom types bevior changes through funtions
associated with custom types called strcuts.
</p><!-- l. 747 --><p class='noindent'>It is possible to embed structs inside other structs<a id='dx1-74015'></a>. Here is an example:
</p>
<!-- l. 750 -->
<pre class='lstlisting' id='listing-129'><span class='label'><a id='x1-74016r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Person </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-74017r2'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>Name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-74018r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-74019r4'></a></span> 
<span class='label'><a id='x1-74020r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Member </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-74021r6'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>Person</span></span> 
<span class='label'><a id='x1-74022r7'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>ID</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>int</span> 
</span><span class='label'><a id='x1-74023r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 761 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>4.7   </span> <a id='x1-750004.7'></a>Pointers</h3>
                                                                                                         
                                                                
<!-- l. 763 --><p class='noindent'>When you are passing a variable as an argument to a function, Go creates a
copy of the value and send it. In some situations, creating a copy will be
expensive when the size of object is large. Another scenario where pass
by value is not feasible is when you need to modify the original object
inside the function. In the case of pass by value, you can modify it as you
are getting a new object every time. Go supports another way to pass a
reference to the original value using the memory location or address of the
object<a id='dx1-75001'></a>.
</p><!-- l. 773 --><p class='noindent'>To get address of a variable, you can use <span class='ec-lmtt-10'>&amp; </span>as a prefix for the variable. Here in an
example usage:
</p>
<!-- l. 776 -->
<pre class='lstlisting' id='listing-130'><span class='label'><a id='x1-75002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>7</span> 
</span><span class='label'><a id='x1-75003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&amp;a)</span></span></pre>

<!-- l. 781 --><p class='noindent'>To get the value back from the address, you can use  as a prefix for the variable.
Here in an example usage:
</p>
<!-- l. 784 -->
<pre class='lstlisting' id='listing-131'><span class='label'><a id='x1-75004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>7</span> 
</span><span class='label'><a id='x1-75005r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>b</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>&amp;a</span> 
</span><span class='label'><a id='x1-75006r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>*b)</span></span></pre>
<!-- l. 790 --><p class='noindent'>Here is a complete example:
</p>
<!-- l. 792 --><pre class='lstinputlisting' id='listing-132'><span class='label'><a id='x1-75009r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-75010r2'></a></span> 
<span class='label'><a id='x1-75011r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-75012r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-75013r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-75014r6'></a></span> 
<span class='label'><a id='x1-75015r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>value(a </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-75016r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&amp;a)</span> 
</span><span class='label'><a id='x1-75017r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-75018r10'></a></span> 
<span class='label'><a id='x1-75019r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>pointer(a </span><span class='ec-lmtt-9'>*int) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-75020r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a)</span> 
</span><span class='label'><a id='x1-75021r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-75022r14'></a></span> 
<span class='label'><a id='x1-75023r15'></a><span class='ec-lmr-8'>15</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-75024r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>4</span> 
</span><span class='label'><a id='x1-75025r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&amp;a)</span> 
</span><span class='label'><a id='x1-75026r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-75027r19'></a><span class='ec-lmr-8'>19</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>pointer</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(&amp;</span></span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-75028r20'></a><span class='ec-lmr-8'>20</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 794 --><p class='noindent'>A typical output will be like this:
</p>
<!-- l. 796 -->
<pre class='lstlisting' id='listing-133'><span class='label'><a id='x1-75029r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>0</span></span><span style='color:#000000'><span class='ec-lmtt-9'>xc42000a340</span></span> 
<span class='label'><a id='x1-75030r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>0</span></span><span style='color:#000000'><span class='ec-lmtt-9'>xc42000a348</span></span> 
<span class='label'><a id='x1-75031r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>0</span></span><span style='color:#000000'><span class='ec-lmtt-9'>xc42000a340</span></span></pre>
<!-- l. 802 --><p class='noindent'>As you can see above, the second output is different from the first and third. This is
because a value is passed instead of a pointer. And so when we are printing the
address, it’s printing the address of the new variable.
</p><!-- l. 807 --><p class='noindent'>In the functions chapter, the section about methods (section <a href='#x1-880005.6'>5.6<!-- tex4ht:ref: sec:methods  --></a>) explains the
pointer receiver.
                                                                
                                                                                                         
   </p><!-- l. 810 --><p class='noindent'>
   </p>
   <h4 class='subsectionHead'><a id='x1-76000'></a>new</h4>
   <!-- l. 812 --><p class='noindent'>The built-in function <span class='ec-lmri-10'>new </span>can be used to allocate memory. It allocates zero values
   and returns the address of the given data type.
   </p><!-- l. 815 --><p class='noindent'>Here is an example:
   </p>
   <!-- l. 817 -->
   <pre class='lstlisting' id='listing-134'><span class='label'><a id='x1-76001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>new(string)</span></span></pre>
   
<!-- l. 821 --><p class='noindent'>In this example, a <span class='ec-lmri-10'>string </span>pointer value is allocated with zero value, in this case
empty string, and assigned to a variable.
</p><!-- l. 824 --><p class='noindent'>This above example is same as this:
</p>
<!-- l. 826 -->
<pre class='lstlisting' id='listing-135'><span class='label'><a id='x1-76002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name </span><span class='ec-lmtt-9'>*string</span> 
</span><span class='label'><a id='x1-76003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>new(string)</span></span></pre>
<!-- l. 831 --><p class='noindent'>In this one <span class='ec-lmri-10'>string </span>pointer variable is declared, but it’s not allocated with zeror
value. It will have <span class='ec-lmri-10'>nil </span>value and so it cannot be dereferenced. If you try to
deference, without allocating using the <span class='ec-lmri-10'>new </span>function, you will get an error like
this:
</p>
<!-- l. 836 -->
<pre class='lstlisting' id='listing-136'><span class='label'><a id='x1-76004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>panic</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>runtime </span><span class='ec-lmtt-9'>error: </span><span class='ec-lmtt-9'>invalid </span><span class='ec-lmtt-9'>memory </span><span class='ec-lmtt-9'>address </span><span class='ec-lmtt-9'>or </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>pointer</span> 
</span><span class='label'><a id='x1-76005r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>dereference</span></span></pre>
<!-- l. 841 --><p class='noindent'>Here is another example using a custom type defined using a primitive
type:
</p>
<!-- l. 844 -->
<pre class='lstlisting' id='listing-137'><span class='label'><a id='x1-76006r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Temperature </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-76007r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>new(Temperature)</span></span></pre>
<!-- l. 849 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>4.8   </span> <a id='x1-770004.8'></a>Exercises</h3>
                                                                                                         
                                                                
<!-- l. 851 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Create a custom type for circle using float64 and define <span class='ec-lmtt-10'>Area </span>and
<span class='ec-lmtt-10'>Perimeter</span>.
</p><!-- l. 854 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 856 -->
<pre class='lstlisting' id='listing-138'><span class='label'><a id='x1-77001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-77002r2'></a></span> 
<span class='label'><a id='x1-77003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-77004r4'></a></span> 
<span class='label'><a id='x1-77005r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-77006r6'></a></span> 
<span class='label'><a id='x1-77007r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-77008r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64(3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r)</span> 
</span><span class='label'><a id='x1-77009r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-77010r10'></a></span> 
<span class='label'><a id='x1-77011r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Perimeter() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-77012r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64(2 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r)</span> 
</span><span class='label'><a id='x1-77013r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-77014r14'></a></span> 
<span class='label'><a id='x1-77015r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-77016r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Circle(4.0)</span> 
</span><span class='label'><a id='x1-77017r17'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>())</span></span> 
<span class='label'><a id='x1-77018r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Perimeter</span></span><span style='color:#000000'><span class='ec-lmtt-9'>())</span></span> 
<span class='label'><a id='x1-77019r19'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 878 --><p class='noindent'>The custom <span class='ec-lmtt-10'>Circle </span>type is created using the built-in <span class='ec-lmtt-10'>float64 </span>type. It would be
better if the circle is defined using a struct. Using struct helps to change
the structure later with additional attributes. The struct will look like
this:
</p>
<!-- l. 883 -->
<pre class='lstlisting' id='listing-139'><span class='label'><a id='x1-77020r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-77021r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-77022r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 889 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-78000'></a>Additional Exercises</h4>
<!-- l. 891 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 893 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>A program to record temperatures in different locations and
functionality to check whether its freezing or not.
</p><!-- l. 897 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-79000'></a>Summary</h3>
<!-- l. 899 --><p class='noindent'>This chapter introduced various data structures in Go. These data structures will
be helpful for organizing data. The chapter started with a section about zero values.
Then constants explained in detail including <span class='ec-lmri-10'>iota </span>keyword for defining incrementing
constants. Next, the chapter briefly explained about arrays. Then slices, the more
useful data structure built on top of array is explained. Then we looked at
how to define custom data types using existing primitive types. The struct
was introduced which is more useful to create custom data types. Pointer
is also covered. The next chapter will explain more about functions and
methods.
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.7'></a><a id='x1-79001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 5</span><br /><a id='x1-800005'></a>Functions &amp; Methods</h2>
  <blockquote class='quote'>
  <!-- l. 7 --><p class='noindent'><span class='ec-lmri-10'>Either mathematics is too big for the human mind, or the human
  </span><span class='ec-lmri-10'>mind is more than a machine. </span>— Kurt Gödel</p></blockquote>
<!-- l. 10 --><p class='noindent'>In this chapter, we are going to learn more about functions. You have already seen
functions in previous chapters. Functions provide a way to group statements
together and call it multiple times. If you don’t use functions, the same statements
will be written again and again in different parts of your code. Ultimately functions
helps you to reuse code. A function can optionally accept arguments and execute
statements and optionally return values.
</p><!-- l. 18 --><p class='noindent'>Mathematical function would be a good analogy to understand the concept of
functions in programming. We have seen this mathematical function in the
Quickstart chapter.
</p>
<figure class='figure'> 

                                                                
                                                                                                         
                                                                                                         
                                                                
<!-- l. 24 --><p class='noindent'><img alt='32f(=.r14)r ' src='essential-go2x.svg' />
<a id='x1-80001r1'></a>
</p>
<figcaption class='caption'><span class='id'>Figure 5.1: </span><span class='content'>Mathematical function for area of a circle
</span></figcaption><!-- tex4ht:label?: x1-80001r1  -->
                                                                
                                                                                                         
   </figure>
   <!-- l. 33 --><p class='noindent'>This function square the input value and multiply with 3.14. Depending on the
   input value the output varies.
   </p>
   <figure class='figure'> 

                                                                                                         
                                                                
                                                                
                                                                                                         
   <!-- l. 38 --><p class='noindent'><img alt='r32f(y.1r4)r  ' src='essential-go3x.svg' />
   <a id='x1-80002r2'></a>
   </p>
   <figcaption class='caption'><span class='id'>Figure 5.2: </span><span class='content'>Blackbox representation of a function
   </span></figcaption><!-- tex4ht:label?: x1-80002r2  -->
                                                                                                         
                                                                
</figure>
<!-- l. 51 --><p class='noindent'>As you can see in the diagram, <span class='ec-lmtt-10'>r </span>is the input and <span class='ec-lmtt-10'>y </span>is the output. A function in Go
can take input arguments and perform actions and return values. A minimal
implementation of this function in Go looks like this.
</p>
<!-- l. 56 -->
<pre class='lstlisting' id='listing-140'><span class='label'><a id='x1-80003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area(r </span><span class='ec-lmtt-9'>float64) </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-80004r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r</span> 
</span><span class='label'><a id='x1-80005r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 62 --><p class='noindent'>The function declaration starts with <span class='ec-lmtt-10'>func </span>keyword. In the above example, <span class='ec-lmtt-10'>Area </span>is
the function name which can be later used to call the function. The arguments that
can be received by this function is given within brackets. After the input
parameters you can specify the output parameters. If there are more than one
output parameter required, use a bracket around that. After the output parameters,
add one opening curly bracket. The statements can be written in the next line on
wards until the closing curly bracket. It is recommended to start a new line
after the opening curly bracket and closing bracket can be in a line by its
own.
</p><!-- l. 73 --><p class='noindent'>Here is a complete example with usage of the Area function.
</p>
<!-- l. 75 -->
<p><a id='x1-80006r1'></a>
<a id='x1-80007'></a>
</p><figcaption class='caption'><span class='id'>Listing 5.1:        </span><span class='content'>Function        to        calculate        area        of        circle
(area.go)</span></figcaption><!-- tex4ht:label?: x1-80006r5  --><pre class='lstlisting' id='listing-141'><span class='label'><a id='x1-80008r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-80009r2'></a></span> 
<span class='label'><a id='x1-80010r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-80011r4'></a></span> 
<span class='label'><a id='x1-80012r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area(r </span><span class='ec-lmtt-9'>float64) </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-80013r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r</span> 
</span><span class='label'><a id='x1-80014r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-80015r8'></a></span> 
<span class='label'><a id='x1-80016r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-80017r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>area</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Area(5.0)</span> 
</span><span class='label'><a id='x1-80018r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-80019r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 90 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>Area </span>function is called with argument value as <span class='ec-lmtt-10'>5.0 </span>(line
number 10). And the short variable declaration syntax is used to assign value
returned by the function. The type of the variable <span class='ec-lmtt-10'>area </span>will be <span class='ec-lmtt-10'>float64 </span>as the <span class='ec-lmtt-10'>Area</span>
function returns with that type.
</p><!-- l. 96 --><p class='noindent'>If you run the above program, you will get the output like this:
</p>
<!-- l. 98 -->
<pre class='lstlisting' id='listing-142'><span class='label'><a id='x1-80020r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>area.go</span> 
</span><span class='label'><a id='x1-80021r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>78.5</span></span></pre>
<h3 class='sectionHead'><span class='titlemark'>5.1   </span> <a id='x1-810005.1'></a>Parameters</h3>
                                                                
                                                                                                         
   <!-- l. 105 --><p class='noindent'>A function can accept any number of arguments depending on the parameters
   defined. The <span class='ec-lmtt-10'>Area </span>function in the previous section accepts one argument.
   </p><!-- l. 109 --><p class='noindent'>If the function definition doesn’t have any parameters, you cannot pass any
   arguments. Parameter<a id='dx1-81001'></a> is the variable used in the declaration of a function. Where
   as argument<a id='dx1-81002'></a> is the actual value of this variable that gets passed to function.
   Consider this example:
   </p>
   <!-- l. 115 -->
   <p><a id='x1-81003r2'></a>
   <a id='x1-81004'></a>
   </p><figcaption class='caption'><span class='id'>Listing 5.2: </span><span class='content'>Function without any parameters</span></figcaption><!-- tex4ht:label?: x1-81003r5.1  --><pre class='lstlisting' id='listing-143'><span class='label'><a id='x1-81005r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-81006r2'></a></span> 
<span class='label'><a id='x1-81007r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-81008r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-81009r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-81010r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-81011r7'></a></span> 
<span class='label'><a id='x1-81012r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>TimeNow() </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-81013r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>time.Now()</span> 
</span><span class='label'><a id='x1-81014r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>h</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>t.Hour()</span> 
</span><span class='label'><a id='x1-81015r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>m</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>t.Minute()</span> 
</span><span class='label'><a id='x1-81016r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fmt.Sprintf("%d:%d", </span><span class='ec-lmtt-9'>h, </span><span class='ec-lmtt-9'>m)</span> 
</span><span class='label'><a id='x1-81017r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-81018r14'></a></span> 
<span class='label'><a id='x1-81019r15'></a><span class='ec-lmr-8'>15</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-81020r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>now</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>TimeNow()</span> 
</span><span class='label'><a id='x1-81021r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>now</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-81022r18'></a><span class='ec-lmr-8'>18</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 136 --><p class='noindent'>The <span class='ec-lmtt-10'>TimeNow </span>function doesn’t declare any parameters. So, when the function is
called, no arguments are passed. If you try to pass any arguments, you
will get an error with this message: <span class='ec-lmtt-10'>too many arguments in call to
</span><span class='ec-lmtt-10'>TimeNow</span>.
</p><!-- l. 141 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-82000'></a>More parameters</h4>
<!-- l. 143 --><p class='noindent'>A function can accepts more arguments of same or different types.
</p>
<!-- l. 145 -->
<p><a id='x1-82001r3'></a>
<a id='x1-82002'></a>
</p><figcaption class='caption'><span class='id'>Listing 5.3: </span><span class='content'>Function with two parameters</span></figcaption><!-- tex4ht:label?: x1-82001r  --><pre class='lstlisting' id='listing-144'><span class='label'><a id='x1-82003r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-82004r2'></a></span> 
<span class='label'><a id='x1-82005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-82006r4'></a></span> 
<span class='label'><a id='x1-82007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sum(a </span><span class='ec-lmtt-9'>int, </span><span class='ec-lmtt-9'>b </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>int </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-82008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>b</span> 
</span><span class='label'><a id='x1-82009r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-82010r8'></a></span> 
<span class='label'><a id='x1-82011r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-82012r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>sum(5, </span><span class='ec-lmtt-9'>2)</span> 
</span><span class='label'><a id='x1-82013r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-82014r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 160 --><p class='noindent'>The above <span class='ec-lmtt-10'>sum </span>function accepts two integer parameters. Since both parameters are
integers, the type can be specified once.
</p>
<!-- l. 163 -->
<pre class='lstlisting' id='listing-145'><span class='label'><a id='x1-82015r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sum(a, </span><span class='ec-lmtt-9'>b </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>int </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-82016r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>b</span> 
</span><span class='label'><a id='x1-82017r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                           
                                                                
<!-- l. 169 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>5.2   </span> <a id='x1-830005.2'></a>Return Values</h3>
<!-- l. 171 --><p class='noindent'>A function can return any number of values<a id='dx1-83001'></a>. The calling side should have comma
separated variables to receive the return values. If you are only interested in a
particular return value, you can use underscore as the variable name for
others.
</p><!-- l. 176 --><p class='noindent'>Here is an example function which return two values:
</p>
<!-- l. 178 -->
<p><a id='x1-83002r4'></a>
<a id='x1-83003'></a>
</p><figcaption class='caption'><span class='id'>Listing 5.4: </span><span class='content'>Function with two return values</span></figcaption><!-- tex4ht:label?: x1-83002r5.2  --><pre class='lstlisting' id='listing-146'><span class='label'><a id='x1-83004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-83005r2'></a></span> 
<span class='label'><a id='x1-83006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-83007r4'></a></span> 
<span class='label'><a id='x1-83008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>div(a, </span><span class='ec-lmtt-9'>b </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>(int, </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-83009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>/ </span><span class='ec-lmtt-9'>b, </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>% </span><span class='ec-lmtt-9'>b</span> 
</span><span class='label'><a id='x1-83010r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-83011r8'></a></span> 
<span class='label'><a id='x1-83012r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-83013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>div(5, </span><span class='ec-lmtt-9'>2)</span> 
</span><span class='label'><a id='x1-83014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r)</span> 
</span><span class='label'><a id='x1-83015r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 193 --><p class='noindent'>In the above example, the div function return two values. So two variables are used
to assign the values. If you use one variable it will produce compile time error. The
compile time error will be produced, if more than two variables are used to
assigned. However, it is possible to call the function without assigning to any
variables.
</p>
<!-- l. 200 -->
<pre class='lstlisting' id='listing-147'><span class='label'><a id='x1-83016r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_ </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>div(5, </span><span class='ec-lmtt-9'>2)</span> 
</span><span class='label'><a id='x1-83017r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>div</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(5,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2)</span></span></pre>
<!-- l. 205 --><p class='noindent'>By convention, the last return value will be an error value. Here is a modified
example.
</p>
<!-- l. 208 -->
<pre class='lstlisting' id='listing-148'><span class='label'><a id='x1-83018r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>div(a, </span><span class='ec-lmtt-9'>b </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>(int, </span><span class='ec-lmtt-9'>int, </span><span class='ec-lmtt-9'>error) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-83019r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>b </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-83020r3'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>err</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>errors.New("Zero </span><span class='ec-lmtt-9'>division </span><span class='ec-lmtt-9'>error")</span> 
</span><span class='label'><a id='x1-83021r4'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>0, </span><span class='ec-lmtt-9'>0, </span><span class='ec-lmtt-9'>err</span> 
</span><span class='label'><a id='x1-83022r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-83023r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>/ </span><span class='ec-lmtt-9'>b, </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>% </span><span class='ec-lmtt-9'>b, </span><span class='ec-lmtt-9'>nil</span> 
</span><span class='label'><a id='x1-83024r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 218 --><p class='noindent'>In the above example, package <span class='ec-lmtt-10'>errors </span>is used to create a new error value. If there
is no error, a <span class='ec-lmtt-10'>nil </span>value can be returned.
</p><!-- l. 222 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-84000'></a>Named output parameters</h4>
                                                                
                                                                                                         
   <!-- l. 224 --><p class='noindent'>It is possible to specify name for output parameters<a id='dx1-84001'></a>. These variables can be used to
   assign values. With named output parameters, return statement need not to
   explicitly specify the variables.
   </p>
   <!-- l. 229 -->
   <p><a id='x1-84002r5'></a>
   <a id='x1-84003'></a>
   </p><figcaption class='caption'><span class='id'>Listing 5.5:             </span><span class='content'>Function             with             named             output
   parameters</span></figcaption><!-- tex4ht:label?: x1-84002r  --><pre class='lstlisting' id='listing-149'><span class='label'><a id='x1-84004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-84005r2'></a></span> 
<span class='label'><a id='x1-84006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-84007r4'></a></span> 
<span class='label'><a id='x1-84008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>div(a, </span><span class='ec-lmtt-9'>b </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>(int </span><span class='ec-lmtt-9'>d, </span><span class='ec-lmtt-9'>int </span><span class='ec-lmtt-9'>r) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-84009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>d</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>/ </span><span class='ec-lmtt-9'>b</span> 
</span><span class='label'><a id='x1-84010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>% </span><span class='ec-lmtt-9'>b</span> 
</span><span class='label'><a id='x1-84011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span> 
<span class='label'><a id='x1-84012r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-84013r10'></a></span> 
<span class='label'><a id='x1-84014r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-84015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>div(5, </span><span class='ec-lmtt-9'>2)</span> 
</span><span class='label'><a id='x1-84016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r)</span> 
</span><span class='label'><a id='x1-84017r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 246 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>5.3   </span> <a id='x1-850005.3'></a>Variadic Functions</h3>
<!-- l. 248 --><p class='noindent'>A function<a id='dx1-85001'></a><a id='dx1-85002'></a> which can receive any number of arguments of a particular type is called
variadic function. Variable name along with an ellipsis (<span class='ec-lmtt-10'>...</span>) symbol is used to
declare variadic parameters. The <span class='ec-lmtt-10'>fmt.Println </span>is a commonly used variadic
function.
</p><!-- l. 254 --><p class='noindent'>Here is a complete example:
</p>
<!-- l. 256 -->
<p><a id='x1-85003r6'></a>
<a id='x1-85004'></a>
</p><figcaption class='caption'><span class='id'>Listing 5.6: </span><span class='content'>Variadic Function (variadic.go)</span></figcaption><!-- tex4ht:label?: x1-85003r5.3  --><pre class='lstlisting' id='listing-150'><span class='label'><a id='x1-85005r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-85006r2'></a></span> 
<span class='label'><a id='x1-85007r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-85008r4'></a></span> 
<span class='label'><a id='x1-85009r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sum(nums </span><span class='ec-lmtt-9'>...int) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-85010r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%#</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>", </span><span class='ec-lmtt-9'>nums)</span> 
</span><span class='label'><a id='x1-85011r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>total</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0</span> 
</span><span class='label'><a id='x1-85012r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_, </span><span class='ec-lmtt-9'>num </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>nums </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-85013r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>total</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>+= </span><span class='ec-lmtt-9'>num</span> 
</span><span class='label'><a id='x1-85014r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-85015r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>total</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-85016r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-85017r13'></a></span> 
<span class='label'><a id='x1-85018r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-85019r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2)</span> 
</span><span class='label'><a id='x1-85020r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2, </span><span class='ec-lmtt-9'>3)</span> 
</span><span class='label'><a id='x1-85021r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>nums</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]int{1, </span><span class='ec-lmtt-9'>2, </span><span class='ec-lmtt-9'>3, </span><span class='ec-lmtt-9'>4}</span> 
</span><span class='label'><a id='x1-85022r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>nums</span></span><span style='color:#000000'><span class='ec-lmtt-9'>...)</span></span> 
<span class='label'><a id='x1-85023r19'></a><span class='ec-lmr-8'>19</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 278 --><p class='noindent'>If you run the above program, this will be the output:
</p>
<!-- l. 280 -->
<pre class='lstlisting' id='listing-151'><span class='label'><a id='x1-85024r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>variadic.go</span> 
</span><span class='label'><a id='x1-85025r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>[]</span></span><span style='color:#000000'><span class='ec-lmtt-9'>int</span></span><span style='color:#000000'><span class='ec-lmtt-9'>{1,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2} </span><span class='ec-lmtt-9'>Sum: </span><span class='ec-lmtt-9'>3</span> 
</span><span class='label'><a id='x1-85026r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>[]</span></span><span style='color:#000000'><span class='ec-lmtt-9'>int</span></span><span style='color:#000000'><span class='ec-lmtt-9'>{1,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2, </span><span class='ec-lmtt-9'>3} </span><span class='ec-lmtt-9'>Sum: </span><span class='ec-lmtt-9'>6</span> 
</span><span class='label'><a id='x1-85027r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>[]</span></span><span style='color:#000000'><span class='ec-lmtt-9'>int</span></span><span style='color:#000000'><span class='ec-lmtt-9'>{1,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2, </span><span class='ec-lmtt-9'>3, </span><span class='ec-lmtt-9'>4} </span><span class='ec-lmtt-9'>Sum: </span><span class='ec-lmtt-9'>10</span></span></pre>
<!-- l. 287 --><p class='noindent'>As you can see the arguments are captured into a slice. You can send values in a
slice to a variadic function using the ellipsis syntax as a suffix.
                                                                                                         
                                                                
</p><!-- l. 291 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>5.4   </span> <a id='x1-860005.4'></a>Anonymous Functions</h3>
<!-- l. 293 --><p class='noindent'>It is possible to declare a function without a name<a id='dx1-86001'></a>. These type of functions can be
used to create function closures. A closure is an anonymous function that access
variables from outside its body.
</p>
<!-- l. 298 -->
<p><a id='x1-86002r7'></a>
<a id='x1-86003'></a>
</p><figcaption class='caption'><span class='id'>Listing 5.7: </span><span class='content'>Anonymous Function (anonfunc.go)</span></figcaption><!-- tex4ht:label?: x1-86002r5.4  --><pre class='lstlisting' id='listing-152'><span class='label'><a id='x1-86004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-86005r2'></a></span> 
<span class='label'><a id='x1-86006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-86007r4'></a></span> 
<span class='label'><a id='x1-86008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-86009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"Tom"</span> 
</span><span class='label'><a id='x1-86010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-86011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name)</span> 
</span><span class='label'><a id='x1-86012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>}()</span></span> 
<span class='label'><a id='x1-86013r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 311 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>5.5   </span> <a id='x1-870005.5'></a>Function as Value</h3>
<!-- l. 313 --><p class='noindent'>Function is a first class citizen<a id='dx1-87001'></a> in Go, so it can be passed as an argument and return
as a value.
</p>
<!-- l. 316 -->
<p><a id='x1-87002r8'></a>
<a id='x1-87003'></a>
</p><figcaption class='caption'><span class='id'>Listing 5.8: </span><span class='content'>Function as value (funcvalue.go)</span></figcaption><!-- tex4ht:label?: x1-87002r5.5  --><pre class='lstlisting' id='listing-153'><span class='label'><a id='x1-87004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-87005r2'></a></span> 
<span class='label'><a id='x1-87006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-87007r4'></a></span> 
<span class='label'><a id='x1-87008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Greeting(msg </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>func(name </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-87009r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-87010r7'></a></span> 
<span class='label'><a id='x1-87011r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-87012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"Tom"</span> 
</span><span class='label'><a id='x1-87013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-87014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name)</span> 
</span><span class='label'><a id='x1-87015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>}()</span></span> 
<span class='label'><a id='x1-87016r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 332 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>5.6   </span> <a id='x1-880005.6'></a>Methods</h3>
<!-- l. 335 --><p class='noindent'>A function can be associated with a type, that is called method. Additional
methods can be added to types defined locally. However, adding additional methods
for non-local type is not allowed. Here is an example program:
</p>
<!-- l. 340 -->
<pre class='lstlisting' id='listing-154'><span class='label'><a id='x1-88001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-88002r2'></a></span> 
<span class='label'><a id='x1-88003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-88004r4'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-88005r5'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-88006r6'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>strconv</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-88007r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-88008r8'></a></span> 
<span class='label'><a id='x1-88009r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Number </span><span class='ec-lmtt-9'>int</span> 
</span><span class='label'><a id='x1-88010r10'></a></span> 
<span class='label'><a id='x1-88011r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(num </span><span class='ec-lmtt-9'>Number) </span><span class='ec-lmtt-9'>Even() </span><span class='ec-lmtt-9'>bool </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88012r12'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>num%2 </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88013r13'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-88014r14'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>else </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88015r15'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>false</span> 
</span><span class='label'><a id='x1-88016r16'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88017r17'></a></span> 
<span class='label'><a id='x1-88018r18'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88019r19'></a></span> 
<span class='label'><a id='x1-88020r20'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88021r21'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>os.Args[1]</span> 
</span><span class='label'><a id='x1-88022r22'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>strconv.Atoi(i)</span> 
</span><span class='label'><a id='x1-88023r23'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88024r24'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Not</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>number:", </span><span class='ec-lmtt-9'>i)</span> 
</span><span class='label'><a id='x1-88025r25'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Exit</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-88026r26'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88027r27'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>num</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Number(n)</span> 
</span><span class='label'><a id='x1-88028r28'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>num</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Even</span></span><span style='color:#000000'><span class='ec-lmtt-9'>())</span></span> 
<span class='label'><a id='x1-88029r29'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                
                                                                           
   <!-- l. 372 --><p class='noindent'>In the above program, a custom type named <span class='ec-lmtt-10'>Number </span>is defined. Later a method
named <span class='ec-lmtt-10'>Even </span>is defined below. To define a method for any type, the syntax is like
this: <span class='ec-lmtt-10'>func (value CustomType) MethodName()</span>. You can also define input
parameters and output parameters. In the above the output parameter is given as a
<span class='ec-lmtt-10'>bool </span>value.
</p><!-- l. 379 --><p class='noindent'>You can associate methods<a id='dx1-88030'></a> to structs. Consider this struct:
</p>
<!-- l. 382 -->
<pre class='lstlisting' id='listing-155'><span class='label'><a id='x1-88031r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88032r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>float64</span></span> 
<span class='label'><a id='x1-88033r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Height</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-88034r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 389 --><p class='noindent'>If you want methods to calculate area and perimeter for this rectangle, you can
define methods like this:
</p>
<!-- l. 392 -->
<pre class='lstlisting' id='listing-156'><span class='label'><a id='x1-88035r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88036r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Width </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r.Height</span> 
</span><span class='label'><a id='x1-88037r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88038r4'></a></span> 
<span class='label'><a id='x1-88039r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Perimeter() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88040r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>(r.Width </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r.Height)</span> 
</span><span class='label'><a id='x1-88041r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 402 --><p class='noindent'>You can call these methods from the struct initialized using the <span class='ec-lmtt-10'>Rectangle </span>struct.
Here is an example:
</p>
<!-- l. 405 -->
<pre class='lstlisting' id='listing-157'><span class='label'><a id='x1-88042r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Rectangle{3.0, </span><span class='ec-lmtt-9'>5.0}</span> 
</span><span class='label'><a id='x1-88043r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>area</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>r.Area()</span> 
</span><span class='label'><a id='x1-88044r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>perimeter</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>r.Perimeter()</span></span></pre>
<!-- l. 411 --><p class='noindent'>When a function is bound to a type, it is called method<a id='dx1-88045'></a>. The type that is bound is
called receiver. A receiver could be any type with a name. When you declare a
method, it is defined using receiver argument. The receiver argument points to
the type where the method will be available. The receiver argument is
specified between func keyword and the method name inside a bracket with a
name.
</p><!-- l. 418 --><p class='noindent'>Methods can be defined only on types declared in the same package. Declaring a
method on built-in type is also illegal.
</p><!-- l. 421 --><p class='noindent'>Here is an example:
</p>
<!-- l. 423 -->
<p><a id='x1-88046r9'></a>
<a id='x1-88047'></a>
</p><figcaption class='caption'><span class='id'>Listing 5.9: </span><span class='content'>Method</span></figcaption><!-- tex4ht:label?: x1-88046r5.6  --><pre class='lstlisting' id='listing-158'><span class='label'><a id='x1-88048r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-88049r2'></a></span> 
<span class='label'><a id='x1-88050r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-88051r4'></a></span> 
<span class='label'><a id='x1-88052r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88053r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-88054r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88055r8'></a></span> 
<span class='label'><a id='x1-88056r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88057r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.radius </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.radius</span> 
</span><span class='label'><a id='x1-88058r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88059r12'></a></span> 
<span class='label'><a id='x1-88060r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88061r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Circle{3.4}</span> 
</span><span class='label'><a id='x1-88062r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>c.Area()</span> 
</span><span class='label'><a id='x1-88063r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-88064r17'></a><span class='ec-lmr-8'>17</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                           
                                                                
<!-- l. 444 --><p class='noindent'>In the above example, the method <span class='ec-lmtt-10'>Area </span>calculate area for a circle.
</p><!-- l. 447 --><p class='noindent'>The receiver could be pointer also. Here is a modified example with pointer
receiver:
</p>
<!-- l. 450 --><pre class='lstinputlisting' id='listing-159'><span class='label'><a id='x1-88067r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-88068r2'></a></span> 
<span class='label'><a id='x1-88069r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-88070r4'></a></span> 
<span class='label'><a id='x1-88071r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88072r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-88073r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88074r8'></a></span> 
<span class='label'><a id='x1-88075r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>*Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88076r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.radius </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.radius</span> 
</span><span class='label'><a id='x1-88077r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88078r12'></a></span> 
<span class='label'><a id='x1-88079r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-88080r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Circle{3.4}</span> 
</span><span class='label'><a id='x1-88081r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>a1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>c1.Area()</span> 
</span><span class='label'><a id='x1-88082r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>a1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-88083r17'></a></span> 
<span class='label'><a id='x1-88084r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>&amp;Circle{3.4}</span> 
</span><span class='label'><a id='x1-88085r19'></a><span class='ec-lmr-8'>19</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>a2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>c2.Area()</span> 
</span><span class='label'><a id='x1-88086r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>a2</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-88087r21'></a></span> 
<span class='label'><a id='x1-88088r22'></a><span class='ec-lmr-8'>22</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 452 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>Area </span>method is using a pointer receiver. When creating
object, you can create a normal value or a pointer value. Calling the <span class='ec-lmtt-10'>Area </span>can use
either a normal value or a pointer value.
</p><!-- l. 457 --><p class='noindent'>Pointer receiver<a id='dx1-88089'></a> can be used when for any of these three reason:
</p>
     <ul class='itemize1'>
     <li class='itemize'>To modify the receiver itself by changing the value of attributes.
     </li>
     <li class='itemize'>The object is very large and a passing a deep copy is expensive.
     </li>
     <li class='itemize'>Consistency: Let all methods have pointer receivers.</li></ul>
<!-- l. 466 --><p class='noindent'>You can use new function to allocate memory for <span class='ec-lmri-10'>struct</span>:
</p>
<!-- l. 468 -->
<pre class='lstlisting' id='listing-160'><span class='label'><a id='x1-88090r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Temperature </span><span class='ec-lmtt-9'>struct{</span> 
</span><span class='label'><a id='x1-88091r2'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-88092r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88093r4'></a></span> 
<span class='label'><a id='x1-88094r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>new(Temperature)</span></span></pre>
<!-- l. 476 --><p class='noindent'>In the above example, the zero value is allocated and assigned to the variable <span class='ec-lmtt-10'>name</span>.
But in some cases, zero value is not what you required. So you can use <span class='ec-lmtt-10'>&amp; </span>to with
struct syntax like this:
</p>
<!-- l. 480 -->
                                                                
                                                                                                         
   <pre class='lstlisting' id='listing-161'><span class='label'><a id='x1-88095r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Temperature </span><span class='ec-lmtt-9'>struct{</span> 
</span><span class='label'><a id='x1-88096r2'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-88097r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-88098r4'></a></span> 
<span class='label'><a id='x1-88099r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>&amp;Temperature{Value: </span><span class='ec-lmtt-9'>-7.6}</span></span></pre>
   
<!-- l. 488 --><p class='noindent'>As you can see, the temperature value is set to <span class='ec-lmtt-10'>-7.6 </span>and assigned to the
variable.
</p><!-- l. 491 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>5.7   </span> <a id='x1-890005.7'></a>Exercises</h3>
<!-- l. 493 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Write a method to calculate the area of a rectangle.
</p><!-- l. 495 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 497 -->
<pre class='lstlisting' id='listing-162'><span class='label'><a id='x1-89001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-89002r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>float64</span></span> 
<span class='label'><a id='x1-89003r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Height</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-89004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-89005r5'></a></span> 
<span class='label'><a id='x1-89006r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-89007r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Width </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r.Height</span> 
</span><span class='label'><a id='x1-89008r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 508 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-90000'></a>Additional Exercises</h4>
<!-- l. 510 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 512 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program with a function to calculate perimeter of a
circle.
</p><!-- l. 514 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-91000'></a>Summary</h3>
<!-- l. 516 --><p class='noindent'>This chapter explained all the major aspects of functions in Go. The chapter
covered how to send input parameters and return values. It also explained about
variadic function and anonymous function. This chapter briefly also covered
methods. The next chapter will cover interfaces. Along with that, we will learn
more about methods.
                                                                                                         
                                                                
<a id='likesection.8'></a><a id='x1-91001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 6</span><br /><a id='x1-920006'></a>Interfaces</h2>
  <blockquote class='quote'>
  <!-- l. 6 --><p class='noindent'><span class='ec-lmri-10'>Program to an interface, not an implementation. </span>– Design Patterns
  by Gang of Four</p></blockquote>
<!-- l. 10 --><p class='noindent'>In the chapter on functions, we have also learned about methods. A method is a
function associated with a type, more specifically a concrete type. As you know, an
object is an instance of a type. In general, methods define the behavior of an
object.
</p><!-- l. 15 --><p class='noindent'>Interfaces<a id='dx1-92001'></a> in Go provide a formal way to specify the behavior of an object. In
layman’s terms, Interface is like a blueprint which describes an object. So,
Interface is considered as an abstract type, commonly referred to as interface
type.
</p><!-- l. 20 --><p class='noindent'>Small interfaces with one or two methods are common in Go.
</p><!-- l. 22 --><p class='noindent'>Here is a <span class='ec-lmtt-10'>Geometry </span>interface which defines two methods:
</p>
<!-- l. 24 -->
<pre class='lstlisting' id='listing-163'><span class='label'><a id='x1-92002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Geometry </span><span class='ec-lmtt-9'>interface </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-92003r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-92004r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Perimeter</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-92005r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 31 --><p class='noindent'>If any type satisfy this interface - that is define these two methods which returns
float64 - then, we can say that type is implementing this interface. One difference
with many other languages with interface support and Go is that, in Go
implementing an interface happens implicitly. So, no need to explicitly declare a
type is implementing a particular interface.
</p><!-- l. 38 --><p class='noindent'>To understand this idea, consider this <span class='ec-lmtt-10'>Rectangle </span>struct type:
</p>
<!-- l. 40 -->
<pre class='lstlisting' id='listing-164'><span class='label'><a id='x1-92006r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-92007r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-92008r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Height</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-92009r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-92010r5'></a></span> 
<span class='label'><a id='x1-92011r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-92012r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Width </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r.Height</span> 
</span><span class='label'><a id='x1-92013r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-92014r9'></a></span> 
<span class='label'><a id='x1-92015r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Perimeter() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-92016r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2*(r.width </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>r.height)</span> 
</span><span class='label'><a id='x1-92017r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 55 --><p class='noindent'>As you can see above, the above Rectangle type has two methods named Area and
Perimeter which returns float64. So, we can say Rectangle is implementing the
<span class='ec-lmtt-10'>Geometry </span>interface. To elaborate the example further, we will create one more
implementation:
</p>
<!-- l. 60 -->
<pre class='lstlisting' id='listing-165'><span class='label'><a id='x1-92018r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-92019r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-92020r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-92021r4'></a></span> 
<span class='label'><a id='x1-92022r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-92023r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius</span> 
</span><span class='label'><a id='x1-92024r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-92025r8'></a></span> 
<span class='label'><a id='x1-92026r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Perimeter() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-92027r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius</span> 
</span><span class='label'><a id='x1-92028r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                
                                                                           
   <!-- l. 74 --><p class='noindent'>Now we have two separate implementations for the <span class='ec-lmtt-10'>Geometry </span>interface. So, if
anywhere the <span class='ec-lmtt-10'>Geometry </span>interface type is expected, you can use any of these
implementations.
</p><!-- l. 78 --><p class='noindent'>Let’s define a function which accepts a <span class='ec-lmtt-10'>Geometry </span>type and prints area and
perimeter.
</p>
<!-- l. 81 -->
<pre class='lstlisting' id='listing-166'><span class='label'><a id='x1-92029r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Measure(g </span><span class='ec-lmtt-9'>Geometry) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-92030r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>g.Area())</span> 
</span><span class='label'><a id='x1-92031r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Perimeter</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>g.Perimeter())</span> 
</span><span class='label'><a id='x1-92032r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 88 --><p class='noindent'>When you call the above function, you can pass the argument as an object of
<span class='ec-lmtt-10'>Geometry </span>interface type. Since both <span class='ec-lmtt-10'>Rectangle </span>and <span class='ec-lmtt-10'>Circle </span>satisfy that interface,
you can use either one of them.
</p><!-- l. 93 --><p class='noindent'>Here is a code which call <span class='ec-lmtt-10'>Measure </span>function with <span class='ec-lmtt-10'>Rectangle </span>and <span class='ec-lmtt-10'>Circle</span>
objects:
</p>
<!-- l. 96 -->
<pre class='lstlisting' id='listing-167'><span class='label'><a id='x1-92033r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Rectangle{Width: </span><span class='ec-lmtt-9'>2.5, </span><span class='ec-lmtt-9'>Height: </span><span class='ec-lmtt-9'>4.0}</span> 
</span><span class='label'><a id='x1-92034r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Circle{Radius: </span><span class='ec-lmtt-9'>6.5}</span> 
</span><span class='label'><a id='x1-92035r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Measure</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-92036r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Measure</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
<h3 class='sectionHead'><span class='titlemark'>6.1   </span> <a id='x1-930006.1'></a>Type with Multiple Interfaces</h3>
<!-- l. 105 --><p class='noindent'>In Go, a type can implement more than one interface. If a type has methods that
satisfy different interfaces, we can say that that type is implementing those
interfaces.
</p><!-- l. 109 --><p class='noindent'>Consider this interface:
</p>
<!-- l. 111 -->
<pre class='lstlisting' id='listing-168'><span class='label'><a id='x1-93001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Stringer </span><span class='ec-lmtt-9'>interface </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-93002r2'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>String</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-93003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 117 --><p class='noindent'>In previous section, there was a Rectangle type declared with two methods. In
the same package, if you declare one more method like below, it makes
that type implementing Stringer interface in addition to the Geometry
interface.
</p>
<!-- l. 122 -->
<pre class='lstlisting' id='listing-169'><span class='label'><a id='x1-93004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>String() </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-93005r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fmt.Sprintf("Rectangle </span><span class='ec-lmtt-9'>%vx%v", </span><span class='ec-lmtt-9'>r.Width </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r.Height)</span> 
</span><span class='label'><a id='x1-93006r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                           
                                                                
<!-- l. 128 --><p class='noindent'>Now the <span class='ec-lmtt-10'>Rectangle </span>type conforms to both <span class='ec-lmtt-10'>Geometry </span>interface and <span class='ec-lmtt-10'>Stringer</span>
interface.
</p><!-- l. 131 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>6.2   </span> <a id='x1-940006.2'></a>Empty Interface</h3>
<!-- l. 133 --><p class='noindent'>The empty interface<a id='dx1-94001'></a> is the interface type that has no methods. Normally the empty
interface will be used in the literal form: <span class='ec-lmtt-10'>interface</span>. All types satisfy empty
interface. A function which accepts empty interface, can receive any type as the
argument. Here is an example:
</p>
<!-- l. 139 -->
<pre class='lstlisting' id='listing-170'><span class='label'><a id='x1-94002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>blackHole(v </span><span class='ec-lmtt-9'>interface{}) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-94003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-94004r3'></a></span> 
<span class='label'><a id='x1-94005r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>blackHole</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-94006r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>blackHole</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>")</span></span> 
<span class='label'><a id='x1-94007r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>blackHole</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>struct</span></span><span style='color:#000000'><span class='ec-lmtt-9'>{})</span></span></pre>
<!-- l. 148 --><p class='noindent'>In the above code, the <span class='ec-lmtt-10'>blackHole </span>functions accepts an empty interface. So, when
you are calling the function, any type of argument can be passed.
</p><!-- l. 152 --><p class='noindent'>The <span class='ec-lmtt-10'>Println </span>function in the <span class='ec-lmtt-10'>fmt </span>package is variadic function which accepts empty
interfaces. This is how the function signature looks like:
</p>
<!-- l. 156 -->
<pre class='lstlisting' id='listing-171'><span class='label'><a id='x1-94008r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Println(a </span><span class='ec-lmtt-9'>...interface{}) </span><span class='ec-lmtt-9'>(n </span><span class='ec-lmtt-9'>int, </span><span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>error) </span><span class='ec-lmtt-9'>{</span></span></pre>
<!-- l. 160 --><p class='noindent'>Since the <span class='ec-lmtt-10'>Println </span>accepts empty interfaces, you could pass any type arguments like
this:
</p>
<!-- l. 163 -->
<pre class='lstlisting' id='listing-172'><span class='label'><a id='x1-94009r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"Hello", </span><span class='ec-lmtt-9'>struct{})</span></span></pre>
<!-- l. 167 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>6.3   </span> <a id='x1-950006.3'></a>Pointer Receiver</h3>
                                                                
                                                                                                         
   <!-- l. 169 --><p class='noindent'>In the chapter on Functions, you have seen that the methods can use a
   pointer receiver<a id='dx1-95001'></a>. Also we understood that the pointer receivers are required
   when the object attributes need be to modified or when passing large size
   data.
   </p><!-- l. 174 --><p class='noindent'>Consider the implementation of <span class='ec-lmtt-10'>Stringer </span>interface here:
   </p>
   <!-- l. 176 -->
   <pre class='lstlisting' id='listing-173'><span class='label'><a id='x1-95002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Temperature </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-95003r2'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-95004r3'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>Location</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-95005r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-95006r5'></a></span> 
<span class='label'><a id='x1-95007r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(t </span><span class='ec-lmtt-9'>*Temperature) </span><span class='ec-lmtt-9'>String() </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-95008r7'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>o</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>fmt.Sprintf("Temp: </span><span class='ec-lmtt-9'>%.2f </span><span class='ec-lmtt-9'>Loc: </span><span class='ec-lmtt-9'>%s", </span><span class='ec-lmtt-9'>t.Value, </span><span class='ec-lmtt-9'>t.Location)</span> 
</span><span class='label'><a id='x1-95009r8'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>o</span> 
</span><span class='label'><a id='x1-95010r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 188 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>String </span>method is implemented using a pointer receiver.
Now if you define a function which accepts the <span class='ec-lmtt-10'>fmt.Stringer </span>interface, and want
the <span class='ec-lmtt-10'>Temperature </span>object, it should be a pointer to <span class='ec-lmtt-10'>Temperature</span>.
</p>
<!-- l. 193 -->
<pre class='lstlisting' id='listing-174'><span class='label'><a id='x1-95011r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>cityTemperature(v </span><span class='ec-lmtt-9'>fmt.Stringer) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-95012r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>String</span></span><span style='color:#000000'><span class='ec-lmtt-9'>())</span></span> 
<span class='label'><a id='x1-95013r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-95014r4'></a></span> 
<span class='label'><a id='x1-95015r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-95016r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Temperature{35.6, </span><span class='ec-lmtt-9'>"Bangalore"}</span> 
</span><span class='label'><a id='x1-95017r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>cityTemperature</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(&amp;</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-95018r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 204 --><p class='noindent'>As you can see, the <span class='ec-lmtt-10'>cityTemperature </span>function is called with a pointer. If you
modify the above code and pass normal value, you will get an error. The below code
will produce an error as pointer is not passed.
</p>
<!-- l. 209 -->
<pre class='lstlisting' id='listing-175'><span class='label'><a id='x1-95019r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-95020r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Temperature{35.6, </span><span class='ec-lmtt-9'>"Bangalore"}</span> 
</span><span class='label'><a id='x1-95021r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>cityTemperature</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-95022r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 216 --><p class='noindent'>The error message will be something like this:
</p>
<!-- l. 218 -->
<pre class='lstlisting' id='listing-176'><span class='label'><a id='x1-95023r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>cannot</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>use </span><span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>(type </span><span class='ec-lmtt-9'>Temperature) </span><span class='ec-lmtt-9'>as </span><span class='ec-lmtt-9'>type </span><span class='ec-lmtt-9'>fmt.Stringer </span><span class='ec-lmtt-9'>in </span><span class='ec-lmtt-9'>argument </span><span class='ec-lmtt-9'>to</span> 
</span><span class='label'><a id='x1-95024r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>cityTemperature</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Temperature </span><span class='ec-lmtt-9'>does </span><span class='ec-lmtt-9'>not </span><span class='ec-lmtt-9'>implement </span><span class='ec-lmtt-9'>fmt.Stringer </span><span class='ec-lmtt-9'>(String</span> 
</span><span class='label'><a id='x1-95025r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>method</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>has </span><span class='ec-lmtt-9'>pointer </span><span class='ec-lmtt-9'>receiver)</span></span></pre>
<!-- l. 224 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>6.4   </span> <a id='x1-960006.4'></a>Type Assertions</h3>
<!-- l. 226 --><p class='noindent'>In some cases, you may want to access the underlying concrete value from the
interface value. Let’s say you define a function which accepts an interface value and
want access attribute of the concrete value. Consider this example:
</p>
<!-- l. 231 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-177'><span class='label'><a id='x1-96001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Geometry </span><span class='ec-lmtt-9'>interface </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-96002r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-96003r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Perimeter</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-96004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-96005r5'></a></span> 
<span class='label'><a id='x1-96006r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-96007r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-96008r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Height</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-96009r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-96010r10'></a></span> 
<span class='label'><a id='x1-96011r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-96012r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Width </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r.Height</span> 
</span><span class='label'><a id='x1-96013r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-96014r14'></a></span> 
<span class='label'><a id='x1-96015r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Perimeter() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-96016r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2*(r.width </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>r.height)</span> 
</span><span class='label'><a id='x1-96017r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-96018r18'></a></span> 
<span class='label'><a id='x1-96019r19'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Measure(g </span><span class='ec-lmtt-9'>Geometry) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-96020r20'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>g.Area())</span> 
</span><span class='label'><a id='x1-96021r21'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Perimeter</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>g.Perimeter())</span> 
</span><span class='label'><a id='x1-96022r22'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 256 --><p class='noindent'>In the above example, if you want to print the width and and height from the
<span class='ec-lmtt-10'>Measure </span>function, you can use type assertions.
</p><!-- l. 259 --><p class='noindent'>Type assertion<a id='dx1-96023'></a> gives the underlying concrete value of an interface type. In the
above example, you can access the rectangle object like this:
</p>
<!-- l. 263 -->
<pre class='lstlisting' id='listing-178'><span class='label'><a id='x1-96024r1'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>g.(Rectangle)</span> 
</span><span class='label'><a id='x1-96025r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Width)</span> 
</span><span class='label'><a id='x1-96026r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Height</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Height)</span></span></pre>
<!-- l. 269 --><p class='noindent'>If the assertion fail, it will trigger a panic.
</p><!-- l. 271 --><p class='noindent'>Type assertion has an alternate syntax where it will not panic if assertion fail, but
gives one more return value of boolean type. The second return value will be <span class='ec-lmtt-10'>true </span>if
assertion succeeds otherwise it will give <span class='ec-lmtt-10'>false</span>.
</p>
<!-- l. 276 -->
<pre class='lstlisting' id='listing-179'><span class='label'><a id='x1-96027r1'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>ok </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>g.(Rectangle)</span> 
</span><span class='label'><a id='x1-96028r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>ok </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-96029r3'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Width)</span> 
</span><span class='label'><a id='x1-96030r4'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Height</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Height)</span> 
</span><span class='label'><a id='x1-96031r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 284 --><p class='noindent'>If there are many types that need to be asserted like this, Go provides a type
switches which is explained in the next section.
</p><!-- l. 287 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>6.5   </span> <a id='x1-970006.5'></a>Type Switches</h3>
<!-- l. 289 --><p class='noindent'>As you have seen in the previous section, type assertions gives access to the
underlying value. But if there any many assertions need to be made, there will be
lots <span class='ec-lmtt-10'>if </span>blocks. To avoid this, Go provides type switches<a id='dx1-97001'></a>.
</p>
<!-- l. 294 -->
<pre class='lstlisting' id='listing-180'><span class='label'><a id='x1-97002r1'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>switch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>g.(type) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-97003r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle:</span> 
</span><span class='label'><a id='x1-97004r3'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v.Width)</span> 
</span><span class='label'><a id='x1-97005r4'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Height</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v.Height)</span> 
</span><span class='label'><a id='x1-97006r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle:</span> 
</span><span class='label'><a id='x1-97007r6'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>v.Radius)</span> 
</span><span class='label'><a id='x1-97008r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>default:</span> 
</span><span class='label'><a id='x1-97009r8'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Unknown</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:")</span></span> 
<span class='label'><a id='x1-97010r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 306 --><p class='noindent'>In the above example, type assertion is used with switch cases. Based on the type of
<span class='ec-lmtt-10'>g</span>, the case is executed.
</p><!-- l. 309 --><p class='noindent'>Note that the <span class='ec-lmri-10'>fallthrough </span>statement does not work in type switch.
                                                                
                                                                                                         
   </p><!-- l. 312 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>6.6   </span> <a id='x1-980006.6'></a>Exercises</h3>
   <!-- l. 314 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Using the <span class='ec-lmtt-10'>Marshaller </span>interface, make the marshalled output of the
   <span class='ec-lmtt-10'>Person </span>object given here all in upper case.
   </p>
   <!-- l. 317 -->
   <pre class='lstlisting' id='listing-181'><span class='label'><a id='x1-98001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Person </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-98002r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Name</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>string</span></span> 
<span class='label'><a id='x1-98003r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Place</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-98004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 324 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 326 --><pre class='lstinputlisting' id='listing-182'><span class='label'><a id='x1-98006r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-98007r2'></a></span> 
<span class='label'><a id='x1-98008r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-98009r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>encoding</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>json</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-98010r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-98011r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>strings</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-98012r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-98013r8'></a></span> 
<span class='label'><a id='x1-98014r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Person </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>person</span> 
</span><span class='label'><a id='x1-98015r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Person </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-98016r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Name</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>string</span></span> 
<span class='label'><a id='x1-98017r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Place</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-98018r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-98019r14'></a></span> 
<span class='label'><a id='x1-98020r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>MarshalJSON </span><span class='ec-lmtt-9'>implements </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>Marshaller </span><span class='ec-lmtt-9'>interface</span> 
</span><span class='label'><a id='x1-98021r16'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(p </span><span class='ec-lmtt-9'>Person) </span><span class='ec-lmtt-9'>MarshalJSON() </span><span class='ec-lmtt-9'>([]byte, </span><span class='ec-lmtt-9'>error) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-98022r17'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>strings.ToUpper(p.Name)</span> 
</span><span class='label'><a id='x1-98023r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>place</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>strings.ToUpper(p.Place)</span> 
</span><span class='label'><a id='x1-98024r19'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]byte(</span><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>{"NAME":"</span><span class='ts1-lmtt9-'>` </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>name </span><span class='ec-lmtt-9'>+ </span><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>","PLACE":"</span><span class='ts1-lmtt9-'>` </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>place </span><span class='ec-lmtt-9'>+ </span><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>"}</span><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>)</span> 
</span><span class='label'><a id='x1-98025r20'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>s, </span><span class='ec-lmtt-9'>nil</span> 
</span><span class='label'><a id='x1-98026r21'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-98027r22'></a></span> 
<span class='label'><a id='x1-98028r23'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-98029r24'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>p</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Person{Name: </span><span class='ec-lmtt-9'>"Baiju", </span><span class='ec-lmtt-9'>Place: </span><span class='ec-lmtt-9'>"Bangalore"}</span> 
</span><span class='label'><a id='x1-98030r25'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>o</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>json.Marshal(p)</span> 
</span><span class='label'><a id='x1-98031r26'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-98032r27'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>panic</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>err</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-98033r28'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-98034r29'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>string</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>o</span></span><span style='color:#000000'><span class='ec-lmtt-9'>))</span></span> 
<span class='label'><a id='x1-98035r30'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 328 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-99000'></a>Additional Exercises</h4>
<!-- l. 330 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 332 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Implement the built-in <span class='ec-lmtt-10'>error </span>interface for a custom data type. This is
how the <span class='ec-lmtt-10'>error </span>interface is defined:
</p>
<!-- l. 335 -->
<pre class='lstlisting' id='listing-183'><span class='label'><a id='x1-99001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>error </span><span class='ec-lmtt-9'>interface </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-99002r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-99003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 342 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-100000'></a>Summary</h3>
                                                                                                         
                                                                
<!-- l. 344 --><p class='noindent'>This chapter explained the concept of interfaces and it’s uses. Interface is an
important concept in Go. Understanding interfaces and properly using it makes the
design robust. The chapter covered empty interface. Also, briefly explained about
pointer receiver and its significance. Type assertions and type switches are also
explained.
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.9'></a><a id='x1-100001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 7</span><br /><a id='x1-1010007'></a>Concurrency</h2>
  <blockquote class='quote'>
  <!-- l. 6 --><p class='noindent'><span class='ec-lmri-10'>Do not communicate by sharing memory; instead, share memory
  </span><span class='ec-lmri-10'>by communicating. </span>— Effective Go</p></blockquote>
<!-- l. 9 --><p class='noindent'>If you observe, you could see many things happening around you at any given time.
This is how the world function - the train is gently moving, passengers
talking each other, farmers working in the field and many other things
are happening simultaneously. We can say, the world we live in function
concurrently.
</p><!-- l. 15 --><p class='noindent'>Go has built-in concurrency features with syntax support. The Go concurrency is inspired
by a paper published in 1978 by Tony Hoare. The paper title is <span class='ec-lmri-10'>Communicating sequential
</span><span class='ec-lmri-10'>processes </span><span class='footnote-mark'><a href='essential-go3.html#fn1x7'><sup class='textsuperscript'>1</sup></a></span><a id='x1-101001f1'></a> .
</p><!-- l. 20 --><p class='noindent'>Go has some new terminologies and keywords related to concurrent programming.
The two important words are <span class='ec-lmri-10'>goroutine </span>and <span class='ec-lmri-10'>channel</span>. This chapter will go through
these concepts and walk through some examples to further explain concurrency in
Go.
</p><!-- l. 25 --><p class='noindent'>The Go runtime is part of the executable binary created when compiling any Go
code. The Go runtime contains a garbage collector and a scheduler to manage
lightweight threads called Goroutines. Goroutine is a fundamental abstraction to
support concurrency. Goroutine is an independently executing part of the
program. You can invoke any number of goroutines and all of them could run
concurrently.
</p><!-- l. 32 --><p class='noindent'>Goroutines can communicate to each other via typed conduits called channels.
Channels can be used to send and receive data.
</p>
<h3 class='sectionHead'><span class='titlemark'>7.1   </span> <a id='x1-1020007.1'></a>Goroutine</h3>
<!-- l. 37 --><p class='noindent'>Goroutine<a id='dx1-102001'></a> is like a process running in the background. A function with <span class='ec-lmri-10'>go</span>
keyword as prefix starts the goroutine. Any function including anonymous
function can be invoked with <span class='ec-lmri-10'>go </span>keyword. In fact, the <span class='ec-lmri-10'>main </span>function is a
special goroutine invoked during the starup of any program by the Go
runtime.
</p><!-- l. 44 --><p class='noindent'>To understand the Goroutine better let’s look at a simple program:
                                                                
                                                                                                         
   </p>
   <!-- l. 46 --><pre class='lstinputlisting' id='listing-184'><span class='label'><a id='x1-102004r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-102005r2'></a></span> 
<span class='label'><a id='x1-102006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-102007r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-102008r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-102009r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-102010r7'></a></span> 
<span class='label'><a id='x1-102011r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>msg </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-102012r9'></a></span> 
<span class='label'><a id='x1-102013r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>setMessage() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-102014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>msg</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-102015r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-102016r13'></a></span> 
<span class='label'><a id='x1-102017r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-102018r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>setMessage()</span> 
</span><span class='label'><a id='x1-102019r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sleep</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>time.Millisecond)</span> 
</span><span class='label'><a id='x1-102020r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>msg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-102021r18'></a><span class='ec-lmr-8'>18</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 48 --><p class='noindent'>In the above program, <span class='ec-lmri-10'>setMessage </span>function is invoked as a goroutine in
line no 15 using the <span class='ec-lmri-10'>go </span>keyword. If you run this program, you will get
the hello world message printed. If you change the sleep time to Zero, the
message will not be printed. This is because, the program exits when main
function completes execution. And in this case, since <span class='ec-lmri-10'>setMessage </span>is called as a
goroutine, it goes to background and main goroutine execution continues. In the
earlier case when the time sleep was 1 second, the goroutine gets some time
to execute before main completed. That’s why the <span class='ec-lmri-10'>msg </span>value is set and
printed.
</p><!-- l. 59 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>7.2   </span> <a id='x1-1030007.2'></a>Channels</h3>
<!-- l. 61 --><p class='noindent'>Multiple goroutines can communicate using channels<a id='dx1-103001'></a>. Channels can be used to send
and receive any type of values. You can send and receive values with this channel
operator: <span class='ec-lmtt-10'>&lt;-</span>
</p><!-- l. 65 --><p class='noindent'>This is how to declare a channel of <span class='ec-lmri-10'>int </span>values:
</p>
<!-- l. 67 -->
<pre class='lstlisting' id='listing-185'><span class='label'><a id='x1-103002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make(chan </span><span class='ec-lmtt-9'>int)</span></span></pre>
<!-- l. 71 --><p class='noindent'>To send a value to <span class='ec-lmri-10'>ch </span>channel:
</p>
<!-- l. 73 -->
<pre class='lstlisting' id='listing-186'><span class='label'><a id='x1-103003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>4</span></span></pre>
<!-- l. 77 --><p class='noindent'>To receive a value from <span class='ec-lmtt-10'>ch </span>channel and assign to a variable:
</p>
<!-- l. 79 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-187'><span class='label'><a id='x1-103004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>&lt;-ch</span></span></pre>

<!-- l. 83 --><p class='noindent'>You can also receive value without really assigning:
</p>
<!-- l. 85 -->
<pre class='lstlisting' id='listing-188'><span class='label'><a id='x1-103005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>&lt;-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>ch</span></span></pre>
<!-- l. 89 --><p class='noindent'>Sending and receiving values from channels becomes a blocking operation. So, if you
try to receive value from a channel, there should be some other part of the code
which sends a value this channel. Until a value sends to the channel, the receiving
part of the code will block the execution.
</p><!-- l. 95 --><p class='noindent'>Here is an example:
</p>
<!-- l. 97 --><pre class='lstinputlisting' id='listing-189'><span class='label'><a id='x1-103008r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-103009r2'></a></span> 
<span class='label'><a id='x1-103010r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-103011r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-103012r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-103013r6'></a></span> 
<span class='label'><a id='x1-103014r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>c </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>make(chan </span><span class='ec-lmtt-9'>int)</span> 
</span><span class='label'><a id='x1-103015r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>msg </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-103016r9'></a></span> 
<span class='label'><a id='x1-103017r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>setMessage() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-103018r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>msg</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-103019r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>0</span> 
</span><span class='label'><a id='x1-103020r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-103021r14'></a></span> 
<span class='label'><a id='x1-103022r15'></a><span class='ec-lmr-8'>15</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-103023r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>setMessage()</span> 
</span><span class='label'><a id='x1-103024r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>&lt;-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span> 
<span class='label'><a id='x1-103025r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>msg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-103026r19'></a><span class='ec-lmr-8'>19</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 99 --><p class='noindent'>In the above example, an int channel is assigned to a global variable named <span class='ec-lmtt-10'>c</span>. In
line number 17, immediately after calling goroutines, channel is trying to receive a
value. This becomes a blocking operation in the <span class='ec-lmtt-10'>main </span>goroutine. In line number 12,
inside the <span class='ec-lmtt-10'>setMessage </span>function, after setting a value for <span class='ec-lmtt-10'>msg</span>, a value is send
to the <span class='ec-lmtt-10'>c </span>channel. This will make the operation to continue in the <span class='ec-lmtt-10'>main</span>
goroutine.
</p><!-- l. 107 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>7.3   </span> <a id='x1-1040007.3'></a>Waitgroups</h3>
<!-- l. 109 --><p class='noindent'>Go standard library has a <span class='ec-lmri-10'>sync </span>package which provides few synchronization
primitives. One of the mechanism is <span class='ec-lmri-10'>Waitgroups</span><a id='dx1-104001'></a> which can be used to wait for
multiple goroutines to complete. The <span class='ec-lmtt-10'>Add </span>function add the number of goroutines to
wait for. At the end of these goroutines call <span class='ec-lmtt-10'>Done </span>function to indicate the task has
completed. The <span class='ec-lmtt-10'>Wait </span>function call, block further operations until all goroutines are
completed.
</p><!-- l. 118 --><p class='noindent'>Here is a modified version of the previous example using <span class='ec-lmri-10'>Waitgroups</span>.
</p>
<!-- l. 121 --><pre class='lstinputlisting' id='listing-190'><span class='label'><a id='x1-104004r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-104005r2'></a></span> 
<span class='label'><a id='x1-104006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-104007r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-104008r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sync</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-104009r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-104010r7'></a></span> 
<span class='label'><a id='x1-104011r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>msg </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-104012r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>wg </span><span class='ec-lmtt-9'>sync.WaitGroup</span> 
</span><span class='label'><a id='x1-104013r10'></a></span> 
<span class='label'><a id='x1-104014r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>setMessage() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-104015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>msg</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>World!"</span> 
</span><span class='label'><a id='x1-104016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>wg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Done</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-104017r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-104018r15'></a></span> 
<span class='label'><a id='x1-104019r16'></a><span class='ec-lmr-8'>16</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-104020r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>wg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Add</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-104021r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>setMessage()</span> 
</span><span class='label'><a id='x1-104022r19'></a><span class='ec-lmr-8'>19</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>wg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Wait</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-104023r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>msg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-104024r21'></a><span class='ec-lmr-8'>21</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 123 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>Add </span>method at line number 17 make one item to wait for.
The next line invoke the goroutine. The line number 19, the <span class='ec-lmtt-10'>Wait </span>method call
blocks any further operations until goroutines are completed. The previous line
made goroutine and inside the goroutine, at the end of that goroutine, there is a
<span class='ec-lmtt-10'>Done </span>call at line number 13.
</p><!-- l. 130 --><p class='noindent'>Here is another example:
</p>
<!-- l. 132 --><pre class='lstinputlisting' id='listing-191'><span class='label'><a id='x1-104027r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-104028r2'></a></span> 
<span class='label'><a id='x1-104029r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-104030r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-104031r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sync</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-104032r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-104033r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-104034r8'></a></span> 
<span class='label'><a id='x1-104035r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>someWork(i </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-104036r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sleep</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Millisecond</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>10)</span> 
</span><span class='label'><a id='x1-104037r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-104038r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-104039r13'></a></span> 
<span class='label'><a id='x1-104040r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-104041r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>wg </span><span class='ec-lmtt-9'>sync.WaitGroup</span> 
</span><span class='label'><a id='x1-104042r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>5; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-104043r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>wg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Add</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-104044r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func(j </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-104045r19'></a><span class='ec-lmr-8'>19</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>defer</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>wg.Done()</span> 
</span><span class='label'><a id='x1-104046r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>someWork</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>j</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-104047r21'></a><span class='ec-lmr-8'>21</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-104048r22'></a><span class='ec-lmr-8'>22</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-104049r23'></a><span class='ec-lmr-8'>23</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>wg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Wait</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-104050r24'></a><span class='ec-lmr-8'>24</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 134 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>7.4   </span> <a id='x1-1050007.4'></a>Select</h3>
<!-- l. 136 --><p class='noindent'>The <span class='ec-lmri-10'>select</span><a id='dx1-105001'></a> is a statement with some similarity to <span class='ec-lmri-10'>switch</span>, but used with channels
and goroutines. The <span class='ec-lmri-10'>select </span>statement lets a goroutine wait on multiple
communication operations through channels.
</p><!-- l. 141 --><p class='noindent'>Under a <span class='ec-lmri-10'>select </span>statement, you can add multiple cases. A select statement blocks
until one of its case is available for run – that is the channel has some value. If
multiple channels used in cases has value readily avaibale, select chooses one at
random.
</p><!-- l. 146 --><p class='noindent'>Here is an example:
</p>
<!-- l. 148 -->
<pre class='lstlisting' id='listing-192'><span class='label'><a id='x1-105002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-105003r2'></a></span> 
<span class='label'><a id='x1-105004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"time"</span> 
</span><span class='label'><a id='x1-105005r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-105006r5'></a></span> 
<span class='label'><a id='x1-105007r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-105008r7'></a></span> 
<span class='label'><a id='x1-105009r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make(chan </span><span class='ec-lmtt-9'>string)</span> 
</span><span class='label'><a id='x1-105010r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make(chan </span><span class='ec-lmtt-9'>string)</span> 
</span><span class='label'><a id='x1-105011r10'></a></span> 
<span class='label'><a id='x1-105012r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-105013r12'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sleep</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Second</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>1)</span> 
</span><span class='label'><a id='x1-105014r13'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>c1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>"one"</span> 
</span><span class='label'><a id='x1-105015r14'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}()</span></span> 
<span class='label'><a id='x1-105016r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-105017r16'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sleep</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Second</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>2)</span> 
</span><span class='label'><a id='x1-105018r17'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>c2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>"two"</span> 
</span><span class='label'><a id='x1-105019r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}()</span></span> 
<span class='label'><a id='x1-105020r19'></a></span> 
<span class='label'><a id='x1-105021r20'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>2; </span><span class='ec-lmtt-9'>i++ </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-105022r21'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>select</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-105023r22'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>msg1 </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>&lt;-c1:</span> 
</span><span class='label'><a id='x1-105024r23'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>received</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>msg1)</span> 
</span><span class='label'><a id='x1-105025r24'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>msg2 </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>&lt;-c2:</span> 
</span><span class='label'><a id='x1-105026r25'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>received</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>msg2)</span> 
</span><span class='label'><a id='x1-105027r26'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-105028r27'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-105029r28'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                           
                                                                
<!-- l. 180 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>7.5   </span> <a id='x1-1060007.5'></a>Buffered Channels</h3>
<!-- l. 182 --><p class='noindent'>Buffered channels<a id='dx1-106001'></a> are channels with a given capacity. The capacity is the size of
channel in terms of number of elements. If the capacity is zero or absent, the
channel is unbuffered. For a buffered channel communication succeeds only
when both a sender and receiver are ready. Whereas for a buffered channel,
communication succeeds without blocking if the buffer is not full (sends) or not
empty (receives).
</p><!-- l. 190 --><p class='noindent'>The capacity can be given as the third argument to make function:
</p>
<!-- l. 192 -->
<pre class='lstlisting' id='listing-193'><span class='label'><a id='x1-106002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>make</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>chan</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>int, </span><span class='ec-lmtt-9'>100)</span></span></pre>

<!-- l. 196 --><p class='noindent'>Consider the below example:
</p>
<!-- l. 198 -->
<p><a id='x1-106003r5'></a>
<a id='x1-106004'></a>
</p><figcaption class='caption'><span class='id'>Listing 7.5: </span><span class='content'>Buffered Channel</span></figcaption><!-- tex4ht:label?: x1-106003r7.5  --><pre class='lstlisting' id='listing-194'><span class='label'><a id='x1-106005r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-106006r2'></a></span> 
<span class='label'><a id='x1-106007r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-106008r4'></a></span> 
<span class='label'><a id='x1-106009r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-106010r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>ch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make(chan </span><span class='ec-lmtt-9'>string, </span><span class='ec-lmtt-9'>2)</span> 
</span><span class='label'><a id='x1-106011r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>ch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>"Hello"</span> 
</span><span class='label'><a id='x1-106012r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>ch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>"World"</span> 
</span><span class='label'><a id='x1-106013r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(&lt;-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>ch</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-106014r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(&lt;-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>ch</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-106015r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 212 --><p class='noindent'>The <span class='ec-lmri-10'>ch </span>channel is a buffered channel, this makes it possible to send value without
any receiver present.
</p><!-- l. 215 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>7.6   </span> <a id='x1-1070007.6'></a>Channel Direction</h3>
<!-- l. 217 --><p class='noindent'>When declaring a function with channels as input parameters, you can also specify
the direction of the channel. The direction of channel declares whether it can only
receive or only send values. The channel direction helps to increases the type-safety
of the program.
</p><!-- l. 222 --><p class='noindent'>Here is an example:
</p>
<!-- l. 224 --><pre class='lstinputlisting' id='listing-195'><span class='label'><a id='x1-107003r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-107004r2'></a></span> 
<span class='label'><a id='x1-107005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-107006r4'></a></span> 
<span class='label'><a id='x1-107007r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sendOnly(name </span><span class='ec-lmtt-9'>chan&lt;- </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-107008r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>"Hi"</span> 
</span><span class='label'><a id='x1-107009r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-107010r8'></a></span> 
<span class='label'><a id='x1-107011r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>receiveOnly(name </span><span class='ec-lmtt-9'>&lt;-chan </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-107012r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(&lt;-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>name</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-107013r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-107014r12'></a></span> 
<span class='label'><a id='x1-107015r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-107016r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make(chan </span><span class='ec-lmtt-9'>string)</span> 
</span><span class='label'><a id='x1-107017r15'></a></span> 
<span class='label'><a id='x1-107018r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-107019r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(&lt;-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-107020r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}()</span></span> 
<span class='label'><a id='x1-107021r19'></a></span> 
<span class='label'><a id='x1-107022r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sendOnly</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-107023r21'></a></span> 
<span class='label'><a id='x1-107024r22'></a><span class='ec-lmr-8'>22</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-107025r23'></a><span class='ec-lmr-8'>23</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>"Hello"</span> 
</span><span class='label'><a id='x1-107026r24'></a><span class='ec-lmr-8'>24</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}()</span></span> 
<span class='label'><a id='x1-107027r25'></a></span> 
<span class='label'><a id='x1-107028r26'></a><span class='ec-lmr-8'>26</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>receiveOnly</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-107029r27'></a><span class='ec-lmr-8'>27</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 226 --><p class='noindent'>In the above example, the <span class='ec-lmtt-10'>sendOnly </span>function define a channel variable
which can be only used for sending data. If you tried to read from that
channel within that function, it’s going to be compile time error. Similary the
<span class='ec-lmtt-10'>receiveOnly </span>function define a channel variable which can be only user
for receive data. You cannot send any value to that channel from that
function.
</p><!-- l. 233 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>7.7   </span> <a id='x1-1080007.7'></a>Lazy Initialization Using sync.Once</h3>
<!-- l. 235 --><p class='noindent'>The sync<a id='dx1-108001'></a> package provide another struct called Once which is useful for lazy
initialization.
</p><!-- l. 238 --><p class='noindent'>Here is an example:
</p>
<!-- l. 240 -->
<pre class='lstlisting' id='listing-196'><span class='label'><a id='x1-108002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-108003r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sync</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-108004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-108005r4'></a></span> 
<span class='label'><a id='x1-108006r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>DB </span><span class='ec-lmtt-9'>struct{}</span> 
</span><span class='label'><a id='x1-108007r6'></a></span> 
<span class='label'><a id='x1-108008r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>db </span><span class='ec-lmtt-9'>*DB</span> 
</span><span class='label'><a id='x1-108009r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>once </span><span class='ec-lmtt-9'>sync.Once</span> 
</span><span class='label'><a id='x1-108010r9'></a></span> 
<span class='label'><a id='x1-108011r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>GetDB() </span><span class='ec-lmtt-9'>*DB </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-108012r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>once</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Do</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-108013r12'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>db</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>&amp;DB{}</span> 
</span><span class='label'><a id='x1-108014r13'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>})</span></span> 
<span class='label'><a id='x1-108015r14'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>db</span> 
</span><span class='label'><a id='x1-108016r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 258 --><p class='noindent'>If the above GetDB function is called multiple times, only once the DB object will
get constructed.
</p><!-- l. 261 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>7.8   </span> <a id='x1-1090007.8'></a>Exercises</h3>
<!-- l. 263 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Write a program to download a list of web pages concurrently using
Goroutines.
</p><!-- l. 266 --><p class='noindent'>Hint: Use this tool for serving junk content for testing:    <a class='url' href='https://github.com/baijum/lipsum'><span class='ec-lmtt-10'>https://github.com/baijum/lipsum</span></a>
</p><!-- l. 270 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 272 -->
<pre class='lstlisting' id='listing-197'><span class='label'><a id='x1-109001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-109002r2'></a></span> 
<span class='label'><a id='x1-109003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-109004r4'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>io</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>ioutil</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-109005r5'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-109006r6'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>net</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>http</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-109007r7'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>net</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>url</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-109008r8'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sync</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-109009r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-109010r10'></a></span> 
<span class='label'><a id='x1-109011r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-109012r12'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>urls</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{</span> 
</span><span class='label'><a id='x1-109013r13'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>http</span></span><span style='color:#000000'><span class='ec-lmtt-9'>://</span></span><span style='color:#000000'><span class='ec-lmtt-9'>localhost</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:9999/1.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>txt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span> 
<span class='label'><a id='x1-109014r14'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>http</span></span><span style='color:#000000'><span class='ec-lmtt-9'>://</span></span><span style='color:#000000'><span class='ec-lmtt-9'>localhost</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:9999/2.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>txt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span> 
<span class='label'><a id='x1-109015r15'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>http</span></span><span style='color:#000000'><span class='ec-lmtt-9'>://</span></span><span style='color:#000000'><span class='ec-lmtt-9'>localhost</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:9999/3.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>txt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span> 
<span class='label'><a id='x1-109016r16'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>http</span></span><span style='color:#000000'><span class='ec-lmtt-9'>://</span></span><span style='color:#000000'><span class='ec-lmtt-9'>localhost</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:9999/4.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>txt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span> 
<span class='label'><a id='x1-109017r17'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-109018r18'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>wg </span><span class='ec-lmtt-9'>sync.WaitGroup</span> 
</span><span class='label'><a id='x1-109019r19'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_, </span><span class='ec-lmtt-9'>u </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>urls </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-109020r20'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>wg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Add</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-109021r21'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func(u </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-109022r22'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>defer</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>wg.Done()</span> 
</span><span class='label'><a id='x1-109023r23'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>ul</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>url.Parse(u)</span> 
</span><span class='label'><a id='x1-109024r24'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>fn</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>ul.Path[1:len(ul.Path)]</span> 
</span><span class='label'><a id='x1-109025r25'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>res</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>http.Get(u)</span> 
</span><span class='label'><a id='x1-109026r26'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-109027r27'></a></span><span class='ec-lmtt-9'>                                </span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>err</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>u)</span> 
</span><span class='label'><a id='x1-109028r28'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-109029r29'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>content</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_ </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>ioutil.ReadAll(res.Body)</span> 
</span><span class='label'><a id='x1-109030r30'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>ioutil</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>WriteFile</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fn</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>content, </span><span class='ec-lmtt-9'>0644)</span> 
</span><span class='label'><a id='x1-109031r31'></a></span><span class='ec-lmtt-9'>                        </span><span style='color:#000000'><span class='ec-lmtt-9'>res</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Body</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Close</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-109032r32'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>}(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>u</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-109033r33'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-109034r34'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>wg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Wait</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-109035r35'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                           
                                                                
<!-- l. 311 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-110000'></a>Additional Exercises</h4>
<!-- l. 313 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 315 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program to watch log files and detect any entry with a
particular word.
</p><!-- l. 317 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-111000'></a>Summary</h3>
<!-- l. 319 --><p class='noindent'>This chapter explained concurrency features of Go. Based on your problem, you can
choose channels or other synchronization techniques. This chapter covered
goroutines and channels usage. It covered Waitgroups, Select statement. It also
covered buffered channels, channel direction. The chapter also touched upon
<span class='ec-lmri-10'>sync.Once </span>function usage.
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.10'></a><a id='x1-111001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 8</span><br /><a id='x1-1120008'></a>Packages</h2>
  <blockquote class='quote'>
  <!-- l. 6 --><p class='noindent'><span class='ec-lmri-10'>A little copying is better than a little dependency. </span>— Go Proverb</p></blockquote>
<!-- l. 9 --><p class='noindent'>Go encourages and provides mechanisms for code reusability. Packages are one of
the building block for code reusability. We have seen other code reusability
mechanisms like functions in the earlier chapters.
</p><!-- l. 14 --><p class='noindent'>This chapter will explain everything you need to know about packages<a id='dx1-112001'></a>. In the
previous programs, there was a clause at the beginning of every source files like
this:
</p>
<!-- l. 18 -->
<pre class='lstlisting' id='listing-198'><span class='label'><a id='x1-112002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span></span></pre>

<!-- l. 22 --><p class='noindent'>That clause was declaring the name of the package as <span class='ec-lmtt-10'>main</span>. The package
name was <span class='ec-lmtt-10'>main </span>because the program was executable. For non-executable
programs, you can give a different meaningful short name as the package
name.
</p><!-- l. 27 --><p class='noindent'>Most of the previous programs imported other packages like this:
</p>
<!-- l. 29 -->
<pre class='lstlisting' id='listing-199'><span class='label'><a id='x1-112003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span></span></pre>
<!-- l. 33 --><p class='noindent'>Sometimes the import was within parenthesis (factored imports) for multiple
packages:
</p>
<!-- l. 36 -->
<pre class='lstlisting' id='listing-200'><span class='label'><a id='x1-112004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-112005r2'></a></span><span class='ec-lmtt-9'>       </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-112006r3'></a></span><span class='ec-lmtt-9'>       </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-112007r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span></pre>
<!-- l. 43 --><p class='noindent'>Importing packages gives access to functionalities provided by those packages.
</p><!-- l. 46 --><p class='noindent'>Packages helps you to create modular reusable programs. Go programs are
organized using packages. Every source file will be associated with a package.
Basically, package is a collection of source files.
</p><!-- l. 50 --><p class='noindent'>A package generally consists of elements like constants, types, variables and
functions which are accessible across all the source files. The source files should
should start with a statement declaring the name of the package. The package
                                                                
                                                                                                         
   name should be a meaningful short name. This is important because normally the
   exported names within the package will be accessed with the package name as a
   prefix.
   </p><!-- l. 58 --><p class='noindent'>The Go standard library has many packages. Each package will be related to
   certain ideas.
   </p>
   <h3 class='sectionHead'><span class='titlemark'>8.1   </span> <a id='x1-1130008.1'></a>Creating a Package</h3>
   <p><a id='dx1-113001'></a>
   </p><!-- l. 64 --><p class='noindent'>Consider this file named <span class='ec-lmtt-10'>circle1.go </span>which belongs to package <span class='ec-lmtt-10'>main</span>:
   </p>
   <!-- l. 67 -->
   <p><a id='x1-113002r1'></a>
   <a id='x1-113003'></a>
   </p><figcaption class='caption'><span class='id'>Listing 8.1: </span><span class='content'>circle1.go</span></figcaption><!-- tex4ht:label?: x1-113002r8.1  --><pre class='lstlisting' id='listing-201'><span class='label'><a id='x1-113004r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-113005r2'></a></span> 
<span class='label'><a id='x1-113006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>const</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>pi </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>3.14</span> 
</span><span class='label'><a id='x1-113007r4'></a></span> 
<span class='label'><a id='x1-113008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-113009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-113010r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 77 --><p class='noindent'>Another file named <span class='ec-lmtt-10'>circle2.go </span>in the same directory:
</p>
<!-- l. 79 -->
<p><a id='x1-113011r2'></a>
<a id='x1-113012'></a>
</p><figcaption class='caption'><span class='id'>Listing 8.2: </span><span class='content'>circle2.go</span></figcaption><!-- tex4ht:label?: x1-113011r8.1  --><pre class='lstlisting' id='listing-202'><span class='label'><a id='x1-113013r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-113014r2'></a></span> 
<span class='label'><a id='x1-113015r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-113016r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>pi </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius</span> 
</span><span class='label'><a id='x1-113017r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 87 --><p class='noindent'>Yet another file named <span class='ec-lmtt-10'>circle3.go</span>:
</p>
<!-- l. 89 -->
<p><a id='x1-113018r3'></a>
<a id='x1-113019'></a>
</p><figcaption class='caption'><span class='id'>Listing 8.3: </span><span class='content'>circle3.go</span></figcaption><!-- tex4ht:label?: x1-113018r8.1  --><pre class='lstlisting' id='listing-203'><span class='label'><a id='x1-113020r1'></a><span class='ec-lmr-8'>1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-113021r2'></a></span> 
<span class='label'><a id='x1-113022r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-113023r4'></a></span> 
<span class='label'><a id='x1-113024r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>c </span><span class='ec-lmtt-9'>Circle</span> 
</span><span class='label'><a id='x1-113025r6'></a></span> 
<span class='label'><a id='x1-113026r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-113027r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>Circle{3.5}</span> 
</span><span class='label'><a id='x1-113028r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>())</span></span> 
<span class='label'><a id='x1-113029r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 102 --><p class='noindent'>As you can see above all the above source files belongs to <span class='ec-lmtt-10'>main </span>package.
</p><!-- l. 105 --><p class='noindent'>You can build and run it like this:
</p>
<!-- l. 107 -->
<pre class='lstlisting' id='listing-204'><span class='label'><a id='x1-113030r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>build </span><span class='ec-lmtt-9'>-o </span><span class='ec-lmtt-9'>circle</span> 
</span><span class='label'><a id='x1-113031r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>./circle</span> 
</span><span class='label'><a id='x1-113032r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>38.465</span></span></pre>
                                                                           
                                                                
<!-- l. 113 --><p class='noindent'>Alternatively, you can use <span class='ec-lmtt-10'>go run</span>:
</p>
<!-- l. 115 -->
<pre class='lstlisting' id='listing-205'><span class='label'><a id='x1-113033r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>*.go</span> 
</span><span class='label'><a id='x1-113034r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>38.465</span></span></pre>
<!-- l. 120 --><p class='noindent'>The final Go program is a created by joining multiple files. The package is a
container for your code.
</p><!-- l. 123 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>8.2   </span> <a id='x1-1140008.2'></a>Package Initialization</h3>
<!-- l. 125 --><p class='noindent'>When you run a Go program, all the associated packages initialize in a
particular order. The package level variables initialize as per the order of
declaration. However, if there is any dependency on initialization, that is resolved
first.
</p><!-- l. 130 --><p class='noindent'>Consider this example:
</p>
<!-- l. 132 -->
<pre class='lstlisting' id='listing-206'><span class='label'><a id='x1-114001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>varinit</span> 
</span><span class='label'><a id='x1-114002r2'></a></span> 
<span class='label'><a id='x1-114003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>b </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>2</span> 
</span><span class='label'><a id='x1-114004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>b </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>1</span></span></pre>
<!-- l. 139 --><p class='noindent'>In the above program, the variable <span class='ec-lmtt-10'>a </span>is depending on the value of variable <span class='ec-lmtt-10'>b</span>.
Therefore, the variable <span class='ec-lmtt-10'>b </span>initialize first and the variable <span class='ec-lmtt-10'>a </span>is the second. If you
import the above package from different other packages in the same program, the
variable initialization happens only once.
</p><!-- l. 145 --><p class='noindent'>If the expression for variable initialization is complicated, you can use a function to
return the value. There is another approach possible for initializing variables with
complex expressions, that is by using the special <span class='ec-lmri-10'>init </span>function. The Go runtime
executes the <span class='ec-lmri-10'>init </span>function only once. Here is an example:
</p>
<!-- l. 151 --><pre class='lstinputlisting' id='listing-207'><span class='label'><a id='x1-114007r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>config</span> 
</span><span class='label'><a id='x1-114008r2'></a></span> 
<span class='label'><a id='x1-114009r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-114010r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-114011r5'></a></span> 
<span class='label'><a id='x1-114012r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>github</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>com</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>kelseyhightower</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>envconfig</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-114013r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-114014r8'></a></span> 
<span class='label'><a id='x1-114015r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Configuration </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-114016r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Address</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>       </span><span style='color:#000000'><span class='ec-lmtt-9'>string</span></span><span style='color:#000000'> <span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>default:":8080"</span><span class='ts1-lmtt9-'>`</span> 
</span><span class='label'><a id='x1-114017r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>TokenSecretKey</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string </span><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>default:"secret" </span><span class='ec-lmtt-9'>split_words:"true"</span><span class='ts1-lmtt9-'>`</span> 
</span><span class='label'><a id='x1-114018r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-114019r13'></a></span> 
<span class='label'><a id='x1-114020r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Config </span><span class='ec-lmtt-9'>Configuration</span> 
</span><span class='label'><a id='x1-114021r15'></a></span> 
<span class='label'><a id='x1-114022r16'></a><span class='ec-lmr-8'>16</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>init() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-114023r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>err</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>envconfig.Process("app", </span><span class='ec-lmtt-9'>&amp;Config)</span> 
</span><span class='label'><a id='x1-114024r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-114025r19'></a><span class='ec-lmr-8'>19</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Fatal</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>err</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'><span class='ec-lmtt-9'>())</span></span> 
<span class='label'><a id='x1-114026r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-114027r21'></a><span class='ec-lmr-8'>21</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
                                                                
                                                                           
   <!-- l. 153 --><p class='noindent'>The <span class='ec-lmri-10'>init </span>function cannot be called or even referred from the program – it’s going to
   produce a compile error. Also, the <span class='ec-lmri-10'>init </span>function should not return any
   value.
   </p><!-- l. 157 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>8.3   </span> <a id='x1-1150008.3'></a>Documenting Packages</h3>
   <!-- l. 159 --><p class='noindent'>You can write documentation for the package<a id='dx1-115001'></a> in the form of comment before the
   declarion of package name. The comment should begin with the word <span class='ec-lmri-10'>Package</span>
   followed by the name of the package. Here is an example:
   </p>
   <!-- l. 165 -->
   <pre class='lstlisting' id='listing-208'><span class='label'><a id='x1-115002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Package </span><span class='ec-lmtt-9'>hello </span><span class='ec-lmtt-9'>gives </span><span class='ec-lmtt-9'>various </span><span class='ec-lmtt-9'>greeting </span><span class='ec-lmtt-9'>messages</span> 
</span><span class='label'><a id='x1-115003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello</span></span></pre>
   
<!-- l. 170 --><p class='noindent'>If the package is defined in multiple files, you may create a file named <span class='ec-lmri-10'>doc.go</span>. The
<span class='ec-lmri-10'>doc.go </span>file is just a naming convention. You can write multi-line comment
using <span class='ec-lmtt-10'>/* ... */ </span>syntax. You can write source code with tab-indentation
which will be highlighted and displayed using monospace font in HTML
format.
</p><!-- l. 176 --><p class='noindent'>Here is an example from the <span class='ec-lmri-10'>http </span>package <span class='ec-lmri-10'>doc.go </span>file.
</p>
<!-- l. 179 -->
<pre class='lstlisting' id='listing-209'><span class='label'><a id='x1-115004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Copyright </span><span class='ec-lmtt-9'>2011 </span><span class='ec-lmtt-9'>The </span><span class='ec-lmtt-9'>Go </span><span class='ec-lmtt-9'>Authors. </span><span class='ec-lmtt-9'>All </span><span class='ec-lmtt-9'>rights </span><span class='ec-lmtt-9'>reserved.</span> 
</span><span class='label'><a id='x1-115005r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Use </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>this </span><span class='ec-lmtt-9'>source </span><span class='ec-lmtt-9'>code </span><span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>governed </span><span class='ec-lmtt-9'>by </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>BSD-style</span> 
</span><span class='label'><a id='x1-115006r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>license </span><span class='ec-lmtt-9'>that </span><span class='ec-lmtt-9'>can </span><span class='ec-lmtt-9'>be </span><span class='ec-lmtt-9'>found </span><span class='ec-lmtt-9'>in </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>LICENSE </span><span class='ec-lmtt-9'>file.</span> 
</span><span class='label'><a id='x1-115007r4'></a></span> 
<span class='label'><a id='x1-115008r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>/*</span></span> 
<span class='label'><a id='x1-115009r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>http </span><span class='ec-lmtt-9'>provides </span><span class='ec-lmtt-9'>HTTP </span><span class='ec-lmtt-9'>client </span><span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>server </span><span class='ec-lmtt-9'>implementations.</span> 
</span><span class='label'><a id='x1-115010r7'></a></span> 
<span class='label'><a id='x1-115011r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Get</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Head, </span><span class='ec-lmtt-9'>Post, </span><span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>PostForm </span><span class='ec-lmtt-9'>make </span><span class='ec-lmtt-9'>HTTP </span><span class='ec-lmtt-9'>(or </span><span class='ec-lmtt-9'>HTTPS) </span><span class='ec-lmtt-9'>requests:</span> 
</span><span class='label'><a id='x1-115012r9'></a></span> 
<span class='label'><a id='x1-115013r10'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>resp</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>http.Get("http://example.com/")</span> 
</span><span class='label'><a id='x1-115014r11'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>...</span></span> 
<span class='label'><a id='x1-115015r12'></a></span> 
<span class='label'><a id='x1-115016r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>&lt;...</span></span><span style='color:#000000'><span class='ec-lmtt-9'>strip</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>lines...&gt;</span> 
</span><span class='label'><a id='x1-115017r14'></a></span> 
<span class='label'><a id='x1-115018r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>*/</span></span> 
<span class='label'><a id='x1-115019r16'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>http</span></span></pre>
<!-- l. 198 --><p class='noindent'>Many lines are stripped from the above example where its marked. As you can
see the above documentation file starts with copyright notice. But the
copyright notice is using single line comment multiple times. This notice will be
ignored when generating documentation. And the documentation is written
within multi-line comments. At the end of file, the package name is also
declared.
</p><!-- l. 205 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>8.4   </span> <a id='x1-1160008.4'></a>Publishing Packages</h3>
                                                                                                         
                                                                
<!-- l. 207 --><p class='noindent'>Unlike other mainstream languages, Go doesn’t have a central package server. You
can publish your code directly to any version control system repositories<a id='dx1-116001'></a>. Git is
most widely used VCS used to publish packages, but you can also use Mercurial or
Bazaar.
</p><!-- l. 213 --><p class='noindent'>Here are few example packages:
</p>
  <ul class='itemize1'>
  <li class='itemize'>    <a class='url' href='https://github.com/auth0/go-jwt-middleware'><span class='ec-lmtt-10'>https://github.com/auth0/go-jwt-middleware</span></a>
  </li>
  <li class='itemize'>   <a class='url' href='https://github.com/blevesearch/bleve'><span class='ec-lmtt-10'>https://github.com/blevesearch/bleve</span></a>
  </li>
  <li class='itemize'>   <a class='url' href='https://github.com/dgrijalva/jwt-go'><span class='ec-lmtt-10'>https://github.com/dgrijalva/jwt-go</span></a>
  </li>
  <li class='itemize'>   <a class='url' href='https://github.com/elazarl/go-bindata-assetfs'><span class='ec-lmtt-10'>https://github.com/elazarl/go-bindata-assetfs</span></a>
  </li>
  <li class='itemize'>   <a class='url' href='https://github.com/google/jsonapi'><span class='ec-lmtt-10'>https://github.com/google/jsonapi</span></a>
  </li>
  <li class='itemize'>   <a class='url' href='https://github.com/gorilla/mux'><span class='ec-lmtt-10'>https://github.com/gorilla/mux</span></a>
  </li>
  <li class='itemize'>   <a class='url' href='https://github.com/jpillora/backoff'><span class='ec-lmtt-10'>https://github.com/jpillora/backoff</span></a>
  </li>
  <li class='itemize'>   <a class='url' href='https://github.com/kelseyhightower/envconfig'><span class='ec-lmtt-10'>https://github.com/kelseyhightower/envconfig</span></a>
  </li>
  <li class='itemize'>   <a class='url' href='https://github.com/lib/pq'><span class='ec-lmtt-10'>https://github.com/lib/pq</span></a>
                                                                
                                                                   
        </li>
        <li class='itemize'>   <a class='url' href='https://github.com/pkg/errors'><span class='ec-lmtt-10'>https://github.com/pkg/errors</span></a>
        </li>
        <li class='itemize'>   <a class='url' href='https://github.com/thoas/stats'><span class='ec-lmtt-10'>https://github.com/thoas/stats</span></a>
        </li>
        <li class='itemize'>   <a class='url' href='https://github.com/urfave/negroni'><span class='ec-lmtt-10'>https://github.com/urfave/negroni</span></a></li></ul>
   <!-- l. 230 --><p class='noindent'>You can use <span class='ec-lmtt-10'>go get </span>command to get these packages locally. Go 1.11 release
   introduced the module support. The modules can be used to manage external
   dependant packages.
   </p><!-- l. 234 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>8.5   </span> <a id='x1-1170008.5'></a>Module</h3>
   <!-- l. 236 --><p class='noindent'>A <span class='ec-lmri-10'>module</span><a id='dx1-117001'></a> is a collection of Go packages with well defined name module and
   dependency requirements. Also, the module has reproducible builds.
   </p><!-- l. 240 --><p class='noindent'>Modules use semantic versioning. The format of version should
   vMAJOR.MINOR.PATCH. For example, v0.1.1, v1.3.1, or v2.0.0. Note that the <span class='ec-lmri-10'>v</span>
   prefix is mandatory.
   </p><!-- l. 244 --><p class='noindent'>There should be a file named <span class='ec-lmri-10'>go.mod </span>at the top-level directory. This file is used to
   declare the name of the module and list dependencies.
   </p><!-- l. 248 --><p class='noindent'>The minimal version selection algorithm is used to select the versions of all
   modules used in a build. For each module in a build, the version selected by
   minimal version selection is always the semantically highest of the versions
   explicitly listed by a require directive in the main module or one of its
   dependencies.<br class='newline' />
   </p><!-- l. 254 --><p class='noindent'>You can see an explanation of the algorithm here:<br class='newline' />    <a class='url' href='https://research.swtch.com/vgo-mvs'><span class='ec-lmtt-10'>https://research.swtch.com/vgo-mvs</span></a>
                                                                   
                                                                
</p><!-- l. 257 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-118000'></a>Creating a module</h4>
<!-- l. 259 --><p class='noindent'>The Go tool has support for creating modules. You can use the <span class='ec-lmri-10'>mod </span>command to
manage module.
</p><!-- l. 262 --><p class='noindent'>To initialize a new module, use <span class='ec-lmri-10'>mod init </span>command with name of module as
argument. Normally the name will be same as the publishing location. Here is an
example:
</p>
<!-- l. 266 -->
<pre class='lstlisting' id='listing-210'><span class='label'><a id='x1-118001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>mkdir</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello</span> 
</span><span class='label'><a id='x1-118002r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>cd</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello</span> 
</span><span class='label'><a id='x1-118003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>mod </span><span class='ec-lmtt-9'>init </span><span class='ec-lmtt-9'>github.com/baijum/hello</span></span></pre>

<!-- l. 272 --><p class='noindent'>In the above example, the name is given as <span class='ec-lmtt-10'>github.com/baijum/hello</span>. This
command is going to create file named <span class='ec-lmtt-10'>go.mod </span>and the content of that file will be
like this:
</p>
<!-- l. 277 -->
<pre class='lstlisting' id='listing-211'><span class='label'><a id='x1-118004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>module</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>github.com/baijum/hello</span> 
</span><span class='label'><a id='x1-118005r2'></a></span> 
<span class='label'><a id='x1-118006r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>1.20</span></span></pre>
<!-- l. 283 --><p class='noindent'>As of now there are no dependencies. That is the reason the <span class='ec-lmtt-10'>go.mod </span>file doesn’t list
any dependencies.
</p><!-- l. 286 --><p class='noindent'>Let’s create a <span class='ec-lmtt-10'>hello.go </span>with <span class='ec-lmtt-10'>github.com/lib/pq </span>as a dependency.
</p>
<!-- l. 289 -->
<pre class='lstlisting' id='listing-212'><span class='label'><a id='x1-118007r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-118008r2'></a></span> 
<span class='label'><a id='x1-118009r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-118010r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>database</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sql</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-118011r5'></a></span> 
<span class='label'><a id='x1-118012r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"github.com/lib/pq"</span> 
</span><span class='label'><a id='x1-118013r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-118014r8'></a></span> 
<span class='label'><a id='x1-118015r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-118016r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sql</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Open</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>postgres</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span> 
<span class='label'><a id='x1-118017r11'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>host</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=</span></span><span style='color:#000000'><span class='ec-lmtt-9'>lh</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>port=5432 </span><span class='ec-lmtt-9'>user=gt </span><span class='ec-lmtt-9'>dbname=db </span><span class='ec-lmtt-9'>password=secret")</span> 
</span><span class='label'><a id='x1-118018r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 304 --><p class='noindent'>Note: The imported package is the driver used by the <span class='ec-lmri-10'>sql </span>package.
</p><!-- l. 306 --><p class='noindent'>You will see the <span class='ec-lmtt-10'>mod.mod </span>updated with dependency.
</p>
<!-- l. 308 -->
<pre class='lstlisting' id='listing-213'><span class='label'><a id='x1-118019r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>module</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>github.com/github.com/hello</span> 
</span><span class='label'><a id='x1-118020r2'></a></span> 
<span class='label'><a id='x1-118021r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>1.20</span> 
</span><span class='label'><a id='x1-118022r4'></a></span> 
<span class='label'><a id='x1-118023r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>require</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>github.com/lib/pq </span><span class='ec-lmtt-9'>v1.10.9</span></span></pre>
<!-- l. 316 --><p class='noindent'>There will be another auto-generated file named <span class='ec-lmtt-10'>go.sum </span>which is used
for validation. You can commit both these files to your version control
system.
                                                                
                                                                                                         
   </p><!-- l. 320 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>8.6   </span> <a id='x1-1190008.6'></a>Moving Type Across Packages</h3>
   <!-- l. 322 --><p class='noindent'>When you refactoring a large package into smaller package or separating
   certain features into another package, moving types will be required. But
   moving types will be difficult as it may introduce backward compatibility
   and it may affect existing consumer packages. Go has support for type
   aliases to solve this problem. Type alias<a id='dx1-119001'></a> can be declared as given in this
   example:
   </p>
   <!-- l. 329 -->
   <pre class='lstlisting' id='listing-214'><span class='label'><a id='x1-119002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>NewType </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>OldType</span></span></pre>
   
<!-- l. 333 --><p class='noindent'>Type alias can be removed once all the dependant packages migrate to use import
path.
</p><!-- l. 336 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>8.7   </span> <a id='x1-1200008.7'></a>Exercises</h3>
<!-- l. 338 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Create a package named <span class='ec-lmtt-10'>rectangle </span>with exported functions to
calculate area and perimeter for the given rectangle.
</p><!-- l. 342 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p><!-- l. 344 --><p class='noindent'>The name of the package could be <span class='ec-lmtt-10'>rectangle</span>. Here is the program:
</p>
<!-- l. 347 -->
<pre class='lstlisting' id='listing-215'><span class='label'><a id='x1-120001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Package </span><span class='ec-lmtt-9'>rectangle </span><span class='ec-lmtt-9'>provides </span><span class='ec-lmtt-9'>functions </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>calculate </span><span class='ec-lmtt-9'>area</span> 
</span><span class='label'><a id='x1-120002r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>perimeter </span><span class='ec-lmtt-9'>for </span><span class='ec-lmtt-9'>rectangle.</span> 
</span><span class='label'><a id='x1-120003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>rectangle</span> 
</span><span class='label'><a id='x1-120004r4'></a></span> 
<span class='label'><a id='x1-120005r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area </span><span class='ec-lmtt-9'>calculate </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>given </span><span class='ec-lmtt-9'>rectangle</span> 
</span><span class='label'><a id='x1-120006r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area(width, </span><span class='ec-lmtt-9'>height </span><span class='ec-lmtt-9'>float64) </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-120007r7'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>width </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>height</span> 
</span><span class='label'><a id='x1-120008r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-120009r9'></a></span> 
<span class='label'><a id='x1-120010r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Perimeter </span><span class='ec-lmtt-9'>calculate </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>given </span><span class='ec-lmtt-9'>rectangle</span> 
</span><span class='label'><a id='x1-120011r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Perimeter(width, </span><span class='ec-lmtt-9'>height </span><span class='ec-lmtt-9'>float64) </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-120012r12'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>2 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>(width </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>height)</span> 
</span><span class='label'><a id='x1-120013r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 363 --><p class='noindent'>As you can see above, the source file starts with package documentation. Also you
can see the documentation for all exported functions.
</p><!-- l. 367 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-121000'></a>Additional Exercises</h4>
<!-- l. 369 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
                                                                                                         
                                                                
</p><!-- l. 371 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Create a package with 3 source files and another <span class='ec-lmri-10'>doc.go </span>for
documentation. The package should provide functions to calculate areas for circle,
rectangle, and triangle.
</p><!-- l. 375 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-122000'></a>Summary</h3>
<!-- l. 377 --><p class='noindent'>This chapter explained the Go package in detail. Package is one of building block of
a reusable Go program. This chapter explained about creating packages,
documenting packages, and finally about publish packages. The chapter also
covered modules and its usage. Finally it explained moving types across packages
during refactoring.
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.11'></a><a id='x1-122001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 9</span><br /><a id='x1-1230009'></a>Input/Output</h2>
  <blockquote class='quote'>
  <!-- l. 6 --><p class='noindent'><span class='ec-lmri-10'>for out of the abundance of the heart the mouth speaketh. </span>– Bible</p></blockquote>
<!-- l. 9 --><p class='noindent'>Users interact with software systems through various input/output <a id='dx1-123001'></a>mechanisms.
Some of the commonly used mechanisms are these:
</p>
  <ul class='itemize1'>
  <li class='itemize'>web browser for web applications using various controllers/widgets
  </li>
  <li class='itemize'>mobile for mobile applications
  </li>
  <li class='itemize'>shell for command line applications
  </li>
  <li class='itemize'>desktop application with native controllers/widgets</li></ul>
<!-- l. 19 --><p class='noindent'>To provide these kind of user interactions, you will be required to use specialized
libraries. If the standard library doesn’t provide what you are looking for, you may
need to use third party libraries. This chapter cover basic mechanisms provided at
the language level which you can use for input/output.
</p><!-- l. 24 --><p class='noindent'>We have already seen some of the basic input/output techniques in the last few
chapters. This chapter will go though more input/output mechanisms available in
Go.
</p>
<h3 class='sectionHead'><span class='titlemark'>9.1   </span> <a id='x1-1240009.1'></a>Command Line Arguments</h3>
<!-- l. 30 --><p class='noindent'>The command line<a id='dx1-124001'></a> arguments as user input and console for output is the way
command line programs are designed. Sometimes output will be other files and
devices. You can access all the command line arguments using the <span class='ec-lmtt-10'>Args </span>array/slice
attribute available in <span class='ec-lmtt-10'>os </span>package. Here is an example:
</p>
<!-- l. 36 -->
                                                                
                                                                                                         
   <pre class='lstlisting' id='listing-216'><span class='label'><a id='x1-124002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-124003r2'></a></span> 
<span class='label'><a id='x1-124004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-124005r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-124006r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-124007r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-124008r7'></a></span> 
<span class='label'><a id='x1-124009r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-124010r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Args</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-124011r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Args</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[0])</span></span> 
<span class='label'><a id='x1-124012r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Args</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[1])</span></span> 
<span class='label'><a id='x1-124013r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Args</span></span><span style='color:#000000'><span class='ec-lmtt-9'>[2])</span></span> 
<span class='label'><a id='x1-124014r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 52 --><p class='noindent'>You can run this program with minimum two additional arguments:
</p>
<!-- l. 54 -->
<pre class='lstlisting' id='listing-217'><span class='label'><a id='x1-124015r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>build </span><span class='ec-lmtt-9'>cmdline.go</span> 
</span><span class='label'><a id='x1-124016r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>./cmdline </span><span class='ec-lmtt-9'>one </span><span class='ec-lmtt-9'>-two</span> 
</span><span class='label'><a id='x1-124017r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>cmdline</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>one </span><span class='ec-lmtt-9'>-two]</span> 
</span><span class='label'><a id='x1-124018r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>./</span></span><span style='color:#000000'><span class='ec-lmtt-9'>cmdline</span></span> 
<span class='label'><a id='x1-124019r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>one</span></span> 
<span class='label'><a id='x1-124020r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>two</span></span></pre>
<!-- l. 63 --><p class='noindent'>As you can see, it’s difficult to parse command line arguments like this. Go
standard library has a package named <span class='ec-lmri-10'>flag </span>which helps to easily parse
command line arguments. This chapter has a section to explain the <span class='ec-lmri-10'>flag</span>
package.
</p><!-- l. 68 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>9.2   </span> <a id='x1-1250009.2'></a>Files</h3>
<!-- l. 70 --><p class='noindent'>Reading and writing data to files is a common I/O operation in computer
programming. You can manipulate files using the <span class='ec-lmri-10'>os </span>and <span class='ec-lmri-10'>io </span>packages. It works with
both text files and binary files. For the simplicity of this section, all the examples
given here works with text files.
</p><!-- l. 75 --><p class='noindent'>Consider there exists a file named <span class='ec-lmtt-10'>poem.txt </span>with this text:
</p>
<!-- l. 77 --><pre class='lstinputlisting' id='listing-218'><span class='label'><a id='x1-125002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>I</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>wandered </span><span class='ec-lmtt-9'>lonely </span><span class='ec-lmtt-9'>as </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>cloud</span> 
</span><span class='label'><a id='x1-125003r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>That</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>floats </span><span class='ec-lmtt-9'>on </span><span class='ec-lmtt-9'>high </span><span class='ec-lmtt-9'>o</span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>er </span><span class='ec-lmtt-9'>vales </span><span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>hills,</span> 
</span><span class='label'><a id='x1-125004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>When</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>all </span><span class='ec-lmtt-9'>at </span><span class='ec-lmtt-9'>once </span><span class='ec-lmtt-9'>I </span><span class='ec-lmtt-9'>saw </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>crowd,</span> 
</span><span class='label'><a id='x1-125005r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>A</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>host, </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>golden </span><span class='ec-lmtt-9'>daffodils;</span> 
</span><span class='label'><a id='x1-125006r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Beside</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>lake, </span><span class='ec-lmtt-9'>beneath </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>trees,</span> 
</span><span class='label'><a id='x1-125007r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Fluttering</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>dancing </span><span class='ec-lmtt-9'>in </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>breeze.</span></span>
</pre>
<!-- l. 79 --><p class='noindent'>Here is a program to read the the whole file and print:
</p>
<!-- l. 81 --><pre class='lstinputlisting' id='listing-219'><span class='label'><a id='x1-125010r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-125011r2'></a></span> 
<span class='label'><a id='x1-125012r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-125013r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-125014r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>io</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-125015r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-125016r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-125017r8'></a></span> 
<span class='label'><a id='x1-125018r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-125019r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fd</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>os.Open("poem.txt")</span> 
</span><span class='label'><a id='x1-125020r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-125021r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>reading </span><span class='ec-lmtt-9'>file:", </span><span class='ec-lmtt-9'>err)</span> 
</span><span class='label'><a id='x1-125022r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-125023r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-125024r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>chars</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make([]byte, </span><span class='ec-lmtt-9'>50)</span> 
</span><span class='label'><a id='x1-125025r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>fd.Read(chars)</span> 
</span><span class='label'><a id='x1-125026r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>n </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>&amp;&amp; </span><span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>io.EOF </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-125027r18'></a><span class='ec-lmr-8'>18</span></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>break</span></span> 
<span class='label'><a id='x1-125028r19'></a><span class='ec-lmr-8'>19</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-125029r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Print</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>string</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>chars</span></span><span style='color:#000000'><span class='ec-lmtt-9'>))</span></span> 
<span class='label'><a id='x1-125030r21'></a><span class='ec-lmr-8'>21</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-125031r22'></a><span class='ec-lmr-8'>22</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fd</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Close</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-125032r23'></a><span class='ec-lmr-8'>23</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
                                                                           
                                                                
<!-- l. 83 --><p class='noindent'>When you run this program, you will get the whole text as output. In the line number 10,
the <span class='ec-lmtt-10'>Open </span>function from the <span class='ec-lmtt-10'>os </span>package is called to open the file for reading. It returns a file
descriptor<span class='footnote-mark'><a href='essential-go4.html#fn1x9'><sup class='textsuperscript'>1</sup></a></span><a id='x1-125033f1'></a> 
and error. In the line number 14, an infinite loop is stared to read the content. Line
15 initialize a slice of bytes of length 50. The <span class='ec-lmtt-10'>fd.Read </span>method reads the given
length of characters and writes to the given slice. It returns the number of
characters read and error. The <span class='ec-lmtt-10'>io.EOF </span>error is returned when end of file is reached.
This is used as the condition to break the loop.
</p><!-- l. 93 --><p class='noindent'>Here is a program to write some text to a file:
</p>
<!-- l. 95 --><pre class='lstinputlisting' id='listing-220'><span class='label'><a id='x1-125037r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-125038r2'></a></span> 
<span class='label'><a id='x1-125039r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-125040r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-125041r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-125042r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-125043r7'></a></span> 
<span class='label'><a id='x1-125044r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-125045r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fd</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>os.Create("hello.txt")</span> 
</span><span class='label'><a id='x1-125046r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-125047r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Cannot</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>write </span><span class='ec-lmtt-9'>file:", </span><span class='ec-lmtt-9'>err)</span> 
</span><span class='label'><a id='x1-125048r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Exit</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-125049r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-125050r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fd</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Write</span></span><span style='color:#000000'><span class='ec-lmtt-9'>([]</span></span><span style='color:#000000'><span class='ec-lmtt-9'>byte</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!\n"))</span> 
</span><span class='label'><a id='x1-125051r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fd</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Close</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-125052r16'></a><span class='ec-lmr-8'>16</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 97 --><p class='noindent'>In th line number 9, the <span class='ec-lmri-10'>Create </span>function from the <span class='ec-lmri-10'>os </span>package is called open the file
for writing. It returns a file descriptor and error. In the line number 14, the <span class='ec-lmri-10'>Write</span>
method is give a slice of bytes to write. After running the program you can see the
text in the <span class='ec-lmtt-10'>hello.txt </span>file.
</p>
<!-- l. 102 -->
<pre class='lstlisting' id='listing-221'><span class='label'><a id='x1-125053r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>writefile.go</span> 
</span><span class='label'><a id='x1-125054r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>cat </span><span class='ec-lmtt-9'>hello.txt</span> 
</span><span class='label'><a id='x1-125055r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Hello</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>World!</span></span></pre>
<h3 class='sectionHead'><span class='titlemark'>9.3   </span> <a id='x1-1260009.3'></a>Standard Streams</h3>
<!-- l. 110 --><p class='noindent'>Standard streams<span class='footnote-mark'><a href='essential-go5.html#fn2x9'><sup class='textsuperscript'>2</sup></a></span><a id='x1-126001f2'></a> 
are input and output communication channels between a computer program and its
environment. The three input/output connections are called standard input (stdin),
standard output (stdout) and standard error (stderr).
</p><!-- l. 115 --><p class='noindent'>Stdin, Stdout, and Stderr are open files pointing to the standard input, standard
output, and standard error file descriptors.
                                                                
                                                                                                         
   </p><!-- l. 118 --><p class='noindent'>The <span class='ec-lmri-10'>fmt </span>package has functions to read values interactively<a id='dx1-126003'></a>.
   </p><!-- l. 121 --><p class='noindent'>Here is an example:
   </p>
   <!-- l. 123 --><pre class='lstinputlisting' id='listing-222'><span class='label'><a id='x1-126006r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-126007r2'></a></span> 
<span class='label'><a id='x1-126008r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-126009r4'></a></span> 
<span class='label'><a id='x1-126010r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-126011r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-126012r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Enter</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>your </span><span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>")</span> 
</span><span class='label'><a id='x1-126013r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Scanf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&amp;name)</span> 
</span><span class='label'><a id='x1-126014r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Your</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name:", </span><span class='ec-lmtt-9'>name)</span> 
</span><span class='label'><a id='x1-126015r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 125 --><p class='noindent'>The <span class='ec-lmri-10'>Scanf </span>function reads the standard input. The first argument is the format and
the second one is the pointer variable. The value read from standard input cab be
accessed using the given variable.
</p><!-- l. 129 --><p class='noindent'>You can run the above program in different ways:
</p>
<!-- l. 131 -->
<pre class='lstlisting' id='listing-223'><span class='label'><a id='x1-126016r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>code/io/readprint.go</span> 
</span><span class='label'><a id='x1-126017r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Enter</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>your </span><span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>Baiju</span> 
</span><span class='label'><a id='x1-126018r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Your</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>Baiju</span> 
</span><span class='label'><a id='x1-126019r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>echo </span><span class='ec-lmtt-9'>"Baiju" </span><span class='ec-lmtt-9'>|go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>code/io/readprint.go</span> 
</span><span class='label'><a id='x1-126020r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Enter</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>your </span><span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>Your </span><span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>Baiju</span> 
</span><span class='label'><a id='x1-126021r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>code/io/readprint.go </span><span class='ec-lmtt-9'>&lt;&lt; </span><span class='ec-lmtt-9'>EOF</span> 
</span><span class='label'><a id='x1-126022r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>&gt;</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Baiju</span> 
</span><span class='label'><a id='x1-126023r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>&gt;</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>EOF</span> 
</span><span class='label'><a id='x1-126024r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Enter</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>your </span><span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>Your </span><span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>Baiju</span> 
</span><span class='label'><a id='x1-126025r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>echo </span><span class='ec-lmtt-9'>"Baiju" </span><span class='ec-lmtt-9'>&gt; </span><span class='ec-lmtt-9'>/tmp/baiju.txt</span> 
</span><span class='label'><a id='x1-126026r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>code/io/readprint.go </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>/tmp/baiju.txt</span> 
</span><span class='label'><a id='x1-126027r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Enter</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>your </span><span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>Your </span><span class='ec-lmtt-9'>name: </span><span class='ec-lmtt-9'>Baiju</span></span></pre>
<!-- l. 146 --><p class='noindent'>As you can see from this program, the <span class='ec-lmri-10'>Printf </span>function writes to standard output
and the <span class='ec-lmri-10'>Scanf </span>reads the standard input. Go can also writes to standard error
output stream. This is explained in the section about the <span class='ec-lmri-10'>io </span>package later in this
chapter.
</p>
<h3 class='sectionHead'><span class='titlemark'>9.4   </span> <a id='x1-1270009.4'></a>Using flag Package</h3>
<!-- l. 153 --><p class='noindent'>As you have noticed before <span class='ec-lmtt-10'>os.Args </span>attribute in the <span class='ec-lmri-10'>os </span>package provides access to
all command line arguments. The <span class='ec-lmri-10'>flag</span><a id='dx1-127001'></a> package provides an easy way to parse
command line arguments.
</p><!-- l. 158 --><p class='noindent'>You can define string, boolean, and integer flags among others using the <span class='ec-lmri-10'>flag</span>
package..
</p><!-- l. 161 --><p class='noindent'>Here is an integer flag declaration:
</p>
<!-- l. 163 -->
<pre class='lstlisting' id='listing-224'><span class='label'><a id='x1-127002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>pageCount </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>flag.Int("count", </span><span class='ec-lmtt-9'>240, </span><span class='ec-lmtt-9'>"number </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>pages")</span></span></pre>
                                                                           
                                                                
<!-- l. 167 --><p class='noindent'>The above code snippet defines an integer flag with name as <span class='ec-lmtt-10'>count </span>and
it is stored in a variable with the name as <span class='ec-lmtt-10'>pageCount</span>. The type of the
variable is <span class='ec-lmri-10'>*int</span>. Similar to this integer flag, you can defines flags of other
types.
</p><!-- l. 172 --><p class='noindent'>Once all the flags are defined, you can parse it like this:
</p>
<!-- l. 174 -->
<pre class='lstlisting' id='listing-225'><span class='label'><a id='x1-127003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>flag</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Parse</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span></pre>
<!-- l. 178 --><p class='noindent'>The above <span class='ec-lmtt-10'>Parse </span>function call parse the command line arguments and store the
values in the given variables.
</p><!-- l. 181 --><p class='noindent'>Once the flags are parsed, you can dereference it like this:
</p>
<!-- l. 183 -->
<pre class='lstlisting' id='listing-226'><span class='label'><a id='x1-127004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>pageCount</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>", </span><span class='ec-lmtt-9'>*pageCount)</span></span></pre>
<!-- l. 187 --><p class='noindent'>To access non-flag arguments:
</p>
<!-- l. 189 -->
<pre class='lstlisting' id='listing-227'><span class='label'><a id='x1-127005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>flag</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Args</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span></pre>
<!-- l. 193 --><p class='noindent'>The above call returns a the arguments as a slice of strings. It contains arguments
not parsed as flags.
</p><!-- l. 196 --><p class='noindent'>Cobra is a third party package providing a simple interface to create command line
interfaces. Cobra also helps to generate applications and command files. Many of
the most widely used Go projects are built using Cobra. This is the Cobra website:
<a class='url' href='https://github.com/spf13/cobra'><span class='ec-lmtt-10'>https://github.com/spf13/cobra</span></a>
</p><!-- l. 202 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>9.5   </span> <a id='x1-1280009.5'></a>String Formatting</h3>
<!-- l. 204 --><p class='noindent'>Go supports many string format<a id='dx1-128001'></a> options. To get the default format of any value,
you can use <span class='ec-lmtt-10'>%v </span>as the format string. Here is an example which print formatted
values using <span class='ec-lmtt-10'>%v</span>:
</p>
<!-- l. 209 --><pre class='lstinputlisting' id='listing-228'><span class='label'><a id='x1-128004r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-128005r2'></a></span> 
<span class='label'><a id='x1-128006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-128007r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-128008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-128009r6'></a></span> 
<span class='label'><a id='x1-128010r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-128011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>"Baiju", </span><span class='ec-lmtt-9'>"Baiju")</span> 
</span><span class='label'><a id='x1-128012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>7)</span> 
</span><span class='label'><a id='x1-128013r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>uint(7), </span><span class='ec-lmtt-9'>uint(7))</span> 
</span><span class='label'><a id='x1-128014r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>int8(7), </span><span class='ec-lmtt-9'>int8(7))</span> 
</span><span class='label'><a id='x1-128015r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>true, </span><span class='ec-lmtt-9'>true)</span> 
</span><span class='label'><a id='x1-128016r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>7.0, </span><span class='ec-lmtt-9'>7.0)</span> 
</span><span class='label'><a id='x1-128017r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>(1 </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>6i), </span><span class='ec-lmtt-9'>(1 </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>6i))</span> 
</span><span class='label'><a id='x1-128018r15'></a><span class='ec-lmr-8'>15</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 211 --><p class='noindent'>The <span class='ec-lmtt-10'>%T </span>shows the type of the value. The output of the above program will be like
this.
</p>
<!-- l. 214 -->
<pre class='lstlisting' id='listing-229'><span class='label'><a id='x1-128019r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Baiju, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-128020r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>int</span> 
</span><span class='label'><a id='x1-128021r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>uint</span> 
</span><span class='label'><a id='x1-128022r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>int8</span> 
</span><span class='label'><a id='x1-128023r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>true, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>bool</span> 
</span><span class='label'><a id='x1-128024r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-128025r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(1+6i), </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>complex128</span></span></pre>
<!-- l. 224 --><p class='noindent'>If you use a <span class='ec-lmtt-10'>%+v </span>as the format string for struct it shows the field names. See this
example:
</p>
<!-- l. 227 --><pre class='lstinputlisting' id='listing-230'><span class='label'><a id='x1-128028r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-128029r2'></a></span> 
<span class='label'><a id='x1-128030r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-128031r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-128032r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-128033r6'></a></span> 
<span class='label'><a id='x1-128034r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle</span> 
</span><span class='label'><a id='x1-128035r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-128036r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-128037r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>color</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>string</span></span> 
<span class='label'><a id='x1-128038r11'></a><span class='ec-lmr-8'>11</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-128039r12'></a></span> 
<span class='label'><a id='x1-128040r13'></a><span class='ec-lmr-8'>13</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-128041r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Circle{radius: </span><span class='ec-lmtt-9'>76.45, </span><span class='ec-lmtt-9'>color: </span><span class='ec-lmtt-9'>"blue"}</span> 
</span><span class='label'><a id='x1-128042r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v\n", </span><span class='ec-lmtt-9'>c)</span> 
</span><span class='label'><a id='x1-128043r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>with </span><span class='ec-lmtt-9'>fields: </span><span class='ec-lmtt-9'>%+v\n", </span><span class='ec-lmtt-9'>c)</span> 
</span><span class='label'><a id='x1-128044r17'></a><span class='ec-lmr-8'>17</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Type</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>c)</span> 
</span><span class='label'><a id='x1-128045r18'></a><span class='ec-lmr-8'>18</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 229 --><p class='noindent'>If you run the above program, the output is going to be like this:
</p>
<!-- l. 231 -->
<pre class='lstlisting' id='listing-231'><span class='label'><a id='x1-128046r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{76.45 </span><span class='ec-lmtt-9'>blue}</span> 
</span><span class='label'><a id='x1-128047r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>with </span><span class='ec-lmtt-9'>fields: </span><span class='ec-lmtt-9'>{radius:76.45 </span><span class='ec-lmtt-9'>color:blue}</span> 
</span><span class='label'><a id='x1-128048r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Type</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main.Circle</span></span></pre>
<!-- l. 237 --><p class='noindent'>As you can see from the output, in the first line <span class='ec-lmtt-10'>%v </span>doesn’t show the fields. But in
the second line, <span class='ec-lmtt-10'>%+v </span>shows the struct fields.
</p><!-- l. 241 --><p class='noindent'>The <span class='ec-lmtt-10'>%#v </span>shows the representation of the value. Here is a modified version of above
program to print few values of primitive type.
</p>
<!-- l. 245 --><pre class='lstinputlisting' id='listing-232'><span class='label'><a id='x1-128051r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-128052r2'></a></span> 
<span class='label'><a id='x1-128053r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-128054r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-128055r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-128056r6'></a></span> 
<span class='label'><a id='x1-128057r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-128058r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>"Baiju", </span><span class='ec-lmtt-9'>"Baiju")</span> 
</span><span class='label'><a id='x1-128059r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>7)</span> 
</span><span class='label'><a id='x1-128060r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>uint(7), </span><span class='ec-lmtt-9'>uint(7))</span> 
</span><span class='label'><a id='x1-128061r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>int8(7), </span><span class='ec-lmtt-9'>int8(7))</span> 
</span><span class='label'><a id='x1-128062r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>true, </span><span class='ec-lmtt-9'>true)</span> 
</span><span class='label'><a id='x1-128063r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>7.0, </span><span class='ec-lmtt-9'>7.0)</span> 
</span><span class='label'><a id='x1-128064r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%#v, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>%T\n", </span><span class='ec-lmtt-9'>(1 </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>6i), </span><span class='ec-lmtt-9'>(1 </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>6i))</span> 
</span><span class='label'><a id='x1-128065r15'></a><span class='ec-lmr-8'>15</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 247 -->
                                                                           
                                                                
<pre class='lstlisting' id='listing-233'><span class='label'><a id='x1-128066r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"Baiju", </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-128067r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>int</span> 
</span><span class='label'><a id='x1-128068r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>0x7, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>uint</span> 
</span><span class='label'><a id='x1-128069r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>int8</span> 
</span><span class='label'><a id='x1-128070r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>true, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>bool</span> 
</span><span class='label'><a id='x1-128071r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>7, </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-128072r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(1+6i), </span><span class='ec-lmtt-9'>Type: </span><span class='ec-lmtt-9'>complex128</span></span></pre>

<!-- l. 257 --><p class='noindent'>As you can see in the representation, strings are written within quotes. You can
also see representation of few other primitive types.
</p><!-- l. 260 --><p class='noindent'>If you want a literal <span class='ec-lmtt-10'>% </span>sign, use two <span class='ec-lmtt-10'>% </span>signs next to each other. Here is a code
snippet:
</p>
<!-- l. 263 -->
<pre class='lstlisting' id='listing-234'><span class='label'><a id='x1-128073r1'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Tom</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>scored </span><span class='ec-lmtt-9'>92%% </span><span class='ec-lmtt-9'>marks")</span></span></pre>
<!-- l. 267 --><p class='noindent'>The default string representation of custom types can be changed by implementing
<span class='ec-lmtt-10'>fmt.Stringer </span>interafce. The interface definition is like this:
</p>
<!-- l. 271 -->
<pre class='lstlisting' id='listing-235'><span class='label'><a id='x1-128074r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Stringer </span><span class='ec-lmtt-9'>interface </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-128075r2'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>String</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-128076r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 277 --><p class='noindent'>As per the <span class='ec-lmtt-10'>Stringer </span>interface, you need to create a <span class='ec-lmtt-10'>String </span>function which return a
string. Now the value printed will be whatever returned by that function. Here is an
example:
</p>
<!-- l. 282 --><pre class='lstinputlisting' id='listing-236'><span class='label'><a id='x1-128079r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-128080r2'></a></span> 
<span class='label'><a id='x1-128081r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-128082r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-128083r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>strconv</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-128084r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-128085r7'></a></span> 
<span class='label'><a id='x1-128086r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Temperature </span><span class='ec-lmtt-9'>repesent </span><span class='ec-lmtt-9'>air </span><span class='ec-lmtt-9'>temperature</span> 
</span><span class='label'><a id='x1-128087r9'></a><span class='ec-lmr-8'>9</span></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Temperature </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-128088r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-128089r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Unit</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>string</span></span> 
<span class='label'><a id='x1-128090r12'></a><span class='ec-lmr-8'>12</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-128091r13'></a></span> 
<span class='label'><a id='x1-128092r14'></a><span class='ec-lmr-8'>14</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(t </span><span class='ec-lmtt-9'>Temperature) </span><span class='ec-lmtt-9'>String() </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-128093r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>f</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>strconv.FormatFloat(t.Value, </span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>f</span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>, </span><span class='ec-lmtt-9'>2, </span><span class='ec-lmtt-9'>64)</span> 
</span><span class='label'><a id='x1-128094r16'></a><span class='ec-lmr-8'>16</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>f </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>" </span><span class='ec-lmtt-9'>degree </span><span class='ec-lmtt-9'>" </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>t.Unit</span> 
</span><span class='label'><a id='x1-128095r17'></a><span class='ec-lmr-8'>17</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-128096r18'></a></span> 
<span class='label'><a id='x1-128097r19'></a><span class='ec-lmr-8'>19</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-128098r20'></a><span class='ec-lmr-8'>20</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>temp</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Temperature{30.456, </span><span class='ec-lmtt-9'>"Celsius"}</span> 
</span><span class='label'><a id='x1-128099r21'></a><span class='ec-lmr-8'>21</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>temp</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-128100r22'></a><span class='ec-lmr-8'>22</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>temp)</span> 
</span><span class='label'><a id='x1-128101r23'></a><span class='ec-lmr-8'>23</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%+</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>temp)</span> 
</span><span class='label'><a id='x1-128102r24'></a><span class='ec-lmr-8'>24</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%#</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'><span class='ec-lmtt-9'>\</span></span><span style='color:#000000'><span class='ec-lmtt-9'>n</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>temp)</span> 
</span><span class='label'><a id='x1-128103r25'></a><span class='ec-lmr-8'>25</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 284 --><p class='noindent'>The output of the above program will be like this:
</p>
<!-- l. 286 -->
<pre class='lstlisting' id='listing-237'><span class='label'><a id='x1-128104r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>30.46</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>degree </span><span class='ec-lmtt-9'>Celsius</span> 
</span><span class='label'><a id='x1-128105r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>30.46</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>degree </span><span class='ec-lmtt-9'>Celsius</span> 
</span><span class='label'><a id='x1-128106r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>30.46</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>degree </span><span class='ec-lmtt-9'>Celsius</span> 
</span><span class='label'><a id='x1-128107r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>main</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Temperature</span></span><span style='color:#000000'><span class='ec-lmtt-9'>{</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Value</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:30.456,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Unit:"Celsius"}</span></span></pre>
<!-- l. 293 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>9.6   </span> <a id='x1-1290009.6'></a>Using io Package</h3>
                                                                
                                                                                                         
   <!-- l. 295 --><p class='noindent'>The <span class='ec-lmri-10'>io </span>package provides a set of interfaces and functions that allow developers to
   work with different types of input and output streams.
   </p><!-- l. 298 --><p class='noindent'>TODO
   </p><!-- l. 300 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>9.7   </span> <a id='x1-1300009.7'></a>Exercises</h3>
   <!-- l. 302 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Write a program to read length and width of a rectangle through
   command line arguments and print the area. Use <span class='ec-lmtt-10'>-length </span>switch to get
   length and <span class='ec-lmtt-10'>-width </span>switch to get width. Represent the rectangle using a
   struct.
   </p><!-- l. 307 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
   </p>
   <!-- l. 309 --><pre class='lstinputlisting' id='listing-238'><span class='label'><a id='x1-130002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-130003r2'></a></span> 
<span class='label'><a id='x1-130004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-130005r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>flag</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-130006r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-130007r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-130008r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-130009r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-130010r9'></a></span> 
<span class='label'><a id='x1-130011r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>rectangle </span><span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-130012r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-130013r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Length</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-130014r13'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>float64</span></span> 
<span class='label'><a id='x1-130015r14'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-130016r15'></a></span> 
<span class='label'><a id='x1-130017r16'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area </span><span class='ec-lmtt-9'>return </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>rectangle</span> 
</span><span class='label'><a id='x1-130018r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-130019r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Length </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r.Width</span> 
</span><span class='label'><a id='x1-130020r19'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-130021r20'></a></span> 
<span class='label'><a id='x1-130022r21'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>length </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>flag.Float64("length", </span><span class='ec-lmtt-9'>0, </span><span class='ec-lmtt-9'>"length </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>rectangle")</span> 
</span><span class='label'><a id='x1-130023r22'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>var</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>width </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>flag.Float64("width", </span><span class='ec-lmtt-9'>0, </span><span class='ec-lmtt-9'>"width </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>rectangle")</span> 
</span><span class='label'><a id='x1-130024r23'></a></span> 
<span class='label'><a id='x1-130025r24'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-130026r25'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>flag</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Parse</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-130027r26'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>*length </span><span class='ec-lmtt-9'>&lt;= </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-130028r27'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Invalid</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>length")</span> 
</span><span class='label'><a id='x1-130029r28'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Exit</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-130030r29'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-130031r30'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>*width </span><span class='ec-lmtt-9'>&lt;= </span><span class='ec-lmtt-9'>0 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-130032r31'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Invalid</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>width")</span> 
</span><span class='label'><a id='x1-130033r32'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Exit</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(1)</span></span> 
<span class='label'><a id='x1-130034r33'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-130035r34'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Rectangle{Length: </span><span class='ec-lmtt-9'>*length, </span><span class='ec-lmtt-9'>Width: </span><span class='ec-lmtt-9'>*width}</span> 
</span><span class='label'><a id='x1-130036r35'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>a</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>r.Area()</span> 
</span><span class='label'><a id='x1-130037r36'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>", </span><span class='ec-lmtt-9'>a)</span> 
</span><span class='label'><a id='x1-130038r37'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 311 --><p class='noindent'>You can run the program like this:
</p>
<!-- l. 313 -->
<pre class='lstlisting' id='listing-239'><span class='label'><a id='x1-130039r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>rectangle.go </span><span class='ec-lmtt-9'>-length </span><span class='ec-lmtt-9'>2.5 </span><span class='ec-lmtt-9'>-width </span><span class='ec-lmtt-9'>3.4</span> 
</span><span class='label'><a id='x1-130040r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>8.5</span></span></pre>
<!-- l. 318 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-131000'></a>Additional Exercises</h4>
<!-- l. 320 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 322 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program to format a complex number as used in mathematics.
Example: <span class='ec-lmtt-10'>2 + 5i</span>
</p><!-- l. 324 --><p class='noindent'>Use a struct like this to define the complex number:
</p>
<!-- l. 326 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-240'><span class='label'><a id='x1-131001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Complex </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-131002r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Real</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-131003r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Imaginary</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-131004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 334 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-132000'></a>Summary</h3>
<!-- l. 336 --><p class='noindent'>This chapter discussed about various input/output related functionalities in Go.
The chapter explained using command line arguments and interactive input. The
chaptered using <span class='ec-lmri-10'>flag </span>package. It also explained about various string formatting
techniques.
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.12'></a><a id='x1-132001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 10</span><br /><a id='x1-13300010'></a>Testing</h2>
  <blockquote class='quote'>
  <!-- l. 6 --><p class='noindent'><span class='ec-lmri-10'>Test as You Fly, Fly as You Test. </span>— NASA</p></blockquote>
<!-- l. 9 --><p class='noindent'>Writing automated tests helps you to improve the quality and reliability of
software. This chapter is about writing automated tests in Go. The standard library
contains a package named <span class='ec-lmri-10'>testing </span>to write tests<a id='dx1-133001'></a>. Also, the built-in Go tool has a
test runner to run tests.
</p><!-- l. 15 --><p class='noindent'>Consider this test for a <span class='ec-lmtt-10'>Hello </span>function which takes a string as input and returns
another string. The expected output string should start with "Hello," and ends with
the input value followed by an exclamation.
</p>
<!-- l. 20 --><pre class='lstinputlisting' id='listing-241'><span class='label'><a id='x1-133004r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello</span> 
</span><span class='label'><a id='x1-133005r2'></a></span> 
<span class='label'><a id='x1-133006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"testing"</span> 
</span><span class='label'><a id='x1-133007r4'></a></span> 
<span class='label'><a id='x1-133008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>TestHello(t </span><span class='ec-lmtt-9'>*testing.T) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-133009r6'></a><span class='ec-lmr-8'>6</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>out</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Hello("Tom")</span> 
</span><span class='label'><a id='x1-133010r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>out </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>Tom!" </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-133011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Fail</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-133012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-133013r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 22 --><p class='noindent'>In the first line, the package name is <span class='ec-lmtt-10'>hello </span>which is the same as the package where
the function is going to be defined. Since both test and actual code is in the same
package, the test can access any name within that package irrespective whether it is
an exported name or not. At the same, when the actual problem is compiled using
the <span class='ec-lmtt-10'>go build </span>command, the test files are ignored. The build ignores all files
with the name ending <span class='ec-lmtt-10'>_test.go</span>. Sometimes these kinds of tests are called
white-box test as it is accessing both exported and unexported names within
the package. If you only want to access exported names within the test,
you can declare the name of the test package with <span class='ec-lmtt-10'>_test </span>suffix. In this
case, that would be <span class='ec-lmtt-10'>hello_test</span>, which should work in this case as we
are only testing the exported function directly. However, to access those
exported names – in this case, a function – the package should import
explicitly.
</p><!-- l. 38 --><p class='noindent'>The line no. 5 starts the test function declaration. As per the test framework, the
function name should start with <span class='ec-lmtt-10'>Test </span>prefix. The prefix is what helps the test
runner to identify the tests that should be running.
</p><!-- l. 43 --><p class='noindent'>The input parameter <span class='ec-lmtt-10'>t </span>is a pointer of type <span class='ec-lmtt-10'>testing.T</span>. The <span class='ec-lmtt-10'>testing.T </span>type
provides functions to make the test pass or fail. It also gives functions to log
messages.
</p><!-- l. 48 --><p class='noindent'>In the line no. 6 the <span class='ec-lmtt-10'>Hello </span>function is called with "Tom" as the input string. The
return value is assigning to a variable named <span class='ec-lmtt-10'>out</span>.
                                                                
                                                                                                         
   </p><!-- l. 52 --><p class='noindent'>In line no. 7 the actual output value is checked against the expected output value.
   If the values are not matching, the <span class='ec-lmtt-10'>Fail </span>function is getting called. The particular
   function state is going to be marked as a failure when the <span class='ec-lmtt-10'>Fail </span>function is getting
   called.
   </p><!-- l. 58 --><p class='noindent'>The test is going to pass or fail based on the implementation of the <span class='ec-lmtt-10'>Hello </span>function.
   Here is an implementation of the function to satisfy the test:
   </p>
   <!-- l. 62 --><pre class='lstinputlisting' id='listing-242'><span class='label'><a id='x1-133016r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello</span> 
</span><span class='label'><a id='x1-133017r2'></a></span> 
<span class='label'><a id='x1-133018r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-133019r4'></a></span> 
<span class='label'><a id='x1-133020r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Hello </span><span class='ec-lmtt-9'>says </span><span class='ec-lmtt-9'>"Hello" </span><span class='ec-lmtt-9'>with </span><span class='ec-lmtt-9'>name</span> 
</span><span class='label'><a id='x1-133021r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Hello(name </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-133022r7'></a><span class='ec-lmr-8'>7</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fmt.Sprintf("Hello, </span><span class='ec-lmtt-9'>%s!", </span><span class='ec-lmtt-9'>name)</span> 
</span><span class='label'><a id='x1-133023r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 64 --><p class='noindent'>As you can see in the above function definition, it takes a string as an input
argument. A new string is getting constructed as per the requirement, and it
returns that value.
</p><!-- l. 68 --><p class='noindent'>Now you can run the test like this:
</p>
<!-- l. 70 -->
<pre class='lstlisting' id='listing-243'><span class='label'><a id='x1-133024r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>test</span> 
</span><span class='label'><a id='x1-133025r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>PASS</span></span> 
<span class='label'><a id='x1-133026r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hello</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span></pre>
<!-- l. 76 --><p class='noindent'>If you want to see the verbose output, use the <span class='ec-lmtt-10'>-v </span>option:
</p>
<!-- l. 78 -->
<pre class='lstlisting' id='listing-244'><span class='label'><a id='x1-133027r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>test </span><span class='ec-lmtt-9'>-v</span> 
</span><span class='label'><a id='x1-133028r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>===</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>RUN</span> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>TestHello</span></span> 
<span class='label'><a id='x1-133029r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>---</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>PASS: </span><span class='ec-lmtt-9'>TestHello </span><span class='ec-lmtt-9'>(0.00s)</span> 
</span><span class='label'><a id='x1-133030r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>PASS</span></span> 
<span class='label'><a id='x1-133031r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>hello</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span></pre>
<h3 class='sectionHead'><span class='titlemark'>10.1   </span> <a id='x1-13400010.1'></a>Failing a Test</h3>
<!-- l. 88 --><p class='noindent'>To fail a test, you need to explicitly call <span class='ec-lmtt-10'>Fail </span>function provided by the value of
<span class='ec-lmtt-10'>testing.T </span>type. As we have seen before, every test function has access to a
<span class='ec-lmtt-10'>testing.T </span>object. Usually, the name of that value is going to write as <span class='ec-lmtt-10'>t</span>. To fail a
test, you can call the <span class='ec-lmtt-10'>Fail </span>function like this:
</p>
<!-- l. 94 -->
<pre class='lstlisting' id='listing-245'><span class='label'><a id='x1-134001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Fail</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span></pre>
                                                                           
                                                                
<!-- l. 98 --><p class='noindent'>The test is going be a failure when the <span class='ec-lmtt-10'>Fail </span>function is getting called. However,
the remaining code in the same test function continue to execute. If you
want to stop executing the further lines immediately, you can call <span class='ec-lmtt-10'>FailNow</span>
function.
</p>
<!-- l. 103 -->
<pre class='lstlisting' id='listing-246'><span class='label'><a id='x1-134002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>FailNow</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span></pre>
<!-- l. 107 --><p class='noindent'>Alternatively, there are other convenient functions which give similar behavior
along with logging message. The next section discusses logging messages.
</p><!-- l. 111 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>10.2   </span> <a id='x1-13500010.2'></a>Logging Message</h3>
<!-- l. 113 --><p class='noindent'>The <span class='ec-lmtt-10'>testing.T </span>has two functions for logging, one with default formatting and the
other with the user-specified format. Both functions accept an arbitrary number of
arguments.
</p><!-- l. 117 --><p class='noindent'>The <span class='ec-lmtt-10'>Log </span>function formats its arguments using the default formats available for any
type. The behavior is similar to <span class='ec-lmtt-10'>fmt.Println </span>function. So, you can change the
formatted value by implementing the <span class='ec-lmtt-10'>fmt.Stringer </span>interface:
</p>
<!-- l. 122 -->
<pre class='lstlisting' id='listing-247'><span class='label'><a id='x1-135001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Stringer </span><span class='ec-lmtt-9'>interface </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-135002r2'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>String</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-135003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 128 --><p class='noindent'>You need to create a method named <span class='ec-lmtt-10'>String </span>which returns a string for your custom
types.
</p><!-- l. 131 --><p class='noindent'>Here is an example calling <span class='ec-lmtt-10'>Log </span>with two arguments:
</p>
<!-- l. 133 -->
<pre class='lstlisting' id='listing-248'><span class='label'><a id='x1-135004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Log</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Some</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>message", </span><span class='ec-lmtt-9'>someValue)</span></span></pre>
<!-- l. 137 --><p class='noindent'>In the above function call, there are only two arguments given, but you can pass
any number of arguments.
</p><!-- l. 140 --><p class='noindent'>The log message going to print if the test is failing. The verbose mode, the <span class='ec-lmtt-10'>-v</span>
command-line option, also log the message irrespective of whether a test fails or
not.
                                                                
                                                                                                         
   </p><!-- l. 144 --><p class='noindent'>The <span class='ec-lmtt-10'>Logf </span>function takes a string format followed by arguments expected by the
   given string format. Here is an example:
   </p>
   <!-- l. 147 -->
   <pre class='lstlisting' id='listing-249'><span class='label'><a id='x1-135005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Logf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>d</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>no. </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>lines: </span><span class='ec-lmtt-9'>%s", </span><span class='ec-lmtt-9'>34, </span><span class='ec-lmtt-9'>"More </span><span class='ec-lmtt-9'>number </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>lines")</span></span></pre>
   
<!-- l. 151 --><p class='noindent'>The <span class='ec-lmtt-10'>Logf </span>formats the values based on the given format. The <span class='ec-lmtt-10'>Logf </span>is similar to
<span class='ec-lmtt-10'>fmt.Printf </span>function.
</p><!-- l. 154 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>10.3   </span> <a id='x1-13600010.3'></a>Failing with Log Message</h3>
<!-- l. 156 --><p class='noindent'>Usually, logging and marking a test as failure happens simultaneously. The
<span class='ec-lmtt-10'>testing.T </span>has two functions for logging with failing, one with default formatting
and the other with the user-specified format. Both functions accept an arbitrary
number of arguments.
</p><!-- l. 161 --><p class='noindent'>The <span class='ec-lmtt-10'>Error </span>function is equivalent to calling <span class='ec-lmtt-10'>Log </span>followed by <span class='ec-lmtt-10'>Fail</span>. The function
signature is similar to <span class='ec-lmtt-10'>Log </span>function.
</p><!-- l. 165 --><p class='noindent'>Here is an example calling <span class='ec-lmtt-10'>Error </span>with two arguments:
</p>
<!-- l. 167 -->
<pre class='lstlisting' id='listing-250'><span class='label'><a id='x1-136001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Some</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>message", </span><span class='ec-lmtt-9'>someValue)</span></span></pre>
<!-- l. 171 --><p class='noindent'>Similar to <span class='ec-lmtt-10'>Error </span>function, the <span class='ec-lmtt-10'>Errorf </span>function is equivalent to calling <span class='ec-lmtt-10'>Logf</span>
followed by <span class='ec-lmtt-10'>Fail</span>. The function signature is similar to <span class='ec-lmtt-10'>Logf </span>function.
</p><!-- l. 175 --><p class='noindent'>The <span class='ec-lmtt-10'>Errorf </span>function takes a string format followed by arguments expected by the
given string format. Here is an example:
</p>
<!-- l. 178 -->
<pre class='lstlisting' id='listing-251'><span class='label'><a id='x1-136002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Errorf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>d</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>no. </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>lines: </span><span class='ec-lmtt-9'>%s", </span><span class='ec-lmtt-9'>34, </span><span class='ec-lmtt-9'>"More </span><span class='ec-lmtt-9'>number </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>lines")</span></span></pre>
<!-- l. 182 --><p class='noindent'>The <span class='ec-lmtt-10'>Errorf </span>formats the values based on the given format.
                                                                                                         
                                                                
</p><!-- l. 184 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>10.4   </span> <a id='x1-13700010.4'></a>Skipping Test</h3>
<!-- l. 186 --><p class='noindent'>When writing tests, there are situations where particular tests need not run. Some
tests might have written for a specific environment. The criteria for running tests
could be CPU architecture, operating system or any other parameter. The <span class='ec-lmri-10'>testing</span>
package has functions to mark test for skipping.
</p><!-- l. 192 --><p class='noindent'>The <span class='ec-lmtt-10'>SkipNow </span>function call marks the test as having been skipped. It stops the
current test execution. If the test has marked as failed before skipping, that
particular test is yet considered to have failed. The <span class='ec-lmtt-10'>SkipNow </span>function doesn’t accept
any argument. Here is a simple example:
</p>
<!-- l. 198 --><pre class='lstinputlisting' id='listing-252'><span class='label'><a id='x1-137003r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello</span> 
</span><span class='label'><a id='x1-137004r2'></a></span> 
<span class='label'><a id='x1-137005r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-137006r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>runtime</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-137007r5'></a><span class='ec-lmr-8'>5</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>testing</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-137008r6'></a><span class='ec-lmr-8'>6</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-137009r7'></a></span> 
<span class='label'><a id='x1-137010r8'></a><span class='ec-lmr-8'>8</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>TestHello(t </span><span class='ec-lmtt-9'>*testing.T) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-137011r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>runtime.GOOS </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>"linux" </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-137012r10'></a><span class='ec-lmr-8'>10</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>SkipNow</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-137013r11'></a><span class='ec-lmr-8'>11</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-137014r12'></a><span class='ec-lmr-8'>12</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>out</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Hello("Tom")</span> 
</span><span class='label'><a id='x1-137015r13'></a><span class='ec-lmr-8'>13</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>out </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>Tom!" </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-137016r14'></a><span class='ec-lmr-8'>14</span></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Fail</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span> 
<span class='label'><a id='x1-137017r15'></a><span class='ec-lmr-8'>15</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-137018r16'></a><span class='ec-lmr-8'>16</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 200 --><p class='noindent'>If you run the above code on a Linux system, you can see the test has skipped. The
output is going to be something like this:
</p>
<!-- l. 203 -->
<pre class='lstlisting' id='listing-253'><span class='label'><a id='x1-137019r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>test </span><span class='ec-lmtt-9'>. </span><span class='ec-lmtt-9'>-v</span> 
</span><span class='label'><a id='x1-137020r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>===</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>RUN</span> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>TestHello</span></span> 
<span class='label'><a id='x1-137021r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>---</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>SKIP: </span><span class='ec-lmtt-9'>TestHello </span><span class='ec-lmtt-9'>(0.00s)</span> 
</span><span class='label'><a id='x1-137022r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>PASS</span></span> 
<span class='label'><a id='x1-137023r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>skip</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span></pre>
<!-- l. 211 --><p class='noindent'>As you can see from the output, the test has skipped execution.
</p><!-- l. 213 --><p class='noindent'>There are two more convenient functions similar to <span class='ec-lmtt-10'>Error </span>and <span class='ec-lmtt-10'>Errorf</span>.
Those functions are <span class='ec-lmtt-10'>Skip </span>and <span class='ec-lmtt-10'>Skipf</span>. These functions help you to log a
message before skipping. The message could be the reason for skipping the
test.
</p><!-- l. 218 --><p class='noindent'>Here is an example:
</p>
<!-- l. 220 -->
<pre class='lstlisting' id='listing-254'><span class='label'><a id='x1-137024r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Skip</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Some</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>reason </span><span class='ec-lmtt-9'>message", </span><span class='ec-lmtt-9'>someValue)</span></span></pre>
<!-- l. 224 --><p class='noindent'>The <span class='ec-lmtt-10'>Skipf </span>function takes a string format followed by arguments expected by the
given string format. Here is an example:
</p>
<!-- l. 227 -->
                                                                
                                                                                                         
   <pre class='lstlisting' id='listing-255'><span class='label'><a id='x1-137025r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Skipf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>d</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>no. </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>lines: </span><span class='ec-lmtt-9'>%s", </span><span class='ec-lmtt-9'>34, </span><span class='ec-lmtt-9'>"More </span><span class='ec-lmtt-9'>number </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>lines")</span></span></pre>
   
<!-- l. 231 --><p class='noindent'>The <span class='ec-lmtt-10'>Skipf </span>formats the values based on the given format.
</p><!-- l. 233 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>10.5   </span> <a id='x1-13800010.5'></a>Parallel Running</h3>
<!-- l. 235 --><p class='noindent'>You can mark a test to run in parallel. To do so, you can call the <span class='ec-lmtt-10'>t.Parallel</span>
function. The test is going to run in parallel to other tests marked parallel.
</p><!-- l. 239 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>10.6   </span> <a id='x1-13900010.6'></a>Sub Tests</h3>
<!-- l. 241 --><p class='noindent'>The Go testing package allows you to group related tests together in a hierarchical
form. You can define multiple related tests under a single-parent test using the
‘Run‘ method.
</p><!-- l. 245 --><p class='noindent'>To create a subtest, you use the <span class='ec-lmtt-10'>t.Run() </span>method. The <span class='ec-lmtt-10'>t.Run() </span>method takes two
arguments: the name of the subtest and the body of the subtest. The body of the
subtest is a regular Go function.
</p><!-- l. 249 --><p class='noindent'>For example, the following code creates a subtest called <span class='ec-lmtt-10'>foo</span>:
</p>
<!-- l. 251 -->
<pre class='lstlisting' id='listing-256'><span class='label'><a id='x1-139001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>TestBar(t </span><span class='ec-lmtt-9'>*testing.T) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-139002r2'></a></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Run</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>foo</span></span><span style='color:#000000'><span class='ec-lmtt-9'>",</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func(t </span><span class='ec-lmtt-9'>*testing.T) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-139003r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>This </span><span class='ec-lmtt-9'>is </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>body </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>subtest.</span> 
</span><span class='label'><a id='x1-139004r4'></a></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>})</span></span> 
<span class='label'><a id='x1-139005r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 259 --><p class='noindent'>Subtests are reported separately from each other. This means that if a subtest fails,
the test runner will report the failure for that subtest only. The parent test will still
be considered to have passed.
</p><!-- l. 263 --><p class='noindent'>Subtests can be used to test different aspects of a function or method. For example,
you could use subtests to test different input values, different output values, or
different error conditions.
</p><!-- l. 267 --><p class='noindent'>Subtests can also be used to test different implementations of a function or method.
For example, you could use subtests to test a function that is implemented in Go
and a function that is implemented in C.
                                                                                                         
                                                                
</p><!-- l. 271 --><p class='noindent'>Subtests are a powerful feature of the Go testing package. They can be used to
organize your tests, make them easier to read and maintain, and test different
aspects of your code.
</p><!-- l. 279 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>10.7   </span> <a id='x1-14000010.7'></a>Exercises</h3>
<!-- l. 281 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Create a package with a function to return the sum of two integers
and write a test for the same.
</p><!-- l. 284 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p><!-- l. 286 --><p class='noindent'><span class='ec-lmri-10'>sum.go</span>:
</p>
<!-- l. 288 --><pre class='lstinputlisting' id='listing-257'><span class='label'><a id='x1-140002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sum</span> 
</span><span class='label'><a id='x1-140003r2'></a></span> 
<span class='label'><a id='x1-140004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Add </span><span class='ec-lmtt-9'>adds </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>integers</span> 
</span><span class='label'><a id='x1-140005r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Add(first, </span><span class='ec-lmtt-9'>second </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>int </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-140006r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>first </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>second</span> 
</span><span class='label'><a id='x1-140007r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 290 --><p class='noindent'><span class='ec-lmri-10'>sum_test.go</span>:
</p>
<!-- l. 292 --><pre class='lstinputlisting' id='listing-258'><span class='label'><a id='x1-140009r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sum</span> 
</span><span class='label'><a id='x1-140010r2'></a></span> 
<span class='label'><a id='x1-140011r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"testing"</span> 
</span><span class='label'><a id='x1-140012r4'></a></span> 
<span class='label'><a id='x1-140013r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>TestAdd(t </span><span class='ec-lmtt-9'>*testing.T) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-140014r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>out</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Add(2, </span><span class='ec-lmtt-9'>3)</span> 
</span><span class='label'><a id='x1-140015r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>out </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>5 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-140016r8'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sum</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>2 </span><span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>3:", </span><span class='ec-lmtt-9'>out)</span> 
</span><span class='label'><a id='x1-140017r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-140018r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 294 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-141000'></a>Additional Exercises</h4>
<!-- l. 296 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 298 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program to fail test and not continue with remaining
tests.
                                                                
                                                                                                         
   </p><!-- l. 300 --><p class='noindent'>
   </p>
   <h3 class='likesectionHead'><a id='x1-142000'></a>Summary</h3>
   <!-- l. 302 --><p class='noindent'>This chapter explained writing tests using the <span class='ec-lmri-10'>testing </span>package. It covered how to
   mark a test as a failure, logging, skipping, and parallel running. Also, it briefly
   touched upon sub-tests.
                                                                                                         
                                                                
<a id='likesection.13'></a><a id='x1-142001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='chapterHead'><span class='titlemark'>Chapter 11</span><br /><a id='x1-14300011'></a>Tooling</h2>
  <blockquote class='quote'>
  <!-- l. 6 --><p class='noindent'><span class='ec-lmri-10'>We become what we behold. We shape our tools, and thereafter our
  </span><span class='ec-lmri-10'>tools shape us. </span>— Marshall McLuhan</p></blockquote>
<!-- l. 9 --><p class='noindent'>Good support for lots of useful tools is another strength of Go. Apart from the
built-in tools, there any many other community-built tools. This chapter covers the
built-in Go tools and few other external tools.
</p><!-- l. 14 --><p class='noindent'>The built-in Go tools can access through the <span class='ec-lmtt-10'>go </span>command. When you install the Go
compiler (<span class='ec-lmtt-10'>gc</span>); the <span class='ec-lmtt-10'>go </span>tool is available in the path. The <span class='ec-lmtt-10'>go </span>tool has many
commands. You can use the <span class='ec-lmtt-10'>go </span>tool to compile Go programs, run test cases, and
format source files among other things.
</p>
<h3 class='sectionHead'><span class='titlemark'>11.1   </span> <a id='x1-14400011.1'></a>Getting Help</h3>
<!-- l. 22 --><p class='noindent'>The go tool is self-documented<a id='dx1-144001'></a>. You can get help about any commands easily. To
see the list of all commands, you can run the <span class='ec-lmtt-10'>"help" </span>command. For example, to see
help for <span class='ec-lmtt-10'>build </span>command, you can run like this:
</p>
<!-- l. 27 -->
<pre class='lstlisting' id='listing-259'><span class='label'><a id='x1-144002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>help </span><span class='ec-lmtt-9'>build</span></span></pre>

<!-- l. 31 --><p class='noindent'>The help command also provides help for specific topics like "buildmode", "cache",
"filetype", and "environment" among other topics. To see help for a specific topic,
you can run the command like this:
</p>
<!-- l. 36 -->
<pre class='lstlisting' id='listing-260'><span class='label'><a id='x1-144003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>help </span><span class='ec-lmtt-9'>environment</span></span></pre>
<!-- l. 40 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>11.2   </span> <a id='x1-14500011.2'></a>Basic Information</h3>
                                                                
                                                                                                         
   <!-- l. 42 --><p class='noindent'>
   </p>
   <h4 class='subsectionHead'><a id='x1-146000'></a>Version</h4>
   <!-- l. 44 --><p class='noindent'>When reporting bugs, it is essential to specify the Go version<a id='dx1-146001'></a> number and
   environment details. The Go tool gives access to this information through the
   following commands.
   </p><!-- l. 48 --><p class='noindent'>To get version information, run this command<a id='dx1-146002'></a>:
   </p>
   <!-- l. 50 -->
   <pre class='lstlisting' id='listing-261'><span class='label'><a id='x1-146003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>version</span></span></pre>
   
<!-- l. 54 --><p class='noindent'>The output should look something like this:
</p>
<!-- l. 56 -->
<pre class='lstlisting' id='listing-262'><span class='label'><a id='x1-146004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>version </span><span class='ec-lmtt-9'>go1.20.4 </span><span class='ec-lmtt-9'>linux/amd64</span></span></pre>
<!-- l. 60 --><p class='noindent'>As you can see, it shows the version number followed by operating system and CPU
architecture.
</p><!-- l. 63 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-147000'></a>Environment</h4>
<!-- l. 65 --><p class='noindent'>To get environment variables, you can run this command<a id='dx1-147001'></a>:
</p>
<!-- l. 67 -->
<pre class='lstlisting' id='listing-263'><span class='label'><a id='x1-147002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>env</span></span></pre>
<!-- l. 71 --><p class='noindent'>The output should display all the environment variables used by the Go tool when
running different commands.
</p><!-- l. 74 --><p class='noindent'>A typical output will look like this:
</p>
<!-- l. 76 -->
<pre class='lstlisting' id='listing-264'><span class='label'><a id='x1-147003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GO111MODULE</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147004r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOARCH</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>amd64</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147005r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOBIN</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147006r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOCACHE</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>cache</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>build</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147007r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOENV</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>config</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>env</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147008r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOEXE</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147009r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOEXPERIMENT</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147010r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOFLAGS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147011r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOHOSTARCH</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>amd64</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147012r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOHOSTOS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>linux</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147013r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOINSECURE</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147014r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOMODCACHE</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>pkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mod</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147015r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GONOPROXY</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147016r14'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GONOSUMDB</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147017r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOOS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>linux</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147018r16'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOPATH</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147019r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOPRIVATE</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147020r18'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOPROXY</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>https</span></span><span style='color:#000000'><span class='ec-lmtt-9'>://</span></span><span style='color:#000000'><span class='ec-lmtt-9'>proxy</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>golang</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>org</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'><span class='ec-lmtt-9'>direct</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147021r19'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOROOT</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>usr</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>local</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147022r20'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOSUMDB</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sum</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>golang</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>org</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147023r21'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOTMPDIR</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147024r22'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOTOOLDIR</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>usr</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>local</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>pkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>tool</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>linux_amd64</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147025r23'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOVCS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147026r24'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOVERSION</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.20.4"</span></span> 
<span class='label'><a id='x1-147027r25'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GCCGO</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>gccgo</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147028r26'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOAMD64</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147029r27'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>AR</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>ar</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147030r28'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>CC</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>gcc</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147031r29'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>CXX</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>g</span></span><span style='color:#000000'><span class='ec-lmtt-9'>++"</span></span> 
<span class='label'><a id='x1-147032r30'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>CGO_ENABLED</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="1"</span></span> 
<span class='label'><a id='x1-147033r31'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOMOD</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>dev</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>null</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147034r32'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOWORK</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147035r33'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>CGO_CFLAGS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>O2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>-g"</span> 
</span><span class='label'><a id='x1-147036r34'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>CGO_CPPFLAGS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=""</span></span> 
<span class='label'><a id='x1-147037r35'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>CGO_CXXFLAGS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>O2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>-g"</span> 
</span><span class='label'><a id='x1-147038r36'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>CGO_FFLAGS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>O2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>-g"</span> 
</span><span class='label'><a id='x1-147039r37'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>CGO_LDFLAGS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>O2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>-g"</span> 
</span><span class='label'><a id='x1-147040r38'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>PKG_CONFIG</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="</span></span><span style='color:#000000'><span class='ec-lmtt-9'>pkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>config</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-147041r39'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>GOGCCFLAGS</span></span><span style='color:#000000'><span class='ec-lmtt-9'>="-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fPIC</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>-m64 </span><span class='ec-lmtt-9'>-pthread </span><span class='ec-lmtt-9'>-Wl,--no-gc-sections </span><span class='ec-lmtt-9'>-fmessage-length=0</span> 
</span><span class='label'><a id='x1-147042r40'></a></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fdebug</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>prefix</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>map</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>tmp</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>build1378738152</span></span><span style='color:#000000'><span class='ec-lmtt-9'>=/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>tmp</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>build</span></span> 
<span class='label'><a id='x1-147043r41'></a></span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>gno</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>record</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>gcc</span></span><span style='color:#000000'><span class='ec-lmtt-9'>-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>switches</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span></pre>
                                                                           
                                                                
<!-- l. 120 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-148000'></a>List</h4>
<!-- l. 122 --><p class='noindent'>The <span class='ec-lmri-10'>list </span>command provides meta information about packages. Running without any
arguments shows the current packages import path. The <span class='ec-lmri-10'>-f </span>helps to extract more
information, and it can specify a format. The <span class='ec-lmri-10'>text/template </span>package syntax can be
used to specify the format.
</p><!-- l. 128 --><p class='noindent'>The struct used to format has many attributes, here is a subset:
</p>
  <ul class='itemize1'>
  <li class='itemize'><span class='ec-lmri-10'>Dir </span>– directory containing package sources
  </li>
  <li class='itemize'><span class='ec-lmri-10'>ImportPath </span>– import path of package in dir
  </li>
  <li class='itemize'><span class='ec-lmri-10'>ImportComment </span>– path in import comment on package statement
  </li>
  <li class='itemize'><span class='ec-lmri-10'>Name </span>– package name
  </li>
  <li class='itemize'><span class='ec-lmri-10'>Doc </span>– package documentation string
  </li>
  <li class='itemize'><span class='ec-lmri-10'>Target </span>– install path
  </li>
  <li class='itemize'><span class='ec-lmri-10'>GoFiles </span>– list of <span class='ec-lmtt-10'>.go </span>source files</li></ul>
<!-- l. 140 --><p class='noindent'>Here is an example usage:
</p>
<!-- l. 142 -->
<pre class='lstlisting' id='listing-265'><span class='label'><a id='x1-148001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>list </span><span class='ec-lmtt-9'>-f </span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>{{.GoFiles}}</span><span class='ts1-lmtt9-'>' </span><span class='ec-lmtt-9'>text/template</span> 
</span><span class='label'><a id='x1-148002r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>[</span></span><span style='color:#000000'><span class='ec-lmtt-9'>doc</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>exec.go </span><span class='ec-lmtt-9'>funcs.go </span><span class='ec-lmtt-9'>helper.go </span><span class='ec-lmtt-9'>option.go </span><span class='ec-lmtt-9'>template.go]</span></span></pre>

                                                                
                                                                           
   <!-- l. 147 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>11.3   </span> <a id='x1-14900011.3'></a>Building and Running</h3>
   <!-- l. 149 --><p class='noindent'>To compile a program, you can use the <span class='ec-lmtt-10'>build </span>command<a id='dx1-149001'></a>. To compile a package, first
   change to the directory where the program is located and run the <span class='ec-lmtt-10'>build</span>
   command:
   </p>
   <!-- l. 154 -->
   <pre class='lstlisting' id='listing-266'><span class='label'><a id='x1-149002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>build</span></span></pre>
   
<!-- l. 158 --><p class='noindent'>You can also compile Go programs without changing the directory. To do that, you
are required to specify the package location in the command line. For example, to
compile <span class='ec-lmtt-10'>github.com/baijum/introduction </span>package run the command given
below:
</p>
<!-- l. 164 -->
<pre class='lstlisting' id='listing-267'><span class='label'><a id='x1-149003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>build </span><span class='ec-lmtt-9'>github.com/baijum/introduction</span></span></pre>
<!-- l. 168 --><p class='noindent'>If you want to set the executable binary file name, use the <span class='ec-lmtt-10'>-o </span>option:
</p>
<!-- l. 171 -->
<pre class='lstlisting' id='listing-268'><span class='label'><a id='x1-149004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>build </span><span class='ec-lmtt-9'>-o </span><span class='ec-lmtt-9'>myprog</span></span></pre>
<!-- l. 175 --><p class='noindent'>If you want to build and run at once, you can use the <span class='ec-lmtt-10'>"run" </span>command:
</p>
<!-- l. 178 -->
<pre class='lstlisting' id='listing-269'><span class='label'><a id='x1-149005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>program.go</span></span></pre>
<!-- l. 182 --><p class='noindent'>You can specify more that one Go source file in the command line arguments:
</p>
<!-- l. 185 -->
<pre class='lstlisting' id='listing-270'><span class='label'><a id='x1-149006r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>run </span><span class='ec-lmtt-9'>file1.go </span><span class='ec-lmtt-9'>file2.go </span><span class='ec-lmtt-9'>file3.go</span></span></pre>
<!-- l. 189 --><p class='noindent'>Of course, when you specify more than one file names, only one "main" function
should be defined among all of the files.
                                                                                                         
                                                                
</p><!-- l. 192 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-150000'></a>Conditional Compilation</h4>
<!-- l. 194 --><p class='noindent'>Sometimes you need to write code specific to a particular operating system. In some
other case the code for a particular CPU architecture. It could be code optimized
for that particular combination. The Go build tool supports conditional
compilation using build constraints. The Build constraint is also known as
build tag. There is another approach for conditional compilation using a
naming convention for files names. This section is going to discuss both these
approaches.
</p><!-- l. 203 --><p class='noindent'>The build tag should be given as comments at the top of the source code. The build
tag comment should start like this:
</p>
<!-- l. 206 -->
<pre class='lstlisting' id='listing-271'><span class='label'><a id='x1-150001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>+build</span></span></pre>

<!-- l. 210 --><p class='noindent'>The comment should be before package documentation and there should be a line
in between.
</p><!-- l. 213 --><p class='noindent'>The space is <span class='ec-lmri-10'>OR </span>and comma is <span class='ec-lmri-10'>AND</span>. The exclamation character is stands for
negation.
</p><!-- l. 216 --><p class='noindent'>Here is an example:
</p>
<!-- l. 218 -->
<pre class='lstlisting' id='listing-272'><span class='label'><a id='x1-150002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>+build </span><span class='ec-lmtt-9'>linux,386</span></span></pre>
<!-- l. 222 --><p class='noindent'>In the above example, the file will compile on 32-bit x86 Linux system.
</p>
<!-- l. 225 -->
<pre class='lstlisting' id='listing-273'><span class='label'><a id='x1-150003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>+build </span><span class='ec-lmtt-9'>linux </span><span class='ec-lmtt-9'>darwin</span></span></pre>
<!-- l. 229 --><p class='noindent'>The above one compiles on Linux or Darwin (Mac OS).
</p>
<!-- l. 231 -->
<pre class='lstlisting' id='listing-274'><span class='label'><a id='x1-150004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>+build </span><span class='ec-lmtt-9'>!linux</span></span></pre>
<!-- l. 235 --><p class='noindent'>The above runs on anything that is not Linux.
                                                                
                                                                                                         
   </p><!-- l. 237 --><p class='noindent'>The other approach uses file naming convention for conditional compilation. The
   files are ignore if it doesn’t match the target OS and CPU architecture, if
   any.
   </p><!-- l. 241 --><p class='noindent'>This compiles only on Linux:
   </p>
   <!-- l. 243 -->
   <pre class='lstlisting' id='listing-275'><span class='label'><a id='x1-150005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>stat_linux</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span></pre>
   
<!-- l. 247 --><p class='noindent'>This one on 64 bit ARM linux:
</p>
<!-- l. 249 -->
<pre class='lstlisting' id='listing-276'><span class='label'><a id='x1-150006r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>os_linux_arm64</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span></pre>
<!-- l. 253 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>11.4   </span> <a id='x1-15100011.4'></a>Running Test</h3>
<!-- l. 255 --><p class='noindent'>The Go tool has a built-in test runner<a id='dx1-151001'></a>. To run tests for the current package, run
this command:
</p>
<!-- l. 258 -->
<pre class='lstlisting' id='listing-277'><span class='label'><a id='x1-151002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>test</span></span></pre>
<!-- l. 262 --><p class='noindent'>To demonstrate the remaining commands, consider packages organized like
this:
</p>
<!-- l. 265 -->
<pre class='lstlisting' id='listing-278'><span class='label'><a id='x1-151003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span> 
<span class='label'><a id='x1-151004r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>|--</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello.go</span> 
</span><span class='label'><a id='x1-151005r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>|--</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello_test.go</span> 
</span><span class='label'><a id='x1-151006r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>|--</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sub1</span> 
</span><span class='label'><a id='x1-151007r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>|</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>|--</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sub1.go</span> 
</span><span class='label'><a id='x1-151008r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>|</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>--</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sub1_test.go</span> 
</span><span class='label'><a id='x1-151009r7'></a></span><span style='color:#000000'><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>--</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sub2</span> 
</span><span class='label'><a id='x1-151010r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>|--</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sub2.go</span> 
</span><span class='label'><a id='x1-151011r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ts1-lmtt9-'>`</span><span class='ec-lmtt-9'>--</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>sub2_test.go</span></span></pre>
<!-- l. 277 --><p class='noindent'>If you run <span class='ec-lmtt-10'>go test </span>from the top-level directory, it’s going to run tests in
that directory, and not any sub directories. You can specify directories as
command line arguments to <span class='ec-lmtt-10'>go test </span>command to run tests under multiple
packages simultaneously. In the above listed case, you can run all tests like
this:
</p>
<!-- l. 283 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-279'><span class='label'><a id='x1-151012r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>test </span><span class='ec-lmtt-9'>. </span><span class='ec-lmtt-9'>./sub1 </span><span class='ec-lmtt-9'>./sub2</span></span></pre>

<!-- l. 287 --><p class='noindent'>Instead of listing each packages separates, you can use the ellipsis syntax:
</p>
<!-- l. 290 -->
<pre class='lstlisting' id='listing-280'><span class='label'><a id='x1-151013r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>test </span><span class='ec-lmtt-9'>./...</span></span></pre>
<!-- l. 294 --><p class='noindent'>The above command run tests under current directory and its child directories.
</p><!-- l. 297 --><p class='noindent'>By default <span class='ec-lmtt-10'>go test </span>shows very few details about the tests.
</p>
<!-- l. 299 -->
<pre class='lstlisting' id='listing-281'><span class='label'><a id='x1-151014r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>test </span><span class='ec-lmtt-9'>./...</span> 
</span><span class='label'><a id='x1-151015r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span> 
<span class='label'><a id='x1-151016r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sub1</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span> 
<span class='label'><a id='x1-151017r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>---</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>FAIL: </span><span class='ec-lmtt-9'>TestSub </span><span class='ec-lmtt-9'>(0.00s)</span> 
</span><span class='label'><a id='x1-151018r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>FAIL</span></span> 
<span class='label'><a id='x1-151019r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>FAIL</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>   </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sub2</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>0.003</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span></pre>
<!-- l. 308 --><p class='noindent'>In the above results, it shows the name of failed test. But details about other
passing tests are not available. If you want to see verbose results, use the <span class='ec-lmtt-10'>-v</span>
option.
</p>
<!-- l. 312 -->
<pre class='lstlisting' id='listing-282'><span class='label'><a id='x1-151020r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>test </span><span class='ec-lmtt-9'>./... </span><span class='ec-lmtt-9'>-v</span> 
</span><span class='label'><a id='x1-151021r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>===</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>RUN</span> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>TestHello</span></span> 
<span class='label'><a id='x1-151022r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>---</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>PASS: </span><span class='ec-lmtt-9'>TestHello </span><span class='ec-lmtt-9'>(0.00s)</span> 
</span><span class='label'><a id='x1-151023r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>PASS</span></span> 
<span class='label'><a id='x1-151024r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span> 
<span class='label'><a id='x1-151025r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>===</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>RUN</span> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>TestSub</span></span> 
<span class='label'><a id='x1-151026r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>---</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>PASS: </span><span class='ec-lmtt-9'>TestSub </span><span class='ec-lmtt-9'>(0.00s)</span> 
</span><span class='label'><a id='x1-151027r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>PASS</span></span> 
<span class='label'><a id='x1-151028r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sub1</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span> 
<span class='label'><a id='x1-151029r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>===</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>RUN</span> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>TestSub</span></span> 
<span class='label'><a id='x1-151030r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>---</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>FAIL: </span><span class='ec-lmtt-9'>TestSub </span><span class='ec-lmtt-9'>(0.00s)</span> 
</span><span class='label'><a id='x1-151031r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>FAIL</span></span> 
<span class='label'><a id='x1-151032r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>FAIL</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>   </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sub2</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>0.002</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span></pre>
<!-- l. 328 --><p class='noindent'>If you need to filter tests based on the name, you can use the <span class='ec-lmtt-10'>-run </span>option.
</p>
<!-- l. 331 -->
<pre class='lstlisting' id='listing-283'><span class='label'><a id='x1-151033r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>test </span><span class='ec-lmtt-9'>./... </span><span class='ec-lmtt-9'>-v </span><span class='ec-lmtt-9'>-run </span><span class='ec-lmtt-9'>Sub</span> 
</span><span class='label'><a id='x1-151034r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>testing</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>warning: </span><span class='ec-lmtt-9'>no </span><span class='ec-lmtt-9'>tests </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>run</span> 
</span><span class='label'><a id='x1-151035r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>PASS</span></span> 
<span class='label'><a id='x1-151036r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>[no </span><span class='ec-lmtt-9'>tests </span><span class='ec-lmtt-9'>to </span><span class='ec-lmtt-9'>run]</span> 
</span><span class='label'><a id='x1-151037r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>===</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>RUN</span> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>TestSub</span></span> 
<span class='label'><a id='x1-151038r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>---</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>PASS: </span><span class='ec-lmtt-9'>TestSub </span><span class='ec-lmtt-9'>(0.00s)</span> 
</span><span class='label'><a id='x1-151039r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>PASS</span></span> 
<span class='label'><a id='x1-151040r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>ok</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sub1</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>0.001</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span> 
<span class='label'><a id='x1-151041r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>===</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>RUN</span> </span><span class='ec-lmtt-9'>  </span><span style='color:#000000'><span class='ec-lmtt-9'>TestSub</span></span> 
<span class='label'><a id='x1-151042r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>---</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>FAIL: </span><span class='ec-lmtt-9'>TestSub </span><span class='ec-lmtt-9'>(0.00s)</span> 
</span><span class='label'><a id='x1-151043r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>FAIL</span></span> 
<span class='label'><a id='x1-151044r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>FAIL</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>   </span><span style='color:#000000'><span class='ec-lmtt-9'>_</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>home</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>baiju</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>code</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>mypkg</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sub2</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>0.002</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span></pre>
<!-- l. 346 --><p class='noindent'>As you can see above, the <span class='ec-lmtt-10'>TestHello </span>test was skipped as it doesn’t match "Sub"
pattern.
</p><!-- l. 349 --><p class='noindent'>The chapter on testing has more details about writing test cases.
</p><!-- l. 351 --><p class='noindent'><span class='ec-lmri-10'>golangci-lint</span><a id='dx1-151045'></a> is a handy program to run various lint tools and normalize their output.
This program is useful to run through continuous integration. You can download
the program from here:     <a class='url' href='https://github.com/golangci/golangci-lint'><span class='ec-lmtt-10'>https://github.com/golangci/golangci-lint</span></a><br class='newline' />
</p><!-- l. 356 --><p class='noindent'>The supported lint tools include Vet, Golint, Varcheck, Errcheck, Deadcode,
Gocyclo among others. <span class='ec-lmri-10'>golangci-lint </span>allows to enable/disable the lint tools through
a configuration file.
                                                                
                                                                                                         
   </p><!-- l. 360 --><p class='noindent'>
   </p>
   <h3 class='sectionHead'><span class='titlemark'>11.5   </span> <a id='x1-15200011.5'></a>Formatting Code</h3>
   <!-- l. 362 --><p class='noindent'>Go has a recommended source code formatting<a id='dx1-152001'></a>. To format any Go source file to
   conform to that format, it’s just a matter of running one command. Normally
   you can integrate this command with your text editor or IDE. But if you
   really want to invoke this program from command line, this is how you do
   it:
   </p>
   <!-- l. 368 -->
   <pre class='lstlisting' id='listing-284'><span class='label'><a id='x1-152002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fmt </span><span class='ec-lmtt-9'>myprogram.go</span></span></pre>
   
<!-- l. 372 --><p class='noindent'>In the above command, the source file name is explicitly specified. You can also give
package name:
</p>
<!-- l. 375 -->
<pre class='lstlisting' id='listing-285'><span class='label'><a id='x1-152003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fmt </span><span class='ec-lmtt-9'>github.com/baijum/introduction</span></span></pre>
<!-- l. 379 --><p class='noindent'>The command will format source files and write it back to the same file. Also it will
list the files that is formatted.
</p><!-- l. 382 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>11.6   </span> <a id='x1-15300011.6'></a>Displaying Documentation</h3>
<!-- l. 384 --><p class='noindent'>Go has good support for writing documentation along with source code<a id='dx1-153001'></a>. You can
write documentation for packages, functions and custom defined types. The Go tool
can be used to display those documentation.
</p><!-- l. 389 --><p class='noindent'>To see the documentation for the current packages, run this command:
</p>
<!-- l. 391 -->
<pre class='lstlisting' id='listing-286'><span class='label'><a id='x1-153002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>doc</span></span></pre>
<!-- l. 395 --><p class='noindent'>To see documentation for a specific package:
</p>
<!-- l. 397 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-287'><span class='label'><a id='x1-153003r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>doc </span><span class='ec-lmtt-9'>strings</span></span></pre>

<!-- l. 401 --><p class='noindent'>The above command shows documentation for the "strings" package.
</p>
<!-- l. 403 -->
<pre class='lstlisting' id='listing-288'><span class='label'><a id='x1-153004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>doc </span><span class='ec-lmtt-9'>strings</span></span></pre>
<!-- l. 407 --><p class='noindent'>If you want to see documentation for a particular function within that
package:
</p>
<!-- l. 410 -->
<pre class='lstlisting' id='listing-289'><span class='label'><a id='x1-153005r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>doc </span><span class='ec-lmtt-9'>strings.ToLower</span></span></pre>
<!-- l. 414 --><p class='noindent'>or a type:
</p>
<!-- l. 416 -->
<pre class='lstlisting' id='listing-290'><span class='label'><a id='x1-153006r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>doc </span><span class='ec-lmtt-9'>strings.Reader</span></span></pre>
<!-- l. 420 --><p class='noindent'>Or a method:
</p>
<!-- l. 422 -->
<pre class='lstlisting' id='listing-291'><span class='label'><a id='x1-153007r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>doc </span><span class='ec-lmtt-9'>strings.Reader.Size</span></span></pre>
<!-- l. 426 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>11.7   </span> <a id='x1-15400011.7'></a>Find Suspicious Code Using Vet</h3>
<!-- l. 428 --><p class='noindent'>There is a handy tool named <span class='ec-lmri-10'>vet</span><a id='dx1-154001'></a> to find suspicious code in your program. Your
program might compile and run. But some of the results may not be desired
output.
</p><!-- l. 432 --><p class='noindent'>Consider this program:
</p>
<!-- l. 434 --><pre class='lstinputlisting' id='listing-292'><span class='label'><a id='x1-154004r1'></a><span class='ec-lmr-8'> </span></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-154005r2'></a></span> 
<span class='label'><a id='x1-154006r3'></a><span class='ec-lmr-8'>3</span></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-154007r4'></a><span class='ec-lmr-8'>4</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-154008r5'></a><span class='ec-lmr-8'>5</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-154009r6'></a></span> 
<span class='label'><a id='x1-154010r7'></a><span class='ec-lmr-8'>7</span></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-154011r8'></a><span class='ec-lmr-8'>8</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>1</span> 
</span><span class='label'><a id='x1-154012r9'></a><span class='ec-lmr-8'>9</span></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%#</span></span><span style='color:#000000'><span class='ec-lmtt-9'>v</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%s\n", </span><span class='ec-lmtt-9'>v)</span> 
</span><span class='label'><a id='x1-154013r10'></a><span class='ec-lmr-8'>10</span></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 436 --><p class='noindent'>If you compile and run it. It’s going to be give some output. But if you observe the
code, there is an unnecessary <span class='ec-lmtt-10'>%s </span>format string.
</p><!-- l. 440 --><p class='noindent'>If you run <span class='ec-lmtt-10'>vet </span>command, you can see the issue:
</p>
<!-- l. 446 -->
<pre class='lstlisting' id='listing-293'><span class='label'><a id='x1-154014r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>vet </span><span class='ec-lmtt-9'>susp.go</span> 
</span><span class='label'><a id='x1-154015r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>#</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>command-line-arguments</span> 
</span><span class='label'><a id='x1-154016r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>./</span></span><span style='color:#000000'><span class='ec-lmtt-9'>susp</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:9:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Printf </span><span class='ec-lmtt-9'>format </span><span class='ec-lmtt-9'>%s </span><span class='ec-lmtt-9'>reads </span><span class='ec-lmtt-9'>arg </span><span class='ec-lmtt-9'>#2,</span> 
</span><span class='label'><a id='x1-154017r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>but</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>call </span><span class='ec-lmtt-9'>has </span><span class='ec-lmtt-9'>only </span><span class='ec-lmtt-9'>1 </span><span class='ec-lmtt-9'>arg</span></span></pre>
<!-- l. 453 --><p class='noindent'>Note: The <span class='ec-lmri-10'>vet </span>command is automatically run along with the <span class='ec-lmri-10'>test </span>command.
</p><!-- l. 456 --><p class='noindent'>
</p>
<h3 class='sectionHead'><span class='titlemark'>11.8   </span> <a id='x1-15500011.8'></a>Exercises</h3>
<!-- l. 458 --><p class='noindent'><span class='ec-lmbx-10'>Exercise 1: </span>Create a program with function to return "Hello, world!" and write
test and run it.
</p><!-- l. 461 --><p class='noindent'><span class='ec-lmri-10'>hello.go</span>:
</p>
<!-- l. 463 -->
<pre class='lstlisting' id='listing-294'><span class='label'><a id='x1-155001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello</span> 
</span><span class='label'><a id='x1-155002r2'></a></span> 
<span class='label'><a id='x1-155003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>SayHello </span><span class='ec-lmtt-9'>returns </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>"Hello </span><span class='ec-lmtt-9'>word!" </span><span class='ec-lmtt-9'>message</span> 
</span><span class='label'><a id='x1-155004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>SayHello() </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-155005r5'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>world!"</span> 
</span><span class='label'><a id='x1-155006r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 472 --><p class='noindent'><span class='ec-lmri-10'>hello_test.go</span>:
</p>
<!-- l. 474 -->
<pre class='lstlisting' id='listing-295'><span class='label'><a id='x1-155007r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>hello</span> 
</span><span class='label'><a id='x1-155008r2'></a></span> 
<span class='label'><a id='x1-155009r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"testing"</span> 
</span><span class='label'><a id='x1-155010r4'></a></span> 
<span class='label'><a id='x1-155011r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>TestSayHello(t </span><span class='ec-lmtt-9'>*testing.T) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-155012r6'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>out</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>SayHello()</span> 
</span><span class='label'><a id='x1-155013r7'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>out </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>"Hello, </span><span class='ec-lmtt-9'>world!" </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-155014r8'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Incorrect</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>message", </span><span class='ec-lmtt-9'>out)</span> 
</span><span class='label'><a id='x1-155015r9'></a></span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-155016r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 487 --><p class='noindent'>To run the test:
</p>
<!-- l. 489 -->
<pre class='lstlisting' id='listing-296'><span class='label'><a id='x1-155017r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>test </span><span class='ec-lmtt-9'>. </span><span class='ec-lmtt-9'>-v</span></span></pre>
                                                                           
                                                                
<!-- l. 493 --><p class='noindent'>
</p>
<h4 class='subsectionHead'><a id='x1-156000'></a>Additional Exercises</h4>
<!-- l. 495 --><p class='noindent'>Answers to these additional exercises are given in the Appendix A.
</p><!-- l. 497 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program with exported type and methods with documentation
strings. Then print the documentation using <span class='ec-lmtt-10'>go doc </span>command.
</p><!-- l. 501 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-157000'></a>Summary</h3>
<!-- l. 503 --><p class='noindent'>This chapter introduced the Go tool. All the Go commands were explained in
detail. Practical example usage was also given for each command. The
chapter coverd how to build and run programs, running tests, formatting
code, and displaying documentation. It also touched upon few other handy
tools.
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.14'></a><a id='x1-157001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='likechapterHead'><a id='x1-158000'></a>Appendix A: Answers</h2>
<p><a id='Q1-1-345'></a>
</p><h3 class='likesectionHead'><a id='x1-159000'></a>Chapter 2: Quickstart</h3>
<!-- l. 9 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a function to check whether the first letter in a given string is
capital letters in English (A,B,C,D etc).
</p><!-- l. 12 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 14 -->
<pre class='lstlisting' id='listing-297'><span class='label'><a id='x1-159001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-159002r2'></a></span> 
<span class='label'><a id='x1-159003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-159004r4'></a></span> 
<span class='label'><a id='x1-159005r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>StartsCapital(s </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>bool </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-159006r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_, </span><span class='ec-lmtt-9'>v </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>"ABCDEFGHIJKLMNOPQRSTUVWXYZ" </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-159007r7'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string(s[0]) </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>string(v) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-159008r8'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-159009r9'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-159010r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-159011r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>false</span> 
</span><span class='label'><a id='x1-159012r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-159013r13'></a></span> 
<span class='label'><a id='x1-159014r14'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-159015r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>h</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>StartsCapital("Hello")</span> 
</span><span class='label'><a id='x1-159016r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>h</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-159017r17'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>w</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>StartsCapital("world")</span> 
</span><span class='label'><a id='x1-159018r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>w</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-159019r19'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 36 --><p class='noindent'><span class='ec-lmbx-10'>Problem 2: </span>Write a function to generate Fibonacci numbers below a given
value.
</p><!-- l. 39 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 41 -->
<pre class='lstlisting' id='listing-298'><span class='label'><a id='x1-159020r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-159021r2'></a></span> 
<span class='label'><a id='x1-159022r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-159023r4'></a></span> 
<span class='label'><a id='x1-159024r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Fib(n </span><span class='ec-lmtt-9'>int) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-159025r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>i, </span><span class='ec-lmtt-9'>j </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>0, </span><span class='ec-lmtt-9'>1; </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>n; </span><span class='ec-lmtt-9'>i, </span><span class='ec-lmtt-9'>j </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>i+j, </span><span class='ec-lmtt-9'>i </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-159026r7'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>i</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-159027r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-159028r9'></a></span> 
<span class='label'><a id='x1-159029r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-159030r11'></a></span> 
<span class='label'><a id='x1-159031r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-159032r13'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Fib</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(200)</span></span> 
<span class='label'><a id='x1-159033r14'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 58 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-160000'></a>Chapter 3: Control Structures</h3>
<!-- l. 60 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program to print greetings based on time. Possible greetings
are Good morning, Good afternoon and Good evening.
</p><!-- l. 63 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 65 -->
                                                                
                                                                                           
   <pre class='lstlisting' id='listing-299'><span class='label'><a id='x1-160001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-160002r2'></a></span> 
<span class='label'><a id='x1-160003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-160004r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-160005r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-160006r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-160007r7'></a></span> 
<span class='label'><a id='x1-160008r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-160009r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>time.Now()</span> 
</span><span class='label'><a id='x1-160010r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>switch</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-160011r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>t.Hour() </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>12:</span> 
</span><span class='label'><a id='x1-160012r12'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Good</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>morning!")</span> 
</span><span class='label'><a id='x1-160013r13'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>case</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>t.Hour() </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>17:</span> 
</span><span class='label'><a id='x1-160014r14'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Good</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>afternoon.")</span> 
</span><span class='label'><a id='x1-160015r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>default</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span> 
<span class='label'><a id='x1-160016r16'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Good</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>evening.")</span> 
</span><span class='label'><a id='x1-160017r17'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-160018r18'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
   
<!-- l. 86 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-161000'></a>Chapter 4: Data Structures</h3>
<!-- l. 88 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>A program to record temperatures in different locations and
functionality to check whether its freezing or not.
</p><!-- l. 92 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 94 -->
<pre class='lstlisting' id='listing-300'><span class='label'><a id='x1-161001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-161002r2'></a></span> 
<span class='label'><a id='x1-161003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-161004r4'></a></span> 
<span class='label'><a id='x1-161005r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Temperature </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-161006r6'></a></span> 
<span class='label'><a id='x1-161007r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(t </span><span class='ec-lmtt-9'>Temperature) </span><span class='ec-lmtt-9'>Freezing() </span><span class='ec-lmtt-9'>bool </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-161008r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>t </span><span class='ec-lmtt-9'>&lt; </span><span class='ec-lmtt-9'>Temperature(0.0) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-161009r9'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-161010r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-161011r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>false</span> 
</span><span class='label'><a id='x1-161012r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-161013r13'></a></span> 
<span class='label'><a id='x1-161014r14'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-161015r15'></a></span> 
<span class='label'><a id='x1-161016r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>temperatures</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>map[string]Temperature{</span> 
</span><span class='label'><a id='x1-161017r17'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>New</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>York":</span> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>9.3,</span></span> 
<span class='label'><a id='x1-161018r18'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>London</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>   </span><span style='color:#000000'><span class='ec-lmtt-9'>13.5,</span></span> 
<span class='label'><a id='x1-161019r19'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>New</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Delhi": </span><span class='ec-lmtt-9'>31.5,</span> 
</span><span class='label'><a id='x1-161020r20'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Montreal</span></span><span style='color:#000000'><span class='ec-lmtt-9'>":</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>-9.0,</span></span> 
<span class='label'><a id='x1-161021r21'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-161022r22'></a></span> 
<span class='label'><a id='x1-161023r23'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>location</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>"New </span><span class='ec-lmtt-9'>Delhi"</span> 
</span><span class='label'><a id='x1-161024r24'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>location</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>temperatures[location].Freezing())</span> 
</span><span class='label'><a id='x1-161025r25'></a></span> 
<span class='label'><a id='x1-161026r26'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>location</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>"Montreal"</span> 
</span><span class='label'><a id='x1-161027r27'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>location</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>temperatures[location].Freezing())</span> 
</span><span class='label'><a id='x1-161028r28'></a></span> 
<span class='label'><a id='x1-161029r29'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 126 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-162000'></a>Chapter 5: Functions &amp; Methods</h3>
<!-- l. 128 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program with a function to calculate perimeter of a
circle.
</p><!-- l. 130 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 132 -->
<pre class='lstlisting' id='listing-301'><span class='label'><a id='x1-162001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-162002r2'></a></span> 
<span class='label'><a id='x1-162003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-162004r4'></a></span> 
<span class='label'><a id='x1-162005r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-162006r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-162007r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-162008r8'></a></span> 
<span class='label'><a id='x1-162009r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area </span><span class='ec-lmtt-9'>return </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle </span><span class='ec-lmtt-9'>for </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>given </span><span class='ec-lmtt-9'>radius</span> 
</span><span class='label'><a id='x1-162010r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-162011r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius</span> 
</span><span class='label'><a id='x1-162012r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-162013r13'></a></span> 
<span class='label'><a id='x1-162014r14'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-162015r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Circle{5.0}</span> 
</span><span class='label'><a id='x1-162016r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>c</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'><span class='ec-lmtt-9'>())</span></span> 
<span class='label'><a id='x1-162017r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 152 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-163000'></a>Chapter 6: Interfaces</h3>
<!-- l. 154 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Implement the built-in <span class='ec-lmtt-10'>error </span>interface for a custom data type. This is
how the <span class='ec-lmtt-10'>error </span>interface is defined:
</p>
<!-- l. 156 -->
                                                                                                         
                                                                
<pre class='lstlisting' id='listing-302'><span class='label'><a id='x1-163001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>error </span><span class='ec-lmtt-9'>interface </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-163002r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'><span class='ec-lmtt-9'>()</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-163003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>

<!-- l. 162 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 164 -->
<pre class='lstlisting' id='listing-303'><span class='label'><a id='x1-163004r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-163005r2'></a></span> 
<span class='label'><a id='x1-163006r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-163007r4'></a></span> 
<span class='label'><a id='x1-163008r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>UnauthorizedError </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-163009r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>UserID</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>string</span> 
</span><span class='label'><a id='x1-163010r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-163011r8'></a></span> 
<span class='label'><a id='x1-163012r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(e </span><span class='ec-lmtt-9'>UnauthorizedError) </span><span class='ec-lmtt-9'>Error() </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-163013r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"User </span><span class='ec-lmtt-9'>not </span><span class='ec-lmtt-9'>authorised: </span><span class='ec-lmtt-9'>" </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>e.UserID</span> 
</span><span class='label'><a id='x1-163014r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-163015r12'></a></span> 
<span class='label'><a id='x1-163016r13'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>SomeAction() </span><span class='ec-lmtt-9'>error </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-163017r14'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>UnauthorizedError{"jack"}</span> 
</span><span class='label'><a id='x1-163018r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-163019r16'></a></span> 
<span class='label'><a id='x1-163020r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-163021r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>err</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>SomeAction()</span> 
</span><span class='label'><a id='x1-163022r19'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-163023r20'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>err</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-163024r21'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-163025r22'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 189 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-164000'></a>Chapter 7: Concurrency</h3>
<!-- l. 191 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program to watch log files and detect any entry with a
particular word.
</p><!-- l. 194 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 196 -->
<pre class='lstlisting' id='listing-304'><span class='label'><a id='x1-164001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-164002r2'></a></span> 
<span class='label'><a id='x1-164003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(</span> 
</span><span class='label'><a id='x1-164004r4'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>bufio</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-164005r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-164006r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-164007r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>os</span></span><span style='color:#000000'><span class='ec-lmtt-9'>/</span></span><span style='color:#000000'><span class='ec-lmtt-9'>signal</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-164008r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>strings</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-164009r9'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>"</span></span> 
<span class='label'><a id='x1-164010r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-164011r11'></a></span> 
<span class='label'><a id='x1-164012r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>watch(word, </span><span class='ec-lmtt-9'>fp </span><span class='ec-lmtt-9'>string) </span><span class='ec-lmtt-9'>error </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164013r13'></a></span> 
<span class='label'><a id='x1-164014r14'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>f</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>os.Open(fp)</span> 
</span><span class='label'><a id='x1-164015r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164016r16'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err</span> 
</span><span class='label'><a id='x1-164017r17'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-164018r18'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>r</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>bufio.NewReader(f)</span> 
</span><span class='label'><a id='x1-164019r19'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>defer</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>f.Close()</span> 
</span><span class='label'><a id='x1-164020r20'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164021r21'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>line</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>r.ReadBytes(</span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>\n</span><span class='ts1-lmtt9-'>'</span><span class='ec-lmtt-9'>)</span> 
</span><span class='label'><a id='x1-164022r22'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err </span><span class='ec-lmtt-9'>!= </span><span class='ec-lmtt-9'>nil </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164023r23'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>err.Error() </span><span class='ec-lmtt-9'>== </span><span class='ec-lmtt-9'>"EOF" </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164024r24'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sleep</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>time.Second)</span> 
</span><span class='label'><a id='x1-164025r25'></a></span><span class='ec-lmtt-9'>                </span><span style='color:#000000'><span class='ec-lmtt-9'>continue</span></span> 
<span class='label'><a id='x1-164026r26'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-164027r27'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Error</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>%s\n%v\n", </span><span class='ec-lmtt-9'>line, </span><span class='ec-lmtt-9'>err)</span> 
</span><span class='label'><a id='x1-164028r28'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-164029r29'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>if</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>strings.Contains(string(line), </span><span class='ec-lmtt-9'>word) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164030r30'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Printf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("%</span></span><span style='color:#000000'><span class='ec-lmtt-9'>s</span></span><span style='color:#000000'><span class='ec-lmtt-9'>:</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Matched: </span><span class='ec-lmtt-9'>%s\n", </span><span class='ec-lmtt-9'>fp, </span><span class='ec-lmtt-9'>line)</span> 
</span><span class='label'><a id='x1-164031r31'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-164032r32'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>time</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Sleep</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(2</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>time.Second)</span> 
</span><span class='label'><a id='x1-164033r33'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-164034r34'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-164035r35'></a></span> 
<span class='label'><a id='x1-164036r36'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164037r37'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>word</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>os.Args[1]</span> 
</span><span class='label'><a id='x1-164038r38'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>files</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>[]string{}</span> 
</span><span class='label'><a id='x1-164039r39'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_, </span><span class='ec-lmtt-9'>f </span><span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>os.Args[2:len(os.Args)] </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164040r40'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>files</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>append(files, </span><span class='ec-lmtt-9'>f)</span> 
</span><span class='label'><a id='x1-164041r41'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>watch(word, </span><span class='ec-lmtt-9'>f)</span> 
</span><span class='label'><a id='x1-164042r42'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-164043r43'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>sig</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make(chan </span><span class='ec-lmtt-9'>os.Signal, </span><span class='ec-lmtt-9'>1)</span> 
</span><span class='label'><a id='x1-164044r44'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>done</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>make(chan </span><span class='ec-lmtt-9'>bool)</span> 
</span><span class='label'><a id='x1-164045r45'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>signal</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Notify</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>sig</span></span><span style='color:#000000'><span class='ec-lmtt-9'>,</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>os.Interrupt)</span> 
</span><span class='label'><a id='x1-164046r46'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>go</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>func() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164047r47'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>for</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>_ </span><span class='ec-lmtt-9'>= </span><span class='ec-lmtt-9'>range </span><span class='ec-lmtt-9'>sig </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-164048r48'></a></span><span class='ec-lmtt-9'>            </span><span style='color:#000000'><span class='ec-lmtt-9'>done</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>&lt;- </span><span class='ec-lmtt-9'>true</span> 
</span><span class='label'><a id='x1-164049r49'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-164050r50'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>}()</span></span> 
<span class='label'><a id='x1-164051r51'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>&lt;-</span></span><span style='color:#000000'><span class='ec-lmtt-9'>done</span></span> 
<span class='label'><a id='x1-164052r52'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 251 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-165000'></a>Chapter 8: Packages</h3>
<!-- l. 253 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Create a package with 3 source files and another <span class='ec-lmri-10'>doc.go </span>for
documentation. The package should provide functions to calculate areas for circle,
rectangle, and triangle.
</p><!-- l. 257 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p><!-- l. 259 --><p class='noindent'>circle.go:
</p>
<!-- l. 261 -->
<pre class='lstlisting' id='listing-305'><span class='label'><a id='x1-165001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-165002r2'></a></span> 
<span class='label'><a id='x1-165003r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle </span><span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-165004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-165005r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-165006r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-165007r7'></a></span> 
<span class='label'><a id='x1-165008r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area </span><span class='ec-lmtt-9'>return </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle</span> 
</span><span class='label'><a id='x1-165009r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-165010r10'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius</span> 
</span><span class='label'><a id='x1-165011r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
                                                                
                                                                           
   <!-- l. 275 --><p class='noindent'>rectangle.go:
</p>
<!-- l. 277 -->
<pre class='lstlisting' id='listing-306'><span class='label'><a id='x1-165012r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-165013r2'></a></span> 
<span class='label'><a id='x1-165014r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>rectangle </span><span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-165015r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Rectangle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-165016r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Length</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-165017r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Width</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-165018r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-165019r8'></a></span> 
<span class='label'><a id='x1-165020r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area </span><span class='ec-lmtt-9'>return </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>rectangle</span> 
</span><span class='label'><a id='x1-165021r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(r </span><span class='ec-lmtt-9'>Rectangle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-165022r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>r.Length </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>r.Width</span> 
</span><span class='label'><a id='x1-165023r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 292 --><p class='noindent'>triangle.go:
</p>
<!-- l. 294 -->
<pre class='lstlisting' id='listing-307'><span class='label'><a id='x1-165024r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-165025r2'></a></span> 
<span class='label'><a id='x1-165026r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Triangle </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>rectangle </span><span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-165027r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Triangle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-165028r5'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Breadth</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-165029r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Height</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-165030r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-165031r8'></a></span> 
<span class='label'><a id='x1-165032r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area </span><span class='ec-lmtt-9'>return </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>triangle</span> 
</span><span class='label'><a id='x1-165033r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(t </span><span class='ec-lmtt-9'>Triangle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-165034r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(t.Breadth </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>t.Height)/2</span> 
</span><span class='label'><a id='x1-165035r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 309 --><p class='noindent'>doc.go:
</p>
<!-- l. 311 -->
<pre class='lstlisting' id='listing-308'><span class='label'><a id='x1-165036r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Package </span><span class='ec-lmtt-9'>shape </span><span class='ec-lmtt-9'>provides </span><span class='ec-lmtt-9'>areas </span><span class='ec-lmtt-9'>for </span><span class='ec-lmtt-9'>different </span><span class='ec-lmtt-9'>shapes</span> 
</span><span class='label'><a id='x1-165037r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>This </span><span class='ec-lmtt-9'>includes </span><span class='ec-lmtt-9'>circle, </span><span class='ec-lmtt-9'>rectangle, </span><span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>triangle.</span></span></pre>
<!-- l. 316 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-166000'></a>Chapter 9: Input/Output</h3>
<!-- l. 318 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program to format a complex number as used in mathematics.
Example: <span class='ec-lmtt-10'>2 + 5i</span>
</p><!-- l. 320 --><p class='noindent'>Use a struct like this to define the complex number:
</p>
<!-- l. 322 -->
<pre class='lstlisting' id='listing-309'><span class='label'><a id='x1-166001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Complex </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-166002r2'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Real</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-166003r3'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Imaginary</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-166004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 329 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 331 --><pre class='lstinputlisting' id='listing-310'><span class='label'><a id='x1-166006r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-166007r2'></a></span> 
<span class='label'><a id='x1-166008r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"fmt"</span> 
</span><span class='label'><a id='x1-166009r4'></a></span> 
<span class='label'><a id='x1-166010r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Complex </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-166011r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Real</span></span><span style='color:#000000'> </span><span class='ec-lmtt-9'>     </span><span style='color:#000000'><span class='ec-lmtt-9'>float64</span></span> 
<span class='label'><a id='x1-166012r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Imaginary</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-166013r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-166014r9'></a></span> 
<span class='label'><a id='x1-166015r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Complex) </span><span class='ec-lmtt-9'>String() </span><span class='ec-lmtt-9'>string </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-166016r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>fmt.Sprintf("%.02f </span><span class='ec-lmtt-9'>+ </span><span class='ec-lmtt-9'>%.02fi", </span><span class='ec-lmtt-9'>c.Real, </span><span class='ec-lmtt-9'>c.Imaginary)</span> 
</span><span class='label'><a id='x1-166017r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-166018r13'></a></span> 
<span class='label'><a id='x1-166019r14'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main() </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-166020r15'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>c1</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>:= </span><span class='ec-lmtt-9'>Complex{Real: </span><span class='ec-lmtt-9'>2.3, </span><span class='ec-lmtt-9'>Imaginary: </span><span class='ec-lmtt-9'>5}</span> 
</span><span class='label'><a id='x1-166021r16'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>fmt</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Println</span></span><span style='color:#000000'><span class='ec-lmtt-9'>(</span></span><span style='color:#000000'><span class='ec-lmtt-9'>c1</span></span><span style='color:#000000'><span class='ec-lmtt-9'>)</span></span> 
<span class='label'><a id='x1-166022r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
                                                                           
                                                                
<!-- l. 333 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-167000'></a>Chapter 10: Testing</h3>
<!-- l. 335 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program to fail test and not continue with remaining
tests.
</p><!-- l. 337 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p>
<!-- l. 339 --><pre class='lstinputlisting' id='listing-311'><span class='label'><a id='x1-167002r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>main</span> 
</span><span class='label'><a id='x1-167003r2'></a></span> 
<span class='label'><a id='x1-167004r3'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>import</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>"testing"</span> 
</span><span class='label'><a id='x1-167005r4'></a></span> 
<span class='label'><a id='x1-167006r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>TestHelloWorld(t </span><span class='ec-lmtt-9'>*testing.T) </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-167007r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Errorf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>First</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>error </span><span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>continue")</span> 
</span><span class='label'><a id='x1-167008r7'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Fatalf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Second</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>error </span><span class='ec-lmtt-9'>and </span><span class='ec-lmtt-9'>not </span><span class='ec-lmtt-9'>continue")</span> 
</span><span class='label'><a id='x1-167009r8'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>t</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Errorf</span></span><span style='color:#000000'><span class='ec-lmtt-9'>("</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Third</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>error </span><span class='ec-lmtt-9'>does </span><span class='ec-lmtt-9'>not </span><span class='ec-lmtt-9'>display")</span> 
</span><span class='label'><a id='x1-167010r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span>
</pre>
<!-- l. 341 --><p class='noindent'>
</p>
<h3 class='likesectionHead'><a id='x1-168000'></a>Chapter 11: Tooling</h3>
<!-- l. 343 --><p class='noindent'><span class='ec-lmbx-10'>Problem 1: </span>Write a program with exported type and methods with documentation
strings. Then print the documentation using <span class='ec-lmtt-10'>go doc </span>command.
</p><!-- l. 347 --><p class='noindent'><span class='ec-lmbx-10'>Solution:</span>
</p><!-- l. 349 --><p class='noindent'>Here is the package definition for a circle object:
</p>
<!-- l. 351 -->
<pre class='lstlisting' id='listing-312'><span class='label'><a id='x1-168001r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Package </span><span class='ec-lmtt-9'>defines </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle </span><span class='ec-lmtt-9'>object</span> 
</span><span class='label'><a id='x1-168002r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>circle</span> 
</span><span class='label'><a id='x1-168003r3'></a></span> 
<span class='label'><a id='x1-168004r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle </span><span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-168005r5'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-168006r6'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-168007r7'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-168008r8'></a></span> 
<span class='label'><a id='x1-168009r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>//</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Area </span><span class='ec-lmtt-9'>return </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle</span> 
</span><span class='label'><a id='x1-168010r10'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64 </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-168011r11'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>return</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>3.14 </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius </span><span class='ec-lmtt-9'>* </span><span class='ec-lmtt-9'>c.Radius</span> 
</span><span class='label'><a id='x1-168012r12'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span></pre>
<!-- l. 366 --><p class='noindent'>The docs can be accessed like this:
</p>
<!-- l. 368 -->
<pre class='lstlisting' id='listing-313'><span class='label'><a id='x1-168013r1'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>doc</span> 
</span><span class='label'><a id='x1-168014r2'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>circle </span><span class='ec-lmtt-9'>// </span><span class='ec-lmtt-9'>import </span><span class='ec-lmtt-9'>"."</span> 
</span><span class='label'><a id='x1-168015r3'></a></span> 
<span class='label'><a id='x1-168016r4'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>Package</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>defines </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle </span><span class='ec-lmtt-9'>object</span> 
</span><span class='label'><a id='x1-168017r5'></a></span> 
<span class='label'><a id='x1-168018r6'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct{ </span><span class='ec-lmtt-9'>... </span><span class='ec-lmtt-9'>}</span> 
</span><span class='label'><a id='x1-168019r7'></a></span> 
<span class='label'><a id='x1-168020r8'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>doc</span> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>Circle</span></span> 
<span class='label'><a id='x1-168021r9'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>type</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>Circle </span><span class='ec-lmtt-9'>struct </span><span class='ec-lmtt-9'>{</span> 
</span><span class='label'><a id='x1-168022r10'></a></span><span class='ec-lmtt-9'>        </span><span style='color:#000000'><span class='ec-lmtt-9'>Radius</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-168023r11'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>}</span></span> 
<span class='label'><a id='x1-168024r12'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Circle</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>represents </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle </span><span class='ec-lmtt-9'>shape</span> 
</span><span class='label'><a id='x1-168025r13'></a></span> 
<span class='label'><a id='x1-168026r14'></a></span> 
<span class='label'><a id='x1-168027r15'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-168028r16'></a></span> 
<span class='label'><a id='x1-168029r17'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>$</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>go </span><span class='ec-lmtt-9'>doc</span> </span><span class='ec-lmtt-9'> </span><span style='color:#000000'><span class='ec-lmtt-9'>Circle</span></span><span style='color:#000000'><span class='ec-lmtt-9'>.</span></span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span> 
<span class='label'><a id='x1-168030r18'></a></span><span style='color:#000000'><span class='ec-lmtt-9'>func</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>(c </span><span class='ec-lmtt-9'>Circle) </span><span class='ec-lmtt-9'>Area() </span><span class='ec-lmtt-9'>float64</span> 
</span><span class='label'><a id='x1-168031r19'></a></span><span class='ec-lmtt-9'>    </span><span style='color:#000000'><span class='ec-lmtt-9'>Area</span></span><span style='color:#000000'> <span class='ec-lmtt-9'>return </span><span class='ec-lmtt-9'>the </span><span class='ec-lmtt-9'>area </span><span class='ec-lmtt-9'>of </span><span class='ec-lmtt-9'>a </span><span class='ec-lmtt-9'>circle</span></span></pre>
                                                                
                                                                           
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                           
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.15'></a><a id='x1-168032x'></a>
                                                                
                                                                           
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                           
                                                                
</p>
<h2 class='likechapterHead'><a id='x1-169000'></a>Further Readings</h2>
<p><a id='Q1-1-359'></a>
</p><!-- l. 7 --><p class='noindent'>[1] Drew Neil, <span class='ec-lmri-10'>Practical Vim: Edit Text at the Speed of Thought</span>,The Pragmatic
Bookshelf, Raleigh, 2012.
</p><!-- l. 10 --><p class='noindent'>[2] Erich Gamma, Ralph Johnson, John Vlissides, and Richard Helm, <span class='ec-lmri-10'>Design
</span><span class='ec-lmri-10'>Patterns: Elements of Reusable Object-Oriented Software</span>, Addison-Wesley
Professional, Massachusetts, 1994.
</p><!-- l. 14 --><p class='noindent'>[3] C. A. R. Hoare, <span class='ec-lmri-10'>Communicating Sequential Processes</span>, Prentice Hall
International, 1985.
</p><!-- l. 17 --><p class='noindent'>[4] Kent Beck and Cynthia Andres, <span class='ec-lmri-10'>Extreme Programming Explained: Embrace
</span><span class='ec-lmri-10'>Change (XP Series)</span>, Addison-Wesley Professional, Massachusetts, 2nd edition,
2004.
</p><!-- l. 21 --><p class='noindent'>[5] Scott Chacon and Ben Straub, <span class='ec-lmri-10'>Pro Git</span>, Apress, New York 2014.
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 1 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 1 --><p class='noindent'>
                                                                                                         
                                                                
</p><!-- l. 2 --><p class='noindent'><a id='likesection.16'></a><a id='x1-169001x'></a>
                                                                
                                                                                                         
   </p>
   <div class='center'>
   <!-- l. 3 --><p class='noindent'>
   </p>
   </div>
   <!-- l. 3 --><p class='noindent'>
                                                                                                         
                                                                
</p>
<h2 class='likechapterHead'><a id='x1-170000'></a>Colophon</h2>
<!-- l. 6 --><p class='noindent'>The print version of this book is typeset by the author in Dejavu &amp; Source Code
Pro typeface using the TeX system. It used LaTeX macros and <span class='HoLogo-XeTeX'><span class='HoLogo-Xe'>X<span class='HoLogo-e'>Ǝ</span></span><span class='HoLogo-TeX'>T<span class='HoLogo-e'>E</span>X</span></span> extension.
There are many other TeX packages used in the preparation of this book. The
book uses two variants of Dejavu typeface: DejaVuSerif and DejaVuSans. It also
uses SourceCodePro for the monospace text.
</p><!-- l. 13 --><p class='noindent'>The picture used in the book cover is taken from <a href='https://commons.wikimedia.org/wiki/File:The_ladder_of_life_is_full_of_splinters.jpg'>Wikimedia Commons</a>. The
original photo is from Mykl Roventine and he has licensed it under Creativce
Commons <a href='https://creativecommons.org/licenses/by/2.0'>CC BY 2.0</a> license.
</p><!-- l. 20 --><p class='noindent'>The type faces used for cover design includes Cabin, CabinCondensed, and
DejaVuSans.
</p><!-- l. 23 --><p class='noindent'>The eBook is creeated from the LaTeX source using <span class='ec-lmri-10'>tex4ebook </span>and <span class='ec-lmri-10'>Calibre</span>. The
<span class='ec-lmri-10'>tex4ebook </span>is built on top of <a href='http://www.tug.org/tex4ht'>tex4ht</a> system.
</p><!-- l. 27 --><p class='noindent'>I am grateful to all these free/open source projects. Thanks to all the contributors
of these projects.
</p>
<h3 class='likesectionHead'><a id='x1-171000'></a>Feedback</h3>
<!-- l. 32 --><p class='noindent'>Please send your feedback to <a href='mailto:baiju.m.mail@gmail.com'>baiju.m.mail@gmail.com</a> I would appreciate your
tweets and reviews on Amazon and other websites. More information is available on
the book source repository:<br class='newline' /><a class='url' href='https://github.com/baijum/essential-go'><span class='ec-lmtt-10'>https://github.com/baijum/essential-go</span></a>
                                                                
                                                                   
   </p><!-- l. 41 --><p class='noindent'>
   </p>
   <h3 class='likesectionHead'><a id='x1-172000'></a>About the Author</h3>
   <!-- l. 43 --><p class='noindent'>Baiju Muthukadan is a software engineer based in Kerala, India. He started his
   software development career in 2002. Baiju has contributed to many free/open
   source software over the last so many years. He wrote his first book related to
   Python in 2007. Since 2013 he is working on various Go projects. Twitter:
   <a href='https://twitter.com/baijum'>@baijum</a>
                                                                                                         
                                                                
</p>
 
</body> 
</html>